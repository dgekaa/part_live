{"ast":null,"code":"var _jsxFileName = \"D:\\\\GitHub\\\\party_live_web\\\\src\\\\pages\\\\editCompany\\\\EditCompany.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport Header from \"../../components/header/Header\";\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\nimport Loader from \"../../components/loader/Loader\";\nimport QUERY from \"../../query\";\nimport \"./editCompany.css\";\nimport { Redirect, Link } from \"react-router-dom\";\n\nconst EditCompany = () => {\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\n  const [isShowMenu, setIsShowMenu] = useState(false);\n\n  const hideSideMenu = () => {\n    setShowSlideSideMenu(false);\n    document.body.style.overflow = \"visible\";\n    setIsShowMenu(false);\n  };\n\n  const showSideMenu = () => {\n    setShowSlideSideMenu(true);\n    document.body.style.overflow = \"hidden\";\n    setIsShowMenu(true);\n  };\n\n  window.onresize = function (e) {\n    hideSideMenu();\n  };\n\n  const [cookies, setCookie, removeCookie] = useCookies([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [places, setPlaces] = useState([]);\n  useEffect(() => {\n    QUERY({\n      query: `query {\n            places {id name}\n          }`\n    }).then(res => {\n      return res.json();\n    }).then(data => {\n      if (!data.errors) {\n        setIsLoading(false);\n        setPlaces(data.data.places);\n        console.log(data.data.places, \" edit compani  DATA\");\n      } else {\n        console.log(data.errors, \" ERRORS\");\n      }\n    }).catch(err => {\n      console.log(err, \"  *****************ERR\");\n    });\n  }, []);\n\n  if (!Number(cookies.origin_id)) {\n    return React.createElement(Redirect, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    });\n  } else if (Number(cookies.origin_id) !== 1) {\n    // Вход под обычным юзером\n    // нужно переходить на /admin/id заведения\n    return React.createElement(Redirect, {\n      to: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    });\n  } else {\n    return React.createElement(\"div\", {\n      onClick: e => {\n        if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\n          hideSideMenu();\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"EditCompany\",\n      style: isShowMenu ? {\n        animation: \"toLeft 0.3s ease\",\n        position: \"relative\",\n        right: \"200px\"\n      } : {\n        animation: \"toRight 0.3s ease\",\n        position: \"relative\"\n      },\n      onClick: e => {\n        if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\n          hideSideMenu();\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Header, {\n      logo: true,\n      burger: true,\n      arrow: true,\n      toSlideFixedHeader: isShowMenu,\n      showSlideSideMenu: showSlideSideMenu,\n      showSideMenu: showSideMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), !isLoading && React.createElement(\"div\", {\n      className: \"editCompanyContent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"\\u0421\\u041F\\u0418\\u0421\\u041E\\u041A \\u0421\\u0422\\u0420\\u0418\\u041C\\u041E\\u0412\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, places.map(({\n      id,\n      name\n    }) => React.createElement(\"li\", {\n      key: id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: `/admin/${id}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, name))))), isLoading && React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), React.createElement(BottomMenu, {\n      style: {\n        borderTop: \"1px solid #ECECEC\"\n      },\n      toSlideFixedBottomMenu: isShowMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(SlideSideMenu, {\n      isShowMenu: isShowMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }));\n  }\n};\n\nexport default EditCompany;","map":{"version":3,"sources":["D:/GitHub/party_live_web/src/pages/editCompany/EditCompany.js"],"names":["React","useState","useEffect","useCookies","Header","SlideSideMenu","BottomMenu","Loader","QUERY","Redirect","Link","EditCompany","showSlideSideMenu","setShowSlideSideMenu","isShowMenu","setIsShowMenu","hideSideMenu","document","body","style","overflow","showSideMenu","window","onresize","e","cookies","setCookie","removeCookie","isLoading","setIsLoading","places","setPlaces","query","then","res","json","data","errors","console","log","catch","err","Number","origin_id","target","className","animation","position","right","map","id","name","borderTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./editCompany.css\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst EditCompany = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function(e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const [cookies, setCookie, removeCookie] = useCookies([]);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const [places, setPlaces] = useState([]);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n            places {id name}\r\n          }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (!data.errors) {\r\n          setIsLoading(false);\r\n          setPlaces(data.data.places);\r\n          console.log(data.data.places, \" edit compani  DATA\");\r\n        } else {\r\n          console.log(data.errors, \" ERRORS\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  *****************ERR\");\r\n      });\r\n  }, []);\r\n\r\n  if (!Number(cookies.origin_id)) {\r\n    return <Redirect to=\"/login\" />;\r\n  } else if (Number(cookies.origin_id) !== 1) {\r\n    // Вход под обычным юзером\r\n    // нужно переходить на /admin/id заведения\r\n    return <Redirect to=\"/home\" />;\r\n  } else {\r\n    return (\r\n      <div\r\n        onClick={e => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n            hideSideMenu();\r\n          }\r\n        }}\r\n      >\r\n        <div\r\n          className=\"EditCompany\"\r\n          style={\r\n            isShowMenu\r\n              ? {\r\n                  animation: \"toLeft 0.3s ease\",\r\n                  position: \"relative\",\r\n                  right: \"200px\"\r\n                }\r\n              : {\r\n                  animation: \"toRight 0.3s ease\",\r\n                  position: \"relative\"\r\n                }\r\n          }\r\n          onClick={e => {\r\n            if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n              hideSideMenu();\r\n            }\r\n          }}\r\n        >\r\n          <Header\r\n            logo\r\n            burger\r\n            arrow\r\n            toSlideFixedHeader={isShowMenu}\r\n            showSlideSideMenu={showSlideSideMenu}\r\n            showSideMenu={showSideMenu}\r\n          />\r\n          {!isLoading && (\r\n            <div className=\"editCompanyContent\">\r\n              <h3>СПИСОК СТРИМОВ</h3>\r\n              <ul>\r\n                {places.map(({ id, name }) => (\r\n                  <li key={id}>\r\n                    <Link to={`/admin/${id}`}>{name}</Link>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n          {isLoading && <Loader />}\r\n        </div>\r\n\r\n        <BottomMenu\r\n          style={{ borderTop: \"1px solid #ECECEC\" }}\r\n          toSlideFixedBottomMenu={isShowMenu}\r\n        />\r\n        <SlideSideMenu isShowMenu={isShowMenu} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default EditCompany;\r\n"]},"metadata":{},"sourceType":"module"}