{"ast":null,"code":"import _slicedToArray from\"D:\\\\GitHub\\\\party_live_web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{format,addMonths,subMonths,startOfWeek,addDays,startOfMonth,endOfMonth,endOfWeek,isSameMonth,isSameDay,addYears,subYears,startOfYear,getWeekOfMonth}from\"date-fns\";import\"./calendar.css\";import{ru}from\"date-fns/locale\";import buildLocalizeFn from\"date-fns/locale/_lib/buildLocalizeFn\";var monthValues={narrow:[\"Я\",\"Ф\",\"М\",\"А\",\"М\",\"И\",\"И\",\"А\",\"С\",\"О\",\"Н\",\"Д\"],abbreviated:[\"янв.\",\"фев.\",\"март\",\"апр.\",\"май\",\"июнь\",\"июль\",\"авг.\",\"сент.\",\"окт.\",\"нояб.\",\"дек.\"],wide:[\"январь\",\"февраль\",\"март\",\"апрель\",\"май\",\"июнь\",\"июль\",\"август\",\"сентябрь\",\"октябрь\",\"ноябрь\",\"декабрь\"]};ru.localize.month=buildLocalizeFn({values:monthValues,defaultWidth:\"wide\",defaultFormattingWidth:\"wide\"});var Calendar=function Calendar(){var _useState=useState(new Date()),_useState2=_slicedToArray(_useState,2),currentMonth=_useState2[0],setCurrentMonth=_useState2[1];var _useState3=useState(new Date()),_useState4=_slicedToArray(_useState3,2),selectedDate=_useState4[0],setSelectedDate=_useState4[1];var _useState5=useState(new Date()),_useState6=_slicedToArray(_useState5,2),currentYear=_useState6[0],setCurrentYear=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showTopFixedBlock=_useState8[0],setShowTopFixedBloc=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),choosedDayMonth=_useState10[0],setChoosedDayMonth=_useState10[1];document.body.style.background=\"#fff\";var renderHeader=function renderHeader(allMonths){var dateFormat=\"MMMM\";return React.createElement(\"div\",{className:\"monthNameBigCalendar\"},React.createElement(\"div\",{className:\"\"},!allMonths&&React.createElement(\"div\",{className:\"icon\",onClick:prevMonth},\"chevron_left\")),React.createElement(\"div\",{className:\"col col-center\"},React.createElement(\"span\",null,format(allMonths||currentMonth,dateFormat,{locale:ru}))),!allMonths&&React.createElement(\"div\",{className:\"\",onClick:nextMonth},React.createElement(\"div\",{className:\"icon\"},\"chevron_right\")));};var renderDays=function renderDays(){var dateFormat=\"E\";var days=[];var startDate=startOfWeek(currentMonth,{weekStartsOn:1});for(var i=0;i<7;i++){days.push(React.createElement(\"div\",{className:\"col col-center\",key:i,style:format(addDays(startDate,i),\"E\")===\"Sat\"||format(addDays(startDate,i),\"E\")===\"Sun\"?{color:\"#f86262\"}:{}},format(addDays(startDate,i),\"E\")===\"Sat\"?\"Сб\":format(addDays(startDate,i),dateFormat,{locale:ru}).slice(0,2)));}return React.createElement(\"div\",{className:\"days row\",style:{background:\"rgb(243, 242, 242)\",boxShadow:\"0 0 1px 0 rgba(0,0,0,0.05)\"}},days);};var onDateClick=function onDateClick(day,e){document.body.style.overflow=\"hidden\";setSelectedDate(day);var currentRow=e.target.closest(\".animationRow\");var currentCalendar=e.target.closest(\".animationMonthCalendar\");var animationMonthCalendar=document.getElementsByClassName(\"animationMonthCalendar\");var curCalendarId=document.getElementById(format(selectedDate,\"MMMM\"));var calendarBody=curCalendarId.querySelector(\".body\");var animationRows=calendarBody.querySelectorAll(\".animationRow\");for(var j=0;j<12;j++){if(animationRows[j]){animationRows[j].style.height=\"50px\";}animationMonthCalendar[j].style.display=\"none\";}currentCalendar.style.display=\"block\";currentCalendar.style.marginTop=100-getWeekOfMonth(day,{weekStartsOn:1})*50+\"px\";setTimeout(function(){currentRow.style.height=window.innerHeight+\"px\";},350);setChoosedDayMonth(format(day,\"MMMM yyyy\",{locale:ru}));};var renderCells=function renderCells(allMonths){var monthStart=startOfMonth(allMonths||currentMonth);var monthEnd=endOfMonth(monthStart);var startDate=startOfWeek(monthStart,{weekStartsOn:1});var endDate=endOfWeek(monthEnd);var dateFormat=\"d\";var rows=[];var days=[];var day=startDate;var formattedDate=\"\";while(day<=endDate){var _loop=function _loop(i){formattedDate=format(day,dateFormat);var cloneDay=day;days.push(React.createElement(\"div\",{className:\"col cell outline \".concat(!isSameMonth(day,monthStart)?!choosedDayMonth?\"disabled\":\"disabledOpacity\":isSameDay(day,selectedDate)?\"selected\":\"\"),style:format(addDays(startDate,i),\"E\")===\"Sat\"||format(addDays(startDate,i),\"E\")===\"Sun\"?isSameMonth(day,monthStart)?{color:\"#f86262\",height:\"50px\"}:{height:\"50px\"}:{height:\"50px\"},key:day,onClick:function onClick(e){!e.target.classList.contains(\"disabled\")&&!e.target.classList.contains(\"disabledOpacity\")&&!e.target.classList.contains(\"numberDisabled\")&&onDateClick(cloneDay,e);}},React.createElement(\"span\",{className:!isSameMonth(day,monthStart)?\"number numberDisabled\":\"number\"},formattedDate)));day=addDays(day,1);};for(var i=0;i<7;i++){_loop(i);}rows.push(React.createElement(\"div\",{className:\"row animationRow\",key:day,style:{height:\"50px\",overflow:\"hidden\"}},days,React.createElement(\"div\",{className:\"calendarDayDescription\"},React.createElement(\"p\",null,format(selectedDate,\"EEEE d MMMM yyyy\",{locale:ru}),\" \\u0433.\"))));days=[];}return React.createElement(\"div\",{className:\"body\"},rows);};var nextMonth=function nextMonth(){setCurrentMonth(addMonths(currentMonth,1));};var prevMonth=function prevMonth(){setCurrentMonth(subMonths(currentMonth,1));};// ==================IOS START======================\n//ALL MONTHS\nvar yearStart=startOfYear(currentYear);var monthsOfYear=[];for(var i=0;i<12;i++){monthsOfYear.push(yearStart);yearStart=addMonths(yearStart,1);}var nextIosYear=function nextIosYear(){setCurrentYear(addYears(currentYear,1));};var prevIosYear=function prevIosYear(){setCurrentYear(subYears(currentYear,1));};var renderIosHeader=function renderIosHeader(){var dateFormat=\"yyyy\";return React.createElement(\"div\",{className:\"headerIos rowIos \"},React.createElement(\"div\",{className:\"\"},React.createElement(\"div\",{className:\"icon\",onClick:prevIosYear},\"chevron_left\")),React.createElement(\"div\",{className:\"headerIosYear\"},React.createElement(\"span\",null,format(currentYear,dateFormat,{locale:ru}))),React.createElement(\"div\",{className:\"\",onClick:nextIosYear},React.createElement(\"div\",{className:\"icon\"},\"chevron_right\")));};var renderIosCells=function renderIosCells(el){var monthStart=startOfMonth(el);var monthEnd=endOfMonth(monthStart);var startDate=startOfWeek(monthStart,{weekStartsOn:1});var endDate=endOfWeek(monthEnd);var clickOnMonth=function clickOnMonth(){setCurrentMonth(el);var iosCalendar=document.getElementsByClassName(\"iosCalendar\")[0];var bigCalendarWrap=document.getElementsByClassName(\"bigCalendarWrap\")[0];iosCalendar.style.opacity=\"0\";iosCalendar.style.zIndex=0;bigCalendarWrap.style.opacity=\"1\";bigCalendarWrap.style.display=\"block\";bigCalendarWrap.style.zIndex=1;setShowTopFixedBloc(true);setTimeout(function(){document.getElementById(format(el,\"MMMM\")).scrollIntoView({block:\"center\",behavior:\"smooth\"});window.scrollTo(0,window.pageYOffset);},500);};var dateFormat=\"d\";var rows=[];var days=[];var day=startDate;var formattedDate=\"\";while(day<=endDate){for(var _i=0;_i<7;_i++){formattedDate=format(day,dateFormat);days.push(React.createElement(\"div\",{className:\"col cellIos \".concat(!isSameMonth(day,monthStart)?\"disabledIos\":isSameDay(day,selectedDate)?\"selectedIos\":\"\"),style:{height:\"18px\",fontSize:\"10px\"},key:day},React.createElement(\"span\",{className:\"number\",style:format(addDays(startDate,_i),\"E\")===\"Sat\"||format(addDays(startDate,_i),\"E\")===\"Sun\"?{color:\"#999\",display:\"flex\",alignSelf:\"center\"}:{display:\"flex\",alignSelf:\"center\"}},formattedDate)));day=addDays(day,1);}rows.push(React.createElement(\"div\",{className:\"rowIos\",key:day},days));days=[];}return React.createElement(\"div\",{className:\"iosCalendarWrap\",onClick:function onClick(e){clickOnMonth();}},React.createElement(\"p\",{className:\"iosMonth\",style:isSameMonth(el,new Date())?{color:\"rgb(248, 98, 98)\"}:{color:\"black\"}},format(el,\"MMMM\",{locale:ru})),React.createElement(\"div\",{className:\"body\"},rows));};// ==================IOS END====================\nreturn React.createElement(\"div\",{className:\"calendar\",style:{border:\"none\"}},React.createElement(\"div\",{className:\"iosCalendar\"},renderIosHeader(),React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\",flexWrap:\"wrap\",margin:\"5px\",background:\"#fff\"}},monthsOfYear.map(function(el,i){return React.createElement(\"div\",{className:\"animationCalendarBlock\",key:i},renderIosCells(el));}))),React.createElement(\"div\",null,React.createElement(\"div\",{className:showTopFixedBlock?\"fixedBlocksShow\":\"fixedBlocksHide\"},React.createElement(\"p\",{className:\"topArrowWrap\",onClick:function onClick(e){if(!choosedDayMonth){// CLICK по    < 2020 >\nvar iosCalendar=document.getElementsByClassName(\"iosCalendar\")[0];var bigCalendarWrap=document.getElementsByClassName(\"bigCalendarWrap\")[0];setShowTopFixedBloc(false);iosCalendar.style.opacity=\"1\";iosCalendar.style.zIndex=1;bigCalendarWrap.style.opacity=\"0\";bigCalendarWrap.style.display=\"none\";}else{// CLICK по    < январь 2020\ndocument.body.style.overflow=\"auto\";var animationMonthCalendar=document.getElementsByClassName(\"animationMonthCalendar\");var curCalendarId=document.getElementById(format(selectedDate,\"MMMM\"));var calendarBody=curCalendarId.querySelector(\".body\");var animationRows=calendarBody.querySelectorAll(\".animationRow\");for(var j=0;j<12;j++){if(animationRows[j]){animationRows[j].style.height=\"50px\";}}setChoosedDayMonth(false);setTimeout(function(){for(var _i2=0;_i2<12;_i2++){animationMonthCalendar[_i2].style.display=\"block\";animationMonthCalendar[_i2].style.marginTop=10+\"px\";if(_i2===0){animationMonthCalendar[_i2].style.marginTop=100+\"px\";}}document.getElementById(format(selectedDate,\"MMMM\")).scrollIntoView({block:\"center\",behavior:\"smooth\"});},400);}}},React.createElement(\"span\",{className:\"topArrowCalendar\"},React.createElement(\"span\",null,choosedDayMonth||format(currentYear,\"yyyy\")))),renderDays()),React.createElement(\"div\",{className:\"bigCalendarWrap\"},monthsOfYear.map(function(el,i){return React.createElement(\"div\",{key:i,id:format(el,\"MMMM\"),className:\"animationMonthCalendar\",style:({margin:\"10px\"},+format(el,\"M\")===1?{marginTop:\"100px\"}:{marginTop:\"10px\"})},renderHeader(el),renderCells(el));}))));};export default Calendar;","map":{"version":3,"sources":["D:/GitHub/party_live_web/src/components/calendar/Calendar.js"],"names":["React","useState","useEffect","format","addMonths","subMonths","startOfWeek","addDays","startOfMonth","endOfMonth","endOfWeek","isSameMonth","isSameDay","addYears","subYears","startOfYear","getWeekOfMonth","ru","buildLocalizeFn","monthValues","narrow","abbreviated","wide","localize","month","values","defaultWidth","defaultFormattingWidth","Calendar","Date","currentMonth","setCurrentMonth","selectedDate","setSelectedDate","currentYear","setCurrentYear","showTopFixedBlock","setShowTopFixedBloc","choosedDayMonth","setChoosedDayMonth","document","body","style","background","renderHeader","allMonths","dateFormat","prevMonth","locale","nextMonth","renderDays","days","startDate","weekStartsOn","i","push","color","slice","boxShadow","onDateClick","day","e","overflow","currentRow","target","closest","currentCalendar","animationMonthCalendar","getElementsByClassName","curCalendarId","getElementById","calendarBody","querySelector","animationRows","querySelectorAll","j","height","display","marginTop","setTimeout","window","innerHeight","renderCells","monthStart","monthEnd","endDate","rows","formattedDate","cloneDay","classList","contains","yearStart","monthsOfYear","nextIosYear","prevIosYear","renderIosHeader","renderIosCells","el","clickOnMonth","iosCalendar","bigCalendarWrap","opacity","zIndex","scrollIntoView","block","behavior","scrollTo","pageYOffset","fontSize","alignSelf","border","justifyContent","flexWrap","margin","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  format,\r\n  addMonths,\r\n  subMonths,\r\n  startOfWeek,\r\n  addDays,\r\n  startOfMonth,\r\n  endOfMonth,\r\n  endOfWeek,\r\n  isSameMonth,\r\n  isSameDay,\r\n  addYears,\r\n  subYears,\r\n  startOfYear,\r\n  getWeekOfMonth\r\n} from \"date-fns\";\r\n\r\nimport \"./calendar.css\";\r\n\r\nimport { ru } from \"date-fns/locale\";\r\nimport buildLocalizeFn from \"date-fns/locale/_lib/buildLocalizeFn\";\r\n\r\nconst monthValues = {\r\n  narrow: [\"Я\", \"Ф\", \"М\", \"А\", \"М\", \"И\", \"И\", \"А\", \"С\", \"О\", \"Н\", \"Д\"],\r\n  abbreviated: [\r\n    \"янв.\",\r\n    \"фев.\",\r\n    \"март\",\r\n    \"апр.\",\r\n    \"май\",\r\n    \"июнь\",\r\n    \"июль\",\r\n    \"авг.\",\r\n    \"сент.\",\r\n    \"окт.\",\r\n    \"нояб.\",\r\n    \"дек.\"\r\n  ],\r\n  wide: [\r\n    \"январь\",\r\n    \"февраль\",\r\n    \"март\",\r\n    \"апрель\",\r\n    \"май\",\r\n    \"июнь\",\r\n    \"июль\",\r\n    \"август\",\r\n    \"сентябрь\",\r\n    \"октябрь\",\r\n    \"ноябрь\",\r\n    \"декабрь\"\r\n  ]\r\n};\r\n\r\nru.localize.month = buildLocalizeFn({\r\n  values: monthValues,\r\n  defaultWidth: \"wide\",\r\n  defaultFormattingWidth: \"wide\"\r\n});\r\n\r\nconst Calendar = () => {\r\n  const [currentMonth, setCurrentMonth] = useState(new Date());\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n\r\n  const [currentYear, setCurrentYear] = useState(new Date());\r\n  const [showTopFixedBlock, setShowTopFixedBloc] = useState(false);\r\n\r\n  const [choosedDayMonth, setChoosedDayMonth] = useState(false);\r\n\r\n  document.body.style.background = \"#fff\";\r\n\r\n  const renderHeader = allMonths => {\r\n    const dateFormat = \"MMMM\";\r\n    return (\r\n      <div className=\"monthNameBigCalendar\">\r\n        <div className=\"\">\r\n          {!allMonths && (\r\n            <div className=\"icon\" onClick={prevMonth}>\r\n              chevron_left\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col col-center\">\r\n          <span>\r\n            {format(allMonths || currentMonth, dateFormat, { locale: ru })}\r\n          </span>\r\n        </div>\r\n        {!allMonths && (\r\n          <div className=\"\" onClick={nextMonth}>\r\n            <div className=\"icon\">chevron_right</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderDays = () => {\r\n    const dateFormat = \"E\";\r\n    const days = [];\r\n    let startDate = startOfWeek(currentMonth, { weekStartsOn: 1 });\r\n    for (let i = 0; i < 7; i++) {\r\n      days.push(\r\n        <div\r\n          className=\"col col-center\"\r\n          key={i}\r\n          style={\r\n            format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n            format(addDays(startDate, i), \"E\") === \"Sun\"\r\n              ? { color: \"#f86262\" }\r\n              : {}\r\n          }\r\n        >\r\n          {format(addDays(startDate, i), \"E\") === \"Sat\"\r\n            ? \"Сб\"\r\n            : format(addDays(startDate, i), dateFormat, { locale: ru }).slice(\r\n                0,\r\n                2\r\n              )}\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div\r\n        className=\"days row\"\r\n        style={{\r\n          background: \"rgb(243, 242, 242)\",\r\n          boxShadow: \"0 0 1px 0 rgba(0,0,0,0.05)\"\r\n        }}\r\n      >\r\n        {days}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const onDateClick = (day, e) => {\r\n    document.body.style.overflow = \"hidden\";\r\n    setSelectedDate(day);\r\n\r\n    const currentRow = e.target.closest(\".animationRow\");\r\n    const currentCalendar = e.target.closest(\".animationMonthCalendar\");\r\n    const animationMonthCalendar = document.getElementsByClassName(\r\n      \"animationMonthCalendar\"\r\n    );\r\n    const curCalendarId = document.getElementById(format(selectedDate, \"MMMM\"));\r\n    const calendarBody = curCalendarId.querySelector(\".body\");\r\n    const animationRows = calendarBody.querySelectorAll(\".animationRow\");\r\n\r\n    for (let j = 0; j < 12; j++) {\r\n      if (animationRows[j]) {\r\n        animationRows[j].style.height = \"50px\";\r\n      }\r\n      animationMonthCalendar[j].style.display = \"none\";\r\n    }\r\n\r\n    currentCalendar.style.display = \"block\";\r\n    currentCalendar.style.marginTop =\r\n      100 - getWeekOfMonth(day, { weekStartsOn: 1 }) * 50 + \"px\";\r\n\r\n    setTimeout(() => {\r\n      currentRow.style.height = window.innerHeight + \"px\";\r\n    }, 350);\r\n\r\n    setChoosedDayMonth(format(day, \"MMMM yyyy\", { locale: ru }));\r\n  };\r\n\r\n  const renderCells = allMonths => {\r\n    const monthStart = startOfMonth(allMonths || currentMonth);\r\n    const monthEnd = endOfMonth(monthStart);\r\n    const startDate = startOfWeek(monthStart, { weekStartsOn: 1 });\r\n    const endDate = endOfWeek(monthEnd);\r\n\r\n    const dateFormat = \"d\";\r\n    const rows = [];\r\n    let days = [];\r\n    let day = startDate;\r\n    let formattedDate = \"\";\r\n\r\n    while (day <= endDate) {\r\n      for (let i = 0; i < 7; i++) {\r\n        formattedDate = format(day, dateFormat);\r\n        const cloneDay = day;\r\n        days.push(\r\n          <div\r\n            className={`col cell outline ${\r\n              !isSameMonth(day, monthStart)\r\n                ? !choosedDayMonth\r\n                  ? \"disabled\"\r\n                  : \"disabledOpacity\"\r\n                : isSameDay(day, selectedDate)\r\n                ? \"selected\"\r\n                : \"\"\r\n            }`}\r\n            style={\r\n              format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n              format(addDays(startDate, i), \"E\") === \"Sun\"\r\n                ? isSameMonth(day, monthStart)\r\n                  ? { color: \"#f86262\", height: \"50px\" }\r\n                  : { height: \"50px\" }\r\n                : { height: \"50px\" }\r\n            }\r\n            key={day}\r\n            onClick={e => {\r\n              !e.target.classList.contains(\"disabled\") &&\r\n                !e.target.classList.contains(\"disabledOpacity\") &&\r\n                !e.target.classList.contains(\"numberDisabled\") &&\r\n                onDateClick(cloneDay, e);\r\n            }}\r\n          >\r\n            <span\r\n              className={\r\n                !isSameMonth(day, monthStart)\r\n                  ? \"number numberDisabled\"\r\n                  : \"number\"\r\n              }\r\n            >\r\n              {formattedDate}\r\n            </span>\r\n          </div>\r\n        );\r\n        day = addDays(day, 1);\r\n      }\r\n      rows.push(\r\n        <div\r\n          className=\"row animationRow\"\r\n          key={day}\r\n          style={{ height: \"50px\", overflow: \"hidden\" }}\r\n        >\r\n          {days}\r\n          <div className=\"calendarDayDescription\">\r\n            <p>{format(selectedDate, \"EEEE d MMMM yyyy\", { locale: ru })} г.</p>\r\n          </div>\r\n        </div>\r\n      );\r\n      days = [];\r\n    }\r\n    return <div className=\"body\">{rows}</div>;\r\n  };\r\n\r\n  const nextMonth = () => {\r\n    setCurrentMonth(addMonths(currentMonth, 1));\r\n  };\r\n  const prevMonth = () => {\r\n    setCurrentMonth(subMonths(currentMonth, 1));\r\n  };\r\n\r\n  // ==================IOS START======================\r\n  //ALL MONTHS\r\n  let yearStart = startOfYear(currentYear);\r\n  const monthsOfYear = [];\r\n  for (let i = 0; i < 12; i++) {\r\n    monthsOfYear.push(yearStart);\r\n    yearStart = addMonths(yearStart, 1);\r\n  }\r\n\r\n  const nextIosYear = () => {\r\n    setCurrentYear(addYears(currentYear, 1));\r\n  };\r\n  const prevIosYear = () => {\r\n    setCurrentYear(subYears(currentYear, 1));\r\n  };\r\n\r\n  const renderIosHeader = () => {\r\n    const dateFormat = \"yyyy\";\r\n    return (\r\n      <div className=\"headerIos rowIos \">\r\n        <div className=\"\">\r\n          <div className=\"icon\" onClick={prevIosYear}>\r\n            chevron_left\r\n          </div>\r\n        </div>\r\n        <div className=\"headerIosYear\">\r\n          <span>{format(currentYear, dateFormat, { locale: ru })}</span>\r\n        </div>\r\n        <div className=\"\" onClick={nextIosYear}>\r\n          <div className=\"icon\">chevron_right</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderIosCells = el => {\r\n    const monthStart = startOfMonth(el);\r\n    const monthEnd = endOfMonth(monthStart);\r\n    const startDate = startOfWeek(monthStart, { weekStartsOn: 1 });\r\n    const endDate = endOfWeek(monthEnd);\r\n\r\n    const clickOnMonth = () => {\r\n      setCurrentMonth(el);\r\n\r\n      const iosCalendar = document.getElementsByClassName(\"iosCalendar\")[0];\r\n      const bigCalendarWrap = document.getElementsByClassName(\r\n        \"bigCalendarWrap\"\r\n      )[0];\r\n\r\n      iosCalendar.style.opacity = \"0\";\r\n      iosCalendar.style.zIndex = 0;\r\n\r\n      bigCalendarWrap.style.opacity = \"1\";\r\n      bigCalendarWrap.style.display = \"block\";\r\n      bigCalendarWrap.style.zIndex = 1;\r\n\r\n      setShowTopFixedBloc(true);\r\n\r\n      setTimeout(() => {\r\n        document\r\n          .getElementById(format(el, \"MMMM\"))\r\n          .scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n        window.scrollTo(0, window.pageYOffset);\r\n      }, 500);\r\n    };\r\n\r\n    const dateFormat = \"d\";\r\n    const rows = [];\r\n    let days = [];\r\n    let day = startDate;\r\n    let formattedDate = \"\";\r\n    while (day <= endDate) {\r\n      for (let i = 0; i < 7; i++) {\r\n        formattedDate = format(day, dateFormat);\r\n        days.push(\r\n          <div\r\n            className={`col cellIos ${\r\n              !isSameMonth(day, monthStart)\r\n                ? \"disabledIos\"\r\n                : isSameDay(day, selectedDate)\r\n                ? \"selectedIos\"\r\n                : \"\"\r\n            }`}\r\n            style={{\r\n              height: \"18px\",\r\n              fontSize: \"10px\"\r\n            }}\r\n            key={day}\r\n          >\r\n            <span\r\n              className=\"number\"\r\n              style={\r\n                format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n                format(addDays(startDate, i), \"E\") === \"Sun\"\r\n                  ? { color: \"#999\", display: \"flex\", alignSelf: \"center\" }\r\n                  : { display: \"flex\", alignSelf: \"center\" }\r\n              }\r\n            >\r\n              {formattedDate}\r\n            </span>\r\n          </div>\r\n        );\r\n        day = addDays(day, 1);\r\n      }\r\n      rows.push(\r\n        <div className=\"rowIos\" key={day}>\r\n          {days}\r\n        </div>\r\n      );\r\n      days = [];\r\n    }\r\n    return (\r\n      <div\r\n        className=\"iosCalendarWrap\"\r\n        onClick={e => {\r\n          clickOnMonth();\r\n        }}\r\n      >\r\n        <p\r\n          className=\"iosMonth\"\r\n          style={\r\n            isSameMonth(el, new Date())\r\n              ? { color: \"rgb(248, 98, 98)\" }\r\n              : { color: \"black\" }\r\n          }\r\n        >\r\n          {format(el, \"MMMM\", { locale: ru })}\r\n        </p>\r\n        <div className=\"body\">{rows}</div>\r\n      </div>\r\n    );\r\n  };\r\n  // ==================IOS END====================\r\n\r\n  return (\r\n    <div className=\"calendar\" style={{ border: \"none\" }}>\r\n      <div className=\"iosCalendar\">\r\n        {renderIosHeader()}\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            flexWrap: \"wrap\",\r\n            margin: \"5px\",\r\n            background: \"#fff\"\r\n          }}\r\n        >\r\n          {monthsOfYear.map((el, i) => {\r\n            return (\r\n              <div className=\"animationCalendarBlock\" key={i}>\r\n                {renderIosCells(el)}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <div>\r\n        {\r\n          <div\r\n            className={\r\n              showTopFixedBlock ? \"fixedBlocksShow\" : \"fixedBlocksHide\"\r\n            }\r\n          >\r\n            <p\r\n              className=\"topArrowWrap\"\r\n              onClick={e => {\r\n                if (!choosedDayMonth) {\r\n                  // CLICK по    < 2020 >\r\n                  const iosCalendar = document.getElementsByClassName(\r\n                    \"iosCalendar\"\r\n                  )[0];\r\n                  const bigCalendarWrap = document.getElementsByClassName(\r\n                    \"bigCalendarWrap\"\r\n                  )[0];\r\n                  setShowTopFixedBloc(false);\r\n\r\n                  iosCalendar.style.opacity = \"1\";\r\n                  iosCalendar.style.zIndex = 1;\r\n\r\n                  bigCalendarWrap.style.opacity = \"0\";\r\n                  bigCalendarWrap.style.display = \"none\";\r\n                } else {\r\n                  // CLICK по    < январь 2020\r\n                  document.body.style.overflow = \"auto\";\r\n\r\n                  const animationMonthCalendar = document.getElementsByClassName(\r\n                    \"animationMonthCalendar\"\r\n                  );\r\n\r\n                  const curCalendarId = document.getElementById(\r\n                    format(selectedDate, \"MMMM\")\r\n                  );\r\n                  const calendarBody = curCalendarId.querySelector(\".body\");\r\n                  const animationRows = calendarBody.querySelectorAll(\r\n                    \".animationRow\"\r\n                  );\r\n\r\n                  for (let j = 0; j < 12; j++) {\r\n                    if (animationRows[j]) {\r\n                      animationRows[j].style.height = \"50px\";\r\n                    }\r\n                  }\r\n                  setChoosedDayMonth(false);\r\n\r\n                  setTimeout(() => {\r\n                    for (let i = 0; i < 12; i++) {\r\n                      animationMonthCalendar[i].style.display = \"block\";\r\n                      animationMonthCalendar[i].style.marginTop = 10 + \"px\";\r\n                      if (i === 0) {\r\n                        animationMonthCalendar[i].style.marginTop = 100 + \"px\";\r\n                      }\r\n                    }\r\n                    document\r\n                      .getElementById(format(selectedDate, \"MMMM\"))\r\n                      .scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n                  }, 400);\r\n                }\r\n              }}\r\n            >\r\n              <span className=\"topArrowCalendar\">\r\n                <span>{choosedDayMonth || format(currentYear, \"yyyy\")}</span>\r\n              </span>\r\n            </p>\r\n            {renderDays()}\r\n          </div>\r\n        }\r\n        <div className={`bigCalendarWrap`}>\r\n          {monthsOfYear.map((el, i) => {\r\n            return (\r\n              <div\r\n                key={i}\r\n                id={format(el, \"MMMM\")}\r\n                className=\"animationMonthCalendar\"\r\n                style={\r\n                  ({ margin: \"10px\" },\r\n                  +format(el, \"M\") === 1\r\n                    ? { marginTop: \"100px\" }\r\n                    : { marginTop: \"10px\" })\r\n                }\r\n              >\r\n                {renderHeader(el)}\r\n                {renderCells(el)}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calendar;\r\n"]},"metadata":{},"sourceType":"module"}