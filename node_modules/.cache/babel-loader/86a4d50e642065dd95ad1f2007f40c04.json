{"ast":null,"code":"import _slicedToArray from\"D:\\\\GitHub\\\\party_live_web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useCookies}from\"react-cookie\";import Header from\"../../components/header/Header\";import SlideSideMenu from\"../../components/slideSideMenu/SlideSideMenu\";import BottomMenu from\"../../components/bottomMenu/BottomMenu\";import Loader from\"../../components/loader/Loader\";import QUERY from\"../../query\";import\"./editCompany.css\";import{Redirect,Link}from\"react-router-dom\";var EditCompany=function EditCompany(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showSlideSideMenu=_useState2[0],setShowSlideSideMenu=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isShowMenu=_useState4[0],setIsShowMenu=_useState4[1];var hideSideMenu=function hideSideMenu(){setShowSlideSideMenu(false);document.body.style.overflow=\"visible\";setIsShowMenu(false);};var showSideMenu=function showSideMenu(){setShowSlideSideMenu(true);document.body.style.overflow=\"hidden\";setIsShowMenu(true);};window.onresize=function(e){hideSideMenu();};var _useCookies=useCookies([]),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookie=_useCookies2[1],removeCookie=_useCookies2[2];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),places=_useState8[0],setPlaces=_useState8[1];useEffect(function(){QUERY({query:\"query {\\n            places {id name}\\n          }\"}).then(function(res){return res.json();}).then(function(data){if(!data.errors){setIsLoading(false);setPlaces(data.data.places);console.log(data.data.places,\" edit compani  DATA\");}else{console.log(data.errors,\" ERRORS\");}}).catch(function(err){console.log(err,\"  *****************ERR\");});},[]);if(!Number(cookies.origin_id)){return React.createElement(Redirect,{to:\"/login\"});}else if(Number(cookies.origin_id)!==1){// Вход под обычным юзером\n// нужно переходить на /admin/id заведения\nreturn React.createElement(Redirect,{to:\"/home\"});}else{return React.createElement(\"div\",{onClick:function onClick(e){if(e.target.className!==\"SlideSideMenu\"&&showSlideSideMenu){hideSideMenu();}}},React.createElement(\"div\",{className:\"EditCompany\",style:isShowMenu?{animation:\"toLeft 0.3s ease\",position:\"relative\",right:\"200px\"}:{animation:\"toRight 0.3s ease\",position:\"relative\"},onClick:function onClick(e){if(e.target.className!==\"SlideSideMenu\"&&showSlideSideMenu){hideSideMenu();}}},React.createElement(Header,{logo:true,burger:true,arrow:true,toSlideFixedHeader:isShowMenu,showSlideSideMenu:showSlideSideMenu,showSideMenu:showSideMenu}),!isLoading&&React.createElement(\"div\",{className:\"editCompanyContent\"},React.createElement(\"h3\",null,\"\\u0421\\u041F\\u0418\\u0421\\u041E\\u041A \\u0421\\u0422\\u0420\\u0418\\u041C\\u041E\\u0412\"),React.createElement(\"ul\",null,places.map(function(_ref){var id=_ref.id,name=_ref.name;return React.createElement(\"li\",{key:id},React.createElement(Link,{to:\"/admin/\".concat(id)},name));}))),isLoading&&React.createElement(Loader,null)),React.createElement(BottomMenu,{style:{borderTop:\"1px solid #ECECEC\"},toSlideFixedBottomMenu:isShowMenu}),React.createElement(SlideSideMenu,{isShowMenu:isShowMenu}));}};export default EditCompany;","map":{"version":3,"sources":["D:/GitHub/party_live_web/src/pages/editCompany/EditCompany.js"],"names":["React","useState","useEffect","useCookies","Header","SlideSideMenu","BottomMenu","Loader","QUERY","Redirect","Link","EditCompany","showSlideSideMenu","setShowSlideSideMenu","isShowMenu","setIsShowMenu","hideSideMenu","document","body","style","overflow","showSideMenu","window","onresize","e","cookies","setCookie","removeCookie","isLoading","setIsLoading","places","setPlaces","query","then","res","json","data","errors","console","log","catch","err","Number","origin_id","target","className","animation","position","right","map","id","name","borderTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./editCompany.css\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst EditCompany = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function(e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const [cookies, setCookie, removeCookie] = useCookies([]);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const [places, setPlaces] = useState([]);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n            places {id name}\r\n          }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (!data.errors) {\r\n          setIsLoading(false);\r\n          setPlaces(data.data.places);\r\n          console.log(data.data.places, \" edit compani  DATA\");\r\n        } else {\r\n          console.log(data.errors, \" ERRORS\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  *****************ERR\");\r\n      });\r\n  }, []);\r\n\r\n  if (!Number(cookies.origin_id)) {\r\n    return <Redirect to=\"/login\" />;\r\n  } else if (Number(cookies.origin_id) !== 1) {\r\n    // Вход под обычным юзером\r\n    // нужно переходить на /admin/id заведения\r\n    return <Redirect to=\"/home\" />;\r\n  } else {\r\n    return (\r\n      <div\r\n        onClick={e => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n            hideSideMenu();\r\n          }\r\n        }}\r\n      >\r\n        <div\r\n          className=\"EditCompany\"\r\n          style={\r\n            isShowMenu\r\n              ? {\r\n                  animation: \"toLeft 0.3s ease\",\r\n                  position: \"relative\",\r\n                  right: \"200px\"\r\n                }\r\n              : {\r\n                  animation: \"toRight 0.3s ease\",\r\n                  position: \"relative\"\r\n                }\r\n          }\r\n          onClick={e => {\r\n            if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n              hideSideMenu();\r\n            }\r\n          }}\r\n        >\r\n          <Header\r\n            logo\r\n            burger\r\n            arrow\r\n            toSlideFixedHeader={isShowMenu}\r\n            showSlideSideMenu={showSlideSideMenu}\r\n            showSideMenu={showSideMenu}\r\n          />\r\n          {!isLoading && (\r\n            <div className=\"editCompanyContent\">\r\n              <h3>СПИСОК СТРИМОВ</h3>\r\n              <ul>\r\n                {places.map(({ id, name }) => (\r\n                  <li key={id}>\r\n                    <Link to={`/admin/${id}`}>{name}</Link>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n          {isLoading && <Loader />}\r\n        </div>\r\n\r\n        <BottomMenu\r\n          style={{ borderTop: \"1px solid #ECECEC\" }}\r\n          toSlideFixedBottomMenu={isShowMenu}\r\n        />\r\n        <SlideSideMenu isShowMenu={isShowMenu} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default EditCompany;\r\n"]},"metadata":{},"sourceType":"module"}