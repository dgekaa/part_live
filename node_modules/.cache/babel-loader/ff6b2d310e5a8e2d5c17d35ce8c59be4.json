{"ast":null,"code":"var _jsxFileName = \"D:\\\\GitHub\\\\party_live_web\\\\src\\\\pages\\\\company\\\\Company.js\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport GooggleMapReact from \"google-map-react\";\nimport { Link } from \"react-router-dom\";\nimport ReactHLS from \"react-hls\";\nimport Popup from \"../../components/popup/Popup\";\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\nimport Header from \"../../components/header/Header\";\nimport Loader from \"../../components/loader/Loader\";\nimport { isShowStreamNow, isWorkTimeNow } from \"../../calculateTime\";\nimport { getDistanceFromLatLonInKm } from \"../../getDistance\";\nimport QUERY from \"../../query\";\nimport { API_KEY } from \"../../constants\";\nimport \"./company.css\";\n\nconst Marker = ({\n  children\n}) => children;\n\nconst Company = props => {\n  const [showPopup, setShowPopap] = useState(false);\n  const [DATA, setDATA] = useState(null);\n  const [geoposition, setGeoposition] = useState([0, 0]);\n  const dayOfWeek = [\"Понедельник\", \"Вторник\", \"Среда\", \"Четверг\", \"Пятница\", \"Суббота\", \"Воскресенье\"];\n  const [showStream, setShowStream] = useState(false);\n  const [workTime, setWorkTime] = useState(false);\n  const [isWork, setIsWork] = useState(false);\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\n  const [isShowMenu, setIsShowMenu] = useState(false);\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  const [isLoading, setIsLoading] = useState(true);\n  const [curDistance, setCurDistance] = useState(null);\n  const numberDayNow = new Date().getDay() === 0 ? 6 : new Date().getDay() - 1;\n  useEffect(() => {\n    if (DATA) {\n      isShowStreamNow(DATA.place, setShowStream);\n      isWorkTimeNow(DATA.place, setWorkTime, setIsWork);\n    }\n  }, [DATA]);\n  useEffect(() => {\n    if (DATA) {\n      setGeoposition([+DATA.place.coordinates.split(\",\")[0], +DATA.place.coordinates.split(\",\")[1]]);\n    }\n  }, [DATA]);\n  useEffect(() => {\n    QUERY({\n      query: `query {\n        place (id: ${props.match.params.id}) {\n          id name address description\n          streams{url name id preview\n            schedules{id day start_time end_time}\n          }\n          categories{name slug}\n          coordinates\n          schedules {day start_time end_time}\n          user {id name email}\n        }\n      }`\n    }).then(res => {\n      return res.json();\n    }).then(data => {\n      setIsLoading(false);\n      setDATA(data.data);\n    }).catch(err => {\n      console.log(err, \"  ONE PLACE\");\n    });\n  }, []);\n\n  const togglePopup = () => {\n    showPopup ? setShowPopap(false) : setShowPopap(true);\n  };\n\n  const hideSideMenu = () => {\n    setShowSlideSideMenu(false);\n    document.body.style.overflow = \"visible\";\n    setIsShowMenu(false);\n  };\n\n  const showSideMenu = () => {\n    setShowSlideSideMenu(true);\n    document.body.style.overflow = \"hidden\";\n    setIsShowMenu(true);\n  };\n\n  window.onresize = function (e) {\n    setWindowWidth(e.target.innerWidth);\n    hideSideMenu();\n  };\n\n  if (navigator.geolocation && DATA) {\n    navigator.geolocation.getCurrentPosition(pos => {\n      setCurDistance(getDistanceFromLatLonInKm(pos.coords.latitude, pos.coords.longitude, DATA.place.coordinates.split(\",\")[0], DATA.place.coordinates.split(\",\")[1]));\n    }, err => {\n      console.log(err, \" GEOLOCATION ERROR \");\n    });\n  } else {\n    console.log(\"Геолокация недоступна \");\n  }\n\n  return React.createElement(\"div\", {\n    onClick: e => {\n      if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\n        hideSideMenu();\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"Company\",\n    style: isShowMenu ? {\n      animation: \"toLeft 0.3s ease\",\n      position: \"relative\",\n      right: \"200px\"\n    } : {\n      animation: \"toRight 0.3s ease\",\n      position: \"relative\"\n    },\n    onClick: e => {\n      if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\n        hideSideMenu();\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, windowWidth && windowWidth > 760 && React.createElement(\"div\", {\n    className: \"bigCompanyHeader\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \" < \\u041D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\")), windowWidth && windowWidth < 760 && React.createElement(Header, {\n    logo: true,\n    burger: true,\n    arrow: true,\n    toSlideFixedHeader: isShowMenu,\n    isShowMenu: isShowMenu,\n    showSlideSideMenu: showSlideSideMenu,\n    showSideMenu: showSideMenu,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }), DATA && React.createElement(\"div\", {\n    className: \"flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"shadowBlock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"videoBlock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, showStream && React.createElement(ReactHLS, {\n    url: DATA.place.streams[0].url,\n    controls: true,\n    autoplay: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }), !showStream && React.createElement(\"div\", {\n    className: \"noVideo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, \"\\u041D\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0439 \\u043C\\u043E\\u043C\\u0435\\u043D\\u0442 \\u0442\\u0440\\u0430\\u043D\\u0441\\u043B\\u044F\\u0446\\u0438\\u044F \\u043D\\u0435 \\u0437\\u0430\\u043F\\u043B\\u0430\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0430\"), React.createElement(\"div\", {\n    className: \"showWatchPeople\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"videoDescription\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, DATA.place.name), \" - \", DATA.place.description)), React.createElement(\"div\", {\n    className: \"desc\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mobileDescription\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"mobileCompanyType\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, DATA.place.categories[0].name, \" \\\"\"), DATA.place.name, React.createElement(\"span\", {\n    className: \"mobileCompanyType\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, \"\\\"\")), React.createElement(\"p\", {\n    className: \"typeOfPati\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, \"\\u0442\\u0438\\u043F \\u043C\\u0435\\u0440\\u043E\\u043F\\u0440\\u0438\\u044F\\u0442\\u0438\\u044F?????\"), React.createElement(\"p\", {\n    className: \"dayOfWeek\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, dayOfWeek[numberDayNow]), React.createElement(\"p\", {\n    className: \"distance\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, curDistance && React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, Number(curDistance).toFixed(2), \" km\"), !curDistance && \" 0 km\")), React.createElement(\"p\", {\n    className: \"smallOpenedTo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, isWork && React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u043E: \\u0434\\u043E \", workTime.split(\"-\")[1]), !isWork && \"Закрыто\"), React.createElement(\"div\", {\n    className: \"timeBlocks\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"timeBlock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    height: \"16\",\n    width: \"16\",\n    alt: \"clock\",\n    src: `${process.env.PUBLIC_URL}/img/clock.png`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"rightTimeBlock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, \"\\u0412\\u0440\\u0435\\u043C\\u044F \\u0440\\u0430\\u0431\\u043E\\u0442\\u044B:\"), \" \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, workTime))), React.createElement(\"div\", {\n    className: \"timeBlock streamTime\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    height: \"16\",\n    width: \"16\",\n    alt: \"camera\",\n    src: `${process.env.PUBLIC_URL}/img/camera.png`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"rightTimeBlock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, \" \\u0421\\u0442\\u0440\\u0438\\u043C:\"), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, showStream ? \" Стрим идет\" : \" Стрим не идет\"))), React.createElement(\"div\", {\n    className: \"timeBlock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"location\",\n    height: \"16\",\n    width: \"16\",\n    src: `${process.env.PUBLIC_URL}/img/location.png`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"rightTimeBlock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251\n    },\n    __self: this\n  }, \"\\u0410\\u0434\\u0440\\u0435\\u0441: \"), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252\n    },\n    __self: this\n  }, DATA.place.address)))), windowWidth && windowWidth > 760 && React.createElement(\"div\", {\n    className: \"smallMapWrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"smallMap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  }, React.createElement(GooggleMapReact, {\n    onClick: () => {\n      togglePopup();\n    } // <script type=\"text/javascript\" src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyAZQdg3dPHXD5Bt-Dgi85wNHG5G_MXpR7g&amp;&libraries=geometry,places\"></script>\n    ,\n    bootstrapURLKeys: {\n      key: API_KEY\n    },\n    defaultCenter: {\n      lat: geoposition[0],\n      lng: geoposition[1]\n    },\n    defaultZoom: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259\n    },\n    __self: this\n  }, React.createElement(Marker, {\n    lat: geoposition[0],\n    lng: geoposition[1],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"mapMarkerCompany\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"img\",\n    src: `${process.env.PUBLIC_URL}/img/location.png`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275\n    },\n    __self: this\n  }))))))), React.createElement(\"div\", {\n    className: \"type\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286\n    },\n    __self: this\n  }, DATA.place.categories[0].name)), !!windowWidth && windowWidth <= 760 && React.createElement(\"div\", {\n    className: \"smallMapWrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"smallMap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290\n    },\n    __self: this\n  }, React.createElement(GooggleMapReact, {\n    onClick: () => {\n      togglePopup();\n    },\n    bootstrapURLKeys: {\n      key: API_KEY\n    },\n    defaultCenter: {\n      lat: geoposition[0],\n      lng: geoposition[1]\n    },\n    defaultZoom: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291\n    },\n    __self: this\n  }, React.createElement(Marker, {\n    lat: geoposition[0],\n    lng: geoposition[1],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"mapMarkerCompany\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"img\",\n    src: `${process.env.PUBLIC_URL}/img/location.png`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306\n    },\n    __self: this\n  }))))), React.createElement(\"p\", {\n    className: \"smallMapLocation\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314\n    },\n    __self: this\n  }, DATA ? DATA.place.address : \"\"))), !DATA && isLoading && React.createElement(Loader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321\n    },\n    __self: this\n  }), showPopup && React.createElement(Popup, {\n    togglePopup: togglePopup,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323\n    },\n    __self: this\n  }, React.createElement(GooggleMapReact, {\n    style: {\n      height: \"100%\",\n      width: \"100%\"\n    },\n    bootstrapURLKeys: {\n      key: API_KEY\n    },\n    defaultCenter: {\n      lat: geoposition[0],\n      lng: geoposition[1]\n    },\n    defaultZoom: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324\n    },\n    __self: this\n  }, React.createElement(Marker, {\n    lat: geoposition[0],\n    lng: geoposition[1],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"mapMarkerCompany\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"img\",\n    src: `${process.env.PUBLIC_URL}/img/location.png`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: \"closeBtn\",\n    onClick: togglePopup,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344\n    },\n    __self: this\n  }, \"\\xD7\"))), React.createElement(BottomMenu, {\n    toSlideFixedBottomMenu: isShowMenu,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350\n    },\n    __self: this\n  }), React.createElement(SlideSideMenu, {\n    isShowMenu: isShowMenu,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351\n    },\n    __self: this\n  }));\n};\n\nexport default Company;","map":{"version":3,"sources":["D:/GitHub/party_live_web/src/pages/company/Company.js"],"names":["React","useState","useEffect","useRef","GooggleMapReact","Link","ReactHLS","Popup","SlideSideMenu","BottomMenu","Header","Loader","isShowStreamNow","isWorkTimeNow","getDistanceFromLatLonInKm","QUERY","API_KEY","Marker","children","Company","props","showPopup","setShowPopap","DATA","setDATA","geoposition","setGeoposition","dayOfWeek","showStream","setShowStream","workTime","setWorkTime","isWork","setIsWork","showSlideSideMenu","setShowSlideSideMenu","isShowMenu","setIsShowMenu","windowWidth","setWindowWidth","window","innerWidth","isLoading","setIsLoading","curDistance","setCurDistance","numberDayNow","Date","getDay","place","coordinates","split","query","match","params","id","then","res","json","data","catch","err","console","log","togglePopup","hideSideMenu","document","body","style","overflow","showSideMenu","onresize","e","target","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","className","animation","position","right","streams","url","name","description","categories","Number","toFixed","process","env","PUBLIC_URL","address","key","lat","lng","height","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport GooggleMapReact from \"google-map-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ReactHLS from \"react-hls\";\r\n\r\nimport Popup from \"../../components/popup/Popup\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nimport { isShowStreamNow, isWorkTimeNow } from \"../../calculateTime\";\r\nimport { getDistanceFromLatLonInKm } from \"../../getDistance\";\r\nimport QUERY from \"../../query\";\r\nimport { API_KEY } from \"../../constants\";\r\n\r\nimport \"./company.css\";\r\n\r\nconst Marker = ({ children }) => children;\r\n\r\nconst Company = props => {\r\n  const [showPopup, setShowPopap] = useState(false);\r\n  const [DATA, setDATA] = useState(null);\r\n  const [geoposition, setGeoposition] = useState([0, 0]);\r\n  const dayOfWeek = [\r\n    \"Понедельник\",\r\n    \"Вторник\",\r\n    \"Среда\",\r\n    \"Четверг\",\r\n    \"Пятница\",\r\n    \"Суббота\",\r\n    \"Воскресенье\"\r\n  ];\r\n  const [showStream, setShowStream] = useState(false);\r\n  const [workTime, setWorkTime] = useState(false);\r\n  const [isWork, setIsWork] = useState(false);\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [curDistance, setCurDistance] = useState(null);\r\n\r\n  const numberDayNow = new Date().getDay() === 0 ? 6 : new Date().getDay() - 1;\r\n\r\n  useEffect(() => {\r\n    if (DATA) {\r\n      isShowStreamNow(DATA.place, setShowStream);\r\n      isWorkTimeNow(DATA.place, setWorkTime, setIsWork);\r\n    }\r\n  }, [DATA]);\r\n\r\n  useEffect(() => {\r\n    if (DATA) {\r\n      setGeoposition([\r\n        +DATA.place.coordinates.split(\",\")[0],\r\n        +DATA.place.coordinates.split(\",\")[1]\r\n      ]);\r\n    }\r\n  }, [DATA]);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n        place (id: ${props.match.params.id}) {\r\n          id name address description\r\n          streams{url name id preview\r\n            schedules{id day start_time end_time}\r\n          }\r\n          categories{name slug}\r\n          coordinates\r\n          schedules {day start_time end_time}\r\n          user {id name email}\r\n        }\r\n      }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        setIsLoading(false);\r\n        setDATA(data.data);\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  ONE PLACE\");\r\n      });\r\n  }, []);\r\n\r\n  const togglePopup = () => {\r\n    showPopup ? setShowPopap(false) : setShowPopap(true);\r\n  };\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function(e) {\r\n    setWindowWidth(e.target.innerWidth);\r\n    hideSideMenu();\r\n  };\r\n\r\n  if (navigator.geolocation && DATA) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      pos => {\r\n        setCurDistance(\r\n          getDistanceFromLatLonInKm(\r\n            pos.coords.latitude,\r\n            pos.coords.longitude,\r\n            DATA.place.coordinates.split(\",\")[0],\r\n            DATA.place.coordinates.split(\",\")[1]\r\n          )\r\n        );\r\n      },\r\n      err => {\r\n        console.log(err, \" GEOLOCATION ERROR \");\r\n      }\r\n    );\r\n  } else {\r\n    console.log(\"Геолокация недоступна \");\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={e => {\r\n        if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n          hideSideMenu();\r\n        }\r\n      }}\r\n    >\r\n      <div\r\n        className=\"Company\"\r\n        style={\r\n          isShowMenu\r\n            ? {\r\n                animation: \"toLeft 0.3s ease\",\r\n                position: \"relative\",\r\n                right: \"200px\"\r\n              }\r\n            : {\r\n                animation: \"toRight 0.3s ease\",\r\n                position: \"relative\"\r\n              }\r\n        }\r\n        onClick={e => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n            hideSideMenu();\r\n          }\r\n        }}\r\n      >\r\n        {windowWidth && windowWidth > 760 && (\r\n          <div className=\"bigCompanyHeader\">\r\n            <Link to=\"/home\"> &#60; На главную</Link>\r\n          </div>\r\n        )}\r\n        {windowWidth && windowWidth < 760 && (\r\n          <Header\r\n            logo\r\n            burger\r\n            arrow\r\n            toSlideFixedHeader={isShowMenu}\r\n            isShowMenu={isShowMenu}\r\n            showSlideSideMenu={showSlideSideMenu}\r\n            showSideMenu={showSideMenu}\r\n          />\r\n        )}\r\n        {DATA && (\r\n          <div className=\"flex\">\r\n            <div className=\"shadowBlock\">\r\n              <div className=\"videoBlock\">\r\n                {showStream && (\r\n                  <ReactHLS\r\n                    url={DATA.place.streams[0].url}\r\n                    controls={true}\r\n                    autoplay={true}\r\n                  />\r\n                )}\r\n                {!showStream && (\r\n                  <div className=\"noVideo\">\r\n                    На данный момент трансляция не запланирована\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"showWatchPeople\"></div>\r\n                <p className=\"videoDescription\">\r\n                  <span>{DATA.place.name}</span> - {DATA.place.description}\r\n                </p>\r\n              </div>\r\n              <div className=\"desc\">\r\n                <div className=\"mobileDescription\">\r\n                  <h3>\r\n                    <span className=\"mobileCompanyType\">\r\n                      {DATA.place.categories[0].name} \"\r\n                    </span>\r\n                    {DATA.place.name}\r\n                    <span className=\"mobileCompanyType\">\"</span>\r\n                  </h3>\r\n                  <p className=\"typeOfPati\">тип мероприятия?????</p>\r\n                  <p className=\"dayOfWeek\">{dayOfWeek[numberDayNow]}</p>\r\n                  <p className=\"distance\">\r\n                    {curDistance && (\r\n                      <span>{Number(curDistance).toFixed(2)} km</span>\r\n                    )}\r\n                    {!curDistance && \" 0 km\"}\r\n                  </p>\r\n                </div>\r\n                <p className=\"smallOpenedTo\">\r\n                  {isWork && <span>Открыто: до {workTime.split(\"-\")[1]}</span>}\r\n                  {!isWork && \"Закрыто\"}\r\n                </p>\r\n                <div className=\"timeBlocks\">\r\n                  <div className=\"timeBlock\">\r\n                    <img\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                      alt=\"clock\"\r\n                      src={`${process.env.PUBLIC_URL}/img/clock.png`}\r\n                    />\r\n                    <p className=\"rightTimeBlock\">\r\n                      <span>Время работы:</span> <span>{workTime}</span>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"timeBlock streamTime\">\r\n                    <img\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                      alt=\"camera\"\r\n                      src={`${process.env.PUBLIC_URL}/img/camera.png`}\r\n                    />\r\n                    <p className=\"rightTimeBlock\">\r\n                      <span> Стрим:</span>\r\n                      <span>\r\n                        {showStream ? \" Стрим идет\" : \" Стрим не идет\"}\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"timeBlock\">\r\n                    <img\r\n                      alt=\"location\"\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                      src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n                    />\r\n                    <p className=\"rightTimeBlock\">\r\n                      <span>Адрес: </span>\r\n                      <span>{DATA.place.address}</span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                {windowWidth && windowWidth > 760 && (\r\n                  <div className=\"smallMapWrap\">\r\n                    <div className=\"smallMap\">\r\n                      <GooggleMapReact\r\n                        onClick={() => {\r\n                          togglePopup();\r\n                        }}\r\n                        // <script type=\"text/javascript\" src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyAZQdg3dPHXD5Bt-Dgi85wNHG5G_MXpR7g&amp;&libraries=geometry,places\"></script>\r\n                        bootstrapURLKeys={{\r\n                          key: API_KEY\r\n                        }}\r\n                        defaultCenter={{\r\n                          lat: geoposition[0],\r\n                          lng: geoposition[1]\r\n                        }}\r\n                        defaultZoom={10}\r\n                      >\r\n                        <Marker lat={geoposition[0]} lng={geoposition[1]}>\r\n                          <button className=\"mapMarkerCompany\">\r\n                            <img\r\n                              alt=\"img\"\r\n                              src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n                            ></img>\r\n                          </button>\r\n                        </Marker>\r\n                      </GooggleMapReact>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"type\">{DATA.place.categories[0].name}</div>\r\n            </div>\r\n            {!!windowWidth && windowWidth <= 760 && (\r\n              <div className=\"smallMapWrap\">\r\n                <div className=\"smallMap\">\r\n                  <GooggleMapReact\r\n                    onClick={() => {\r\n                      togglePopup();\r\n                    }}\r\n                    bootstrapURLKeys={{\r\n                      key: API_KEY\r\n                    }}\r\n                    defaultCenter={{\r\n                      lat: geoposition[0],\r\n                      lng: geoposition[1]\r\n                    }}\r\n                    defaultZoom={10}\r\n                  >\r\n                    <Marker lat={geoposition[0]} lng={geoposition[1]}>\r\n                      <button className=\"mapMarkerCompany\">\r\n                        <img\r\n                          alt=\"img\"\r\n                          src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n                        ></img>\r\n                      </button>\r\n                    </Marker>\r\n                  </GooggleMapReact>\r\n                </div>\r\n                <p className=\"smallMapLocation\">\r\n                  {DATA ? DATA.place.address : \"\"}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n        {!DATA && isLoading && <Loader />}\r\n        {showPopup && (\r\n          <Popup togglePopup={togglePopup}>\r\n            <GooggleMapReact\r\n              style={{ height: \"100%\", width: \"100%\" }}\r\n              bootstrapURLKeys={{\r\n                key: API_KEY\r\n              }}\r\n              defaultCenter={{\r\n                lat: geoposition[0],\r\n                lng: geoposition[1]\r\n              }}\r\n              defaultZoom={10}\r\n            >\r\n              <Marker lat={geoposition[0]} lng={geoposition[1]}>\r\n                <button className=\"mapMarkerCompany\">\r\n                  <img\r\n                    alt=\"img\"\r\n                    src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n                  ></img>\r\n                </button>\r\n              </Marker>\r\n            </GooggleMapReact>\r\n            <div className=\"closeBtn\" onClick={togglePopup}>\r\n              &#215;\r\n            </div>\r\n          </Popup>\r\n        )}\r\n      </div>\r\n      <BottomMenu toSlideFixedBottomMenu={isShowMenu} />\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Company;\r\n"]},"metadata":{},"sourceType":"module"}