{"ast":null,"code":"import _slicedToArray from\"D:\\\\GitHub\\\\party_live_web\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./slideSideMenu.css\";import{Link}from\"react-router-dom\";import{useCookies}from\"react-cookie\";import QUERY from\"../../query\";var SlideSideMenu=function SlideSideMenu(_ref){var isShowMenu=_ref.isShowMenu;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),shomMenu=_useState2[0],setShowMenu=_useState2[1];var _useCookies=useCookies([]),_useCookies2=_slicedToArray(_useCookies,2),cookies=_useCookies2[0],removeCookie=_useCookies2[1];useEffect(function(){if(!isShowMenu){setTimeout(function(){setShowMenu(false);},300);}else{setShowMenu(true);}},[isShowMenu]);var logout=function logout(){QUERY({query:\"mutation {\\n        logout{status message}\\n      }\"},cookies.origin_data).then(function(res){return res.json();}).then(function(data){if(!data.errors){console.log(data,\" LOGOUT\");removeCookie(\"origin_data\");removeCookie(\"origin_id\");}else{console.log(data.errors,\" ERRORS LOGOUT\");}}).catch(function(err){console.log(err,\"  *******ERR LOGOUT\");});removeCookie(\"origin_data\");removeCookie(\"origin_id\");};return React.createElement(\"div\",{className:\"SlideSideMenuWrap\",style:shomMenu?{display:\"block\"}:{display:\"none\"}},React.createElement(\"div\",{className:\"SlideSideMenu\",style:isShowMenu?{animation:\"on 0.25s ease\",right:0}:{animation:\"off 0.25s ease\",right:\"-200px\"}},React.createElement(\"ul\",{className:\"sideMenuUl\"},React.createElement(\"li\",{className:\"sideMenuLi\"},React.createElement(Link,{to:\"/home\"},\"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\")),React.createElement(\"li\",null,React.createElement(Link,{to:\"/map\"},\"\\u041A\\u0430\\u0440\\u0442\\u0430\")),React.createElement(\"li\",null,Number(cookies.origin_id)===1&&React.createElement(Link,{to:\"/editCompany\"},\"\\u0413\\u0440\\u0430\\u0444\\u0438\\u043A\")),React.createElement(\"li\",null,!Number(cookies.origin_id)&&React.createElement(Link,{to:\"/login\"},\"\\u0412\\u0445\\u043E\\u0434\"),!!Number(cookies.origin_id)&&React.createElement(Link,{onClick:function onClick(){logout();},to:\"/login\"},\"\\u0412\\u044B\\u0445\\u043E\\u0434\")),React.createElement(\"li\",null,!Number(cookies.origin_id)&&React.createElement(Link,{to:\"/registration\"},\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\")))));};export default SlideSideMenu;","map":{"version":3,"sources":["D:/GitHub/party_live_web/src/components/slideSideMenu/SlideSideMenu.js"],"names":["React","useState","useEffect","Link","useCookies","QUERY","SlideSideMenu","isShowMenu","shomMenu","setShowMenu","cookies","removeCookie","setTimeout","logout","query","origin_data","then","res","json","data","errors","console","log","catch","err","display","animation","right","Number","origin_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./slideSideMenu.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport QUERY from \"../../query\";\r\n\r\nconst SlideSideMenu = ({ isShowMenu }) => {\r\n  const [shomMenu, setShowMenu] = useState(false);\r\n  const [cookies, removeCookie] = useCookies([]);\r\n\r\n  useEffect(() => {\r\n    if (!isShowMenu) {\r\n      setTimeout(() => {\r\n        setShowMenu(false);\r\n      }, 300);\r\n    } else {\r\n      setShowMenu(true);\r\n    }\r\n  }, [isShowMenu]);\r\n\r\n  const logout = () => {\r\n    QUERY(\r\n      {\r\n        query: `mutation {\r\n        logout{status message}\r\n      }`\r\n      },\r\n      cookies.origin_data\r\n    )\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (!data.errors) {\r\n          console.log(data, \" LOGOUT\");\r\n          removeCookie(\"origin_data\");\r\n          removeCookie(\"origin_id\");\r\n        } else {\r\n          console.log(data.errors, \" ERRORS LOGOUT\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  *******ERR LOGOUT\");\r\n      });\r\n\r\n    removeCookie(\"origin_data\");\r\n    removeCookie(\"origin_id\");\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"SlideSideMenuWrap\"\r\n      style={shomMenu ? { display: \"block\" } : { display: \"none\" }}\r\n    >\r\n      <div\r\n        className=\"SlideSideMenu\"\r\n        style={\r\n          isShowMenu\r\n            ? { animation: \"on 0.25s ease\", right: 0 }\r\n            : { animation: \"off 0.25s ease\", right: \"-200px\" }\r\n        }\r\n      >\r\n        <ul className=\"sideMenuUl\">\r\n          <li className=\"sideMenuLi\">\r\n            <Link to=\"/home\">Главная</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/map\">Карта</Link>\r\n          </li>\r\n          <li>\r\n            {Number(cookies.origin_id) === 1 && (\r\n              <Link to=\"/editCompany\">График</Link>\r\n            )}\r\n          </li>\r\n          <li>\r\n            {!Number(cookies.origin_id) && <Link to=\"/login\">Вход</Link>}\r\n            {!!Number(cookies.origin_id) && (\r\n              <Link\r\n                onClick={() => {\r\n                  logout();\r\n                }}\r\n                to=\"/login\"\r\n              >\r\n                Выход\r\n              </Link>\r\n            )}\r\n          </li>\r\n          <li>\r\n            {!Number(cookies.origin_id) && (\r\n              <Link to=\"/registration\">Регистрация</Link>\r\n            )}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SlideSideMenu;\r\n"]},"metadata":{},"sourceType":"module"}