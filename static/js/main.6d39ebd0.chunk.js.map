{"version":3,"sources":["calculateTime.js","query.js","components/companyNav/CompanyNav.js","components/typeNav/TypeNav.js","getDistance.js","components/smallCompanyBlock/SmallCompanyBlock.js","components/slideSideMenu/SlideSideMenu.js","components/bottomMenu/BottomMenu.js","components/burger/Burger.js","components/header/Header.js","components/loader/Loader.js","pages/home/Home.js","pages/map/Map.js","components/popup/Popup.js","pages/company/Company.js","pages/auth/Login.js","pages/editCompany/EditCompany.js","pages/auth/Registration.js","pages/admin/Admin.js","components/calendar/Calendar.js","App.js","serviceWorker.js","index.js"],"names":["numberDayYest","QUERY","body","origin_data","Promise","resolve","fetch","method","mode","JSON","stringify","headers","Authorization","CompanyNav","style","clickedType","currentPage","toSlideFixedNav","useState","uniqueCompanyType","setUniqueCompanyType","isDown","setIsDown","startX","setStartX","scrollLeft","setScrollLeft","clickedTypeLocal","setClickedTypeLocal","slideBtnMenu","useRef","useEffect","query","then","res","json","data","categories","catch","err","console","log","supportsTouch","document","documentElement","smoothscroll","polyfill","className","animation","left","ref","onMouseDown","e","pageX","current","offsetLeft","onMouseLeave","onMouseUp","onMouseMove","preventDefault","walk","onClick","to","map","el","i","slideBtn","React","createRef","name","key","btnPositionToCenter","offsetWidth","currentTarget","scrollTo","behavior","scrollBtnToCenter","alt","src","process","slug","width","height","TypeNav","color","pathname","numberDayNow","Date","getDay","currentTimeMS","getHours","getMinutes","isShowStreamNow","item","setShowStream","yesterdayStream","streams","schedules","todayStream","startYesterdayStreamMS","start_time","split","endYesterdayStreamMS","end_time","startTodayStreamMS","endTodayStreamMS","isWorkTimeNow","setWorkTime","setIsWork","yesterdayWorkTime","todayWorkTime","endYesterdayMS","startYesterdayMS","endTodayMS","startTodayMS","getDistanceFromLatLonInKm","lat1","lon1","lat2","lon2","dLat","deg2rad","dLon","a","Math","sin","cos","atan2","sqrt","deg","PI","SmallCompanyBlock","showStream","workTime","isWork","curDistance","setCurDistance","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","coordinates","id","background","preview","autoPlay","display","alignItems","justifyContent","textAlign","padding","Number","toFixed","SlideSideMenu","isShowMenu","shomMenu","setShowMenu","useCookies","cookies","removeCookie","setTimeout","right","origin_id","BottomMenu","toSlideFixedBottomMenu","Burger","showSlideSideMenu","showSideMenu","Header","burger","arrow","logo","toSlideFixedHeader","history","useHistory","goBack","Loader","Home","props","DATA","setDATA","companyData","setCompanyData","isLoading","setIsLoading","places","setShowSlideSideMenu","setIsShowMenu","target","overflow","position","type","filteredData","filter","toUpperCase","length","Marker","children","MapComponent","markers","setMarkers","mapRef","zoom","setZoom","bounds","setBounds","points","properties","cluster","crimeId","category","geometry","clusters","useSupercluster","options","radius","maxZoom","hideSideMenu","window","onresize","defaultCenter","setDefaultCenter","lat","lng","zIndex","bootstrapURLKeys","defaultZoom","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","onChange","nw","se","isCluster","pointCount","point_count","cluster_id","streamTime","time","bool","Popup","togglePopup","wrpaStyle","Company","showPopup","setShowPopap","geoposition","setGeoposition","innerWidth","windowWidth","setWindowWidth","place","match","params","url","controls","autoplay","description","address","Login","isLogin","setIsLogin","email","setEmail","password","setPassword","isForgetPass","setIsForgetPass","setCookie","onSubmit","errors","login","access_token","user","userLogin","placeholder","value","prev","EditCompany","setPlaces","borderTop","Registration","canTypePass","setCanTypePass","isSuccess","setIsSuccess","TimePicker","timePickerName","setTime","hours","setHours","minutes","setMinutes","clickHandlerTop","max","nextSibling","innerText","clickHandlerBottom","previousSibling","Admin","startTimePicker","setStartTimePicker","endTimePicker","setEndTimePicker","clickedTime","setClickedTime","refreshData","accordionHandler","maxHeight","firstElementChild","transform","scrollHeight","hlsConfig","videoProps","crossOrigin","preload","day","h","m","ru","localize","month","buildLocalizeFn","values","narrow","abbreviated","wide","defaultWidth","defaultFormattingWidth","Calendar","currentMonth","setCurrentMonth","selectedDate","setSelectedDate","currentYear","setCurrentYear","showTopFixedBlock","setShowTopFixedBloc","choosedDayMonth","setChoosedDayMonth","onDateClick","currentRow","closest","currentCalendar","animationMonthCalendar","getElementsByClassName","animationRows","getElementById","format","querySelector","querySelectorAll","j","marginTop","getWeekOfMonth","weekStartsOn","innerHeight","locale","nextMonth","addMonths","prevMonth","subMonths","yearStart","startOfYear","monthsOfYear","push","nextIosYear","addYears","prevIosYear","subYears","renderIosCells","monthStart","startOfMonth","monthEnd","endOfMonth","startDate","startOfWeek","endDate","endOfWeek","rows","days","formattedDate","isSameMonth","isSameDay","fontSize","addDays","alignSelf","iosCalendar","bigCalendarWrap","opacity","scrollIntoView","block","pageYOffset","clickOnMonth","border","flexWrap","margin","slice","boxShadow","renderDays","allMonths","cloneDay","classList","contains","renderCells","customHistory","createBrowserHistory","App","CookiesProvider","exact","path","component","Map","Boolean","location","hostname","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6d39ebd0.chunk.js","sourcesContent":["const numberDayNow = new Date().getDay() === 0 ? 6 : new Date().getDay() - 1;\r\nlet numberDayYest;\r\n\r\nif (new Date().getDay() === 0) {\r\n  numberDayYest = 5;\r\n} else if (new Date().getDay() === 1) {\r\n  numberDayYest = 6;\r\n} else {\r\n  numberDayYest = new Date().getDay() - 2;\r\n}\r\n\r\nconst HtoMs = 3600000,\r\n  MtoMs = 60000;\r\n\r\nconst currentTimeMS =\r\n  new Date().getHours() * HtoMs + new Date().getMinutes() * MtoMs;\r\n\r\nexport const isShowStreamNow = (item, setShowStream) => {\r\n  const yesterdayStream = item.streams[0].schedules[numberDayYest],\r\n    todayStream = item.streams[0].schedules[numberDayNow];\r\n\r\n  const startYesterdayStreamMS =\r\n    yesterdayStream.start_time.split(\":\")[0] * HtoMs +\r\n    yesterdayStream.start_time.split(\":\")[1] * MtoMs;\r\n  const endYesterdayStreamMS =\r\n    yesterdayStream.end_time.split(\":\")[0] * HtoMs +\r\n    yesterdayStream.end_time.split(\":\")[1] * MtoMs;\r\n\r\n  const startTodayStreamMS =\r\n    todayStream.start_time.split(\":\")[0] * HtoMs +\r\n    todayStream.start_time.split(\":\")[1] * MtoMs;\r\n  const endTodayStreamMS =\r\n    todayStream.end_time.split(\":\")[0] * HtoMs +\r\n    todayStream.end_time.split(\":\")[1] * MtoMs;\r\n\r\n  if (\r\n    startYesterdayStreamMS > endYesterdayStreamMS &&\r\n    endYesterdayStreamMS > currentTimeMS\r\n  ) {\r\n    // идет видео за вчерашний день ещe\r\n    setShowStream(true);\r\n  } else if (\r\n    startTodayStreamMS > endTodayStreamMS &&\r\n    currentTimeMS > startTodayStreamMS\r\n  ) {\r\n    // если видео началось сегодня и закончилось завтра\r\n    setShowStream(true);\r\n  } else if (\r\n    startTodayStreamMS < endTodayStreamMS &&\r\n    currentTimeMS > startTodayStreamMS &&\r\n    currentTimeMS < endTodayStreamMS\r\n  ) {\r\n    // началось и закончилось сегодня\r\n    setShowStream(true);\r\n  } else {\r\n    setShowStream(false);\r\n  }\r\n};\r\n\r\nexport const isWorkTimeNow = (item, setWorkTime, setIsWork) => {\r\n  const yesterdayWorkTime = item.schedules[numberDayYest],\r\n    todayWorkTime = item.schedules[numberDayNow];\r\n\r\n  const endYesterdayMS =\r\n    yesterdayWorkTime.end_time.split(\":\")[0] * HtoMs +\r\n    yesterdayWorkTime.end_time.split(\":\")[1] * MtoMs;\r\n  const startYesterdayMS =\r\n    yesterdayWorkTime.start_time.split(\":\")[0] * HtoMs +\r\n    yesterdayWorkTime.start_time.split(\":\")[1] * MtoMs;\r\n  const endTodayMS =\r\n    todayWorkTime.end_time.split(\":\")[0] * HtoMs +\r\n    todayWorkTime.end_time.split(\":\")[1] * MtoMs;\r\n  const startTodayMS =\r\n    todayWorkTime.start_time.split(\":\")[0] * HtoMs +\r\n    todayWorkTime.start_time.split(\":\")[1] * MtoMs;\r\n\r\n  if (startYesterdayMS > endYesterdayMS && endYesterdayMS > currentTimeMS) {\r\n    // идет работа за вчерашний день ещe\r\n    setIsWork(true);\r\n    setWorkTime(\r\n      yesterdayWorkTime.start_time.split(\":\")[0] +\r\n        \":\" +\r\n        yesterdayWorkTime.start_time.split(\":\")[1] +\r\n        \"-\" +\r\n        yesterdayWorkTime.end_time.split(\":\")[0] +\r\n        \":\" +\r\n        yesterdayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  } else if (startTodayMS > endTodayMS && currentTimeMS > startTodayMS) {\r\n    // если работа началось сегодня и закончилось завтра\r\n    setIsWork(true);\r\n    setWorkTime(\r\n      todayWorkTime.start_time.split(\":\")[0] +\r\n        \":\" +\r\n        todayWorkTime.start_time.split(\":\")[1] +\r\n        \"-\" +\r\n        todayWorkTime.end_time.split(\":\")[0] +\r\n        \":\" +\r\n        todayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  } else if (\r\n    startTodayMS < endTodayMS &&\r\n    currentTimeMS > startTodayMS &&\r\n    currentTimeMS < endTodayMS\r\n  ) {\r\n    // началось и закончилось сегодня\r\n    setIsWork(true);\r\n    setWorkTime(\r\n      todayWorkTime.start_time.split(\":\")[0] +\r\n        \":\" +\r\n        todayWorkTime.start_time.split(\":\")[1] +\r\n        \"-\" +\r\n        todayWorkTime.end_time.split(\":\")[0] +\r\n        \":\" +\r\n        todayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  } else {\r\n    setIsWork(false);\r\n    setWorkTime(\r\n      \"_Закрыто_ \" +\r\n        todayWorkTime.start_time.split(\":\")[0] +\r\n        \":\" +\r\n        todayWorkTime.start_time.split(\":\")[1] +\r\n        \"-\" +\r\n        todayWorkTime.end_time.split(\":\")[0] +\r\n        \":\" +\r\n        todayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  }\r\n};\r\n","const QUERY = (body, origin_data) => {\r\n  return Promise.resolve(\r\n    fetch(\"http://194.87.95.37/graphql\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      body: JSON.stringify(body),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: origin_data ? \"Bearer \" + origin_data : \"\"\r\n      }\r\n    })\r\n  );\r\n};\r\n\r\nexport default QUERY;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./companyNav.css\";\r\nimport smoothscroll from \"smoothscroll-polyfill\";\r\n\r\nconst CompanyNav = ({ style, clickedType, currentPage, toSlideFixedNav }) => {\r\n  const [uniqueCompanyType, setUniqueCompanyType] = useState([]);\r\n\r\n  const [isDown, setIsDown] = useState(false);\r\n  const [startX, setStartX] = useState();\r\n  const [scrollLeft, setScrollLeft] = useState();\r\n  const [clickedTypeLocal, setClickedTypeLocal] = useState();\r\n\r\n  const slideBtnMenu = useRef(null);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n        categories {\r\n          id name slug\r\n        }\r\n      }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        setUniqueCompanyType(data.data.categories);\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  ERR\");\r\n      });\r\n  }, []);\r\n\r\n  const supportsTouch = \"ontouchstart\" in document.documentElement;\r\n  smoothscroll.polyfill();\r\n\r\n  const scrollBtnToCenter = e => {\r\n    e.preventDefault();\r\n    const btnPositionToCenter =\r\n      slideBtnMenu.current.offsetWidth / 2 -\r\n      (e.currentTarget.offsetLeft -\r\n        slideBtnMenu.current.scrollLeft +\r\n        e.currentTarget.offsetWidth / 2);\r\n\r\n    slideBtnMenu.current.scrollTo({\r\n      left: slideBtnMenu.current.scrollLeft - btnPositionToCenter,\r\n      behavior: \"smooth\"\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"overflowClass\"\r\n      style={\r\n        ({\r\n          ...style\r\n        },\r\n        toSlideFixedNav\r\n          ? {\r\n              animation: \"toLeftFixed 0.3s ease\",\r\n              left: \"-200px\"\r\n            }\r\n          : {\r\n              animation: \"toRightFixed 0.3s ease\",\r\n              left: \"0px\"\r\n            })\r\n      }\r\n    >\r\n      <div\r\n        className={\"сompanyNav\"}\r\n        ref={slideBtnMenu}\r\n        // //BROWSER ===========================================\r\n        onMouseDown={e => {\r\n          if (!supportsTouch) {\r\n            setIsDown(true);\r\n            setStartX(e.pageX - slideBtnMenu.current.offsetLeft);\r\n            setScrollLeft(slideBtnMenu.current.scrollLeft);\r\n          }\r\n        }}\r\n        onMouseLeave={() => {\r\n          if (!supportsTouch) {\r\n            setIsDown(false);\r\n          }\r\n        }}\r\n        onMouseUp={() => {\r\n          if (!supportsTouch) {\r\n            setIsDown(false);\r\n          }\r\n        }}\r\n        onMouseMove={e => {\r\n          if (!supportsTouch) {\r\n            if (!isDown) return;\r\n            e.preventDefault();\r\n            const x = e.pageX - slideBtnMenu.current.offsetLeft;\r\n            const walk = (x - startX) * 2;\r\n            slideBtnMenu.current.scrollLeft = scrollLeft - walk;\r\n          }\r\n        }}\r\n        //TOUCH =============================================\r\n        // onTouchStart={e => {\r\n        //   if (supportsTouch) {\r\n        //     setIsDown(true);\r\n        //     setStartX(\r\n        //       Math.ceil(e.nativeEvent.touches[0].clientX) -\r\n        //         slideBtnMenu.current.offsetLeft\r\n        //     );\r\n        //     setScrollLeft(slideBtnMenu.current.scrollLeft);\r\n        //   }\r\n        // }}\r\n        // onTouchEnd={e => {\r\n        //   if (supportsTouch) {\r\n        //     setIsDown(false);\r\n        //   }\r\n        // }}\r\n        // onTouchMove={e => {\r\n        //   if (supportsTouch) {\r\n        //     const x =\r\n        //       e.nativeEvent.touches[0].clientX -\r\n        //       slideBtnMenu.current.offsetLeft;\r\n        //     const walk = (x - startX) * 2;\r\n        //     slideBtnMenu.current.scrollLeft = scrollLeft - walk;\r\n        //   }\r\n        // }}\r\n      >\r\n        <div\r\n          className={\r\n            !clickedTypeLocal ? \"companyNavBlock activeBtn\" : \"companyNavBlock\"\r\n          }\r\n          onClick={e => {\r\n            clickedType();\r\n            setClickedTypeLocal();\r\n          }}\r\n        >\r\n          <Link\r\n            className={\r\n              !clickedTypeLocal\r\n                ? \"companyNavLink activeBtnText\"\r\n                : \"companyNavLink\"\r\n            }\r\n            to={currentPage}\r\n          >\r\n            <p className=\"allText\">Все</p>\r\n          </Link>\r\n        </div>\r\n        {uniqueCompanyType.map((el, i) => {\r\n          const slideBtn = React.createRef();\r\n          return (\r\n            <div\r\n              ref={slideBtn}\r\n              className={\r\n                clickedTypeLocal === el.name\r\n                  ? \"companyNavBlock activeBtn\"\r\n                  : \"companyNavBlock\"\r\n              }\r\n              key={i}\r\n              onClick={e => {\r\n                clickedType(el.name);\r\n                setClickedTypeLocal(el.name);\r\n                scrollBtnToCenter(e);\r\n              }}\r\n            >\r\n              <Link\r\n                className={\r\n                  clickedTypeLocal === el.name\r\n                    ? \"companyNavLink activeBtnText\"\r\n                    : \"companyNavLink\"\r\n                }\r\n                to={currentPage}\r\n              >\r\n                <img\r\n                  alt=\"Icon\"\r\n                  className=\"сompanyNavImg\"\r\n                  src={`${process.env.PUBLIC_URL}/img/${el.slug}.png`}\r\n                  width=\"30\"\r\n                  height=\"30\"\r\n                />\r\n                <p className=\"сompanyNavText\">{el.name}</p>\r\n              </Link>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CompanyNav;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./typeNav.css\";\r\n\r\nconst TypeNav = ({ style }) => {\r\n  return (\r\n    <div className=\"TypeNav\" style={{ ...style }}>\r\n      <Link\r\n        style={{ color: \"#000\" }}\r\n        className=\"typeNavText typeNavBlock\"\r\n        to={{\r\n          pathname: \"/map\"\r\n        }}\r\n      >\r\n        <p>КАРТА</p>\r\n      </Link>\r\n      <Link\r\n        style={{ color: \"#000\" }}\r\n        className=\"typeNavText typeNavBlock\"\r\n        to={{ pathname: \"/home\" }}\r\n      >\r\n        <p>СПИСОК </p>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TypeNav;\r\n","export const getDistanceFromLatLonInKm = (lat1, lon1, lat2, lon2) => {\r\n  const R = 6371; // Radius of the earth in km\r\n  const dLat = deg2rad(lat2 - lat1); // deg2rad below\r\n  const dLon = deg2rad(lon2 - lon1);\r\n  const a =\r\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos(deg2rad(lat1)) *\r\n      Math.cos(deg2rad(lat2)) *\r\n      Math.sin(dLon / 2) *\r\n      Math.sin(dLon / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  const d = R * c; // Distance in km\r\n  return d;\r\n};\r\n\r\nfunction deg2rad(deg) {\r\n  return deg * (Math.PI / 180);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./smallCompanyBlock.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { isShowStreamNow, isWorkTimeNow } from \"../../calculateTime\";\r\nimport { getDistanceFromLatLonInKm } from \"../../getDistance\";\r\n\r\nconst SmallCompanyBlock = ({ item }) => {\r\n  const [showStream, setShowStream] = useState(false);\r\n  const [workTime, setWorkTime] = useState(false);\r\n  const [isWork, setIsWork] = useState(false);\r\n  const [curDistance, setCurDistance] = useState(null);\r\n\r\n  useEffect(() => {\r\n    isShowStreamNow(item, setShowStream);\r\n    isWorkTimeNow(item, setWorkTime, setIsWork);\r\n  }, [item]);\r\n\r\n  if (navigator.geolocation) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      pos => {\r\n        setCurDistance(\r\n          getDistanceFromLatLonInKm(\r\n            pos.coords.latitude,\r\n            pos.coords.longitude,\r\n            item.coordinates.split(\",\")[0],\r\n            item.coordinates.split(\",\")[1]\r\n          )\r\n        );\r\n      },\r\n      err => {\r\n        console.log(err, \" GEOLOCATION ERROR \");\r\n      }\r\n    );\r\n  } else {\r\n    console.log(\"Геолокация недоступна \");\r\n  }\r\n\r\n  return (\r\n    <Link\r\n      to={{ pathname: `/company/${item.id}` }}\r\n      className=\"SmallCompanyBlock1\"\r\n    >\r\n      <div className=\"imgContainer1\" style={{ background: \"#000\" }}>\r\n        {!!showStream && (\r\n          <video\r\n            className=\"companyImg1\"\r\n            src={item.streams[0].preview}\r\n            autoPlay\r\n          />\r\n        )}\r\n        {!showStream && (\r\n          <div\r\n            className=\"companyImg1\"\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\"\r\n            }}\r\n          >\r\n            <p style={{ color: \"#fff\", textAlign: \"center\", padding: \"20px\" }}>\r\n              На данный момент стрим не идет\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"description1\">\r\n        <div className=\"topBlockText1\">\r\n          <div className=\"companyNameWrap1\">\r\n            <p className=\"companyName1\">{item.name}</p>\r\n            <p className=\"companyType1\">{item.categories[0].name} </p>\r\n          </div>\r\n          {/* <p className=\"companyTitle1\">???????</p> */}\r\n        </div>\r\n        <div className=\"bottomBlockText1\">\r\n          <div className=\"row1\">\r\n            <p className=\"leftText1\">Время работы</p>\r\n          </div>\r\n          <p className=\"rightText1\">{workTime}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"descriptionMobile1\">\r\n        <p className=\"nameOfCompany1\">\r\n          {item.categories[0].name} “{item.name}”\r\n        </p>\r\n        <p className=\"distanceFirst1 distanceFirstLeft1\">\r\n          {curDistance && <span>{Number(curDistance).toFixed(2)} km</span>}\r\n          {!curDistance && \" 0 km.\"}\r\n        </p>\r\n        {isWork && (\r\n          <p className=\"endTime1\">\r\n            Открыто: до\r\n            <span> {workTime.split(\"-\")[1]}</span>\r\n          </p>\r\n        )}\r\n        {!isWork && (\r\n          <p className=\"endTime1\">\r\n            {/* {workTime} */}\r\n            Закрыто\r\n          </p>\r\n        )}\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default SmallCompanyBlock;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./slideSideMenu.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nconst SlideSideMenu = ({ isShowMenu }) => {\r\n  const [shomMenu, setShowMenu] = useState(false);\r\n  const [cookies, setCookie, removeCookie] = useCookies([]);\r\n\r\n  // console.log(cookies.origin_id, \"COOKIES MENU\");\r\n\r\n  useEffect(() => {\r\n    if (!isShowMenu) {\r\n      setTimeout(() => {\r\n        setShowMenu(false);\r\n      }, 300);\r\n    } else {\r\n      setShowMenu(true);\r\n    }\r\n  }, [isShowMenu]);\r\n\r\n  return (\r\n    <div\r\n      className=\"SlideSideMenuWrap\"\r\n      style={shomMenu ? { display: \"block\" } : { display: \"none\" }}\r\n    >\r\n      <div\r\n        className=\"SlideSideMenu\"\r\n        style={\r\n          isShowMenu\r\n            ? { animation: \"on 0.25s ease\", right: 0 }\r\n            : { animation: \"off 0.25s ease\", right: \"-200px\" }\r\n        }\r\n      >\r\n        <ul className=\"sideMenuUl\">\r\n          <li className=\"sideMenuLi\">\r\n            <Link to=\"/home\">Главная</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/map\">Карта</Link>\r\n          </li>\r\n          <li>\r\n            {!!cookies.origin_id && <Link to=\"/editCompany\">График</Link>}\r\n          </li>\r\n          <li>\r\n            {!cookies.origin_id && <Link to=\"/login\">Вход</Link>}\r\n            {!!cookies.origin_id && (\r\n              <Link\r\n                onClick={() => {\r\n                  console.log(cookies, \" COOKIES\");\r\n                  removeCookie(\"origin_data\");\r\n                  removeCookie(\"origin_id\");\r\n                  console.log(cookies, \" ==COOKIES\");\r\n                }}\r\n                to=\"/login\"\r\n              >\r\n                Выход\r\n              </Link>\r\n            )}\r\n          </li>\r\n          <li>\r\n            <Link to=\"/registration\">Регистрация</Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SlideSideMenu;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./bottomMenu.css\";\r\n\r\nconst BottomMenu = ({ style, toSlideFixedBottomMenu }) => {\r\n  return (\r\n    <div\r\n      className=\"BottomMenu\"\r\n      style={\r\n        (toSlideFixedBottomMenu\r\n          ? {\r\n              animation: \"toLeftFixed 0.3s ease\",\r\n              left: \"-200px\"\r\n            }\r\n          : {\r\n              animation: \"toRightFixed 0.3s ease\",\r\n              left: \"0px\"\r\n            },\r\n        style)\r\n      }\r\n    >\r\n      <Link to=\"/home\">\r\n        <img\r\n          alt=\"Home\"\r\n          src={`${process.env.PUBLIC_URL}/img/menu2.png`}\r\n          className=\"homeImg\"\r\n        />\r\n      </Link>\r\n      <Link to=\"/map\">\r\n        <img\r\n          alt=\"Loc\"\r\n          src={`${process.env.PUBLIC_URL}/img/location1.png`}\r\n          className=\"locationImg\"\r\n        />\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BottomMenu;\r\n","import React from \"react\";\r\n\r\nimport \"./burger.css\";\r\n\r\nconst Burger = ({ showSlideSideMenu, showSideMenu }) => {\r\n  return (\r\n    <span\r\n      className={showSlideSideMenu ? \"activeburger\" : \"burger\"}\r\n      onClick={() => {\r\n        if (!showSlideSideMenu) {\r\n          showSideMenu();\r\n        }\r\n      }}\r\n    >\r\n      <span></span>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default Burger;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Burger from \"../burger/Burger\";\r\nimport \"./header.css\";\r\n\r\nconst Header = ({\r\n  showSlideSideMenu,\r\n  showSideMenu,\r\n  style,\r\n  burger,\r\n  arrow,\r\n  logo,\r\n  toSlideFixedHeader\r\n}) => {\r\n  let history = useHistory();\r\n  return (\r\n    <div\r\n      className=\"headerContainer\"\r\n      style={\r\n        (style,\r\n        toSlideFixedHeader\r\n          ? {\r\n              animation: \"toLeftFixed 0.3s ease\",\r\n              left: \"-200px\"\r\n            }\r\n          : {\r\n              animation: \"toRightFixed 0.3s ease\",\r\n              left: \"0px\"\r\n            })\r\n      }\r\n    >\r\n      <div className=\"header\">\r\n        {arrow && (\r\n          <div\r\n            className=\"arrowGoBack\"\r\n            onClick={() => {\r\n              history.goBack();\r\n            }}\r\n          ></div>\r\n        )}\r\n        {logo && (\r\n          <Link to=\"/home\">\r\n            <p className=\"party_live\">\r\n              PARTY<span className=\"live\">.LIVE</span>\r\n            </p>\r\n          </Link>\r\n        )}\r\n\r\n        {burger && (\r\n          <Burger\r\n            showSlideSideMenu={showSlideSideMenu}\r\n            showSideMenu={showSideMenu}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nimport \"./loader.css\";\r\n\r\nconst Loader = () => (\r\n  <div className=\"loaderWrap\">\r\n    <div className=\"lds-roller\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport CompanyNav from \"../../components/companyNav/CompanyNav\";\r\nimport TypeNav from \"../../components/typeNav/TypeNav\";\r\nimport SmallCompanyBlock from \"../../components/smallCompanyBlock/SmallCompanyBlock\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nimport \"./home.css\";\r\n\r\nimport QUERY from \"../../query\";\r\n\r\nconst Home = props => {\r\n  const [DATA, setDATA] = useState([]);\r\n  const [companyData, setCompanyData] = useState([]);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n        places {\r\n          id name address description logo menu actions coordinates\r\n          streams{url name id preview\r\n            schedules{id day start_time end_time}\r\n          }\r\n          schedules {id day start_time end_time}\r\n          categories {id name}\r\n        }\r\n      }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        setIsLoading(false);\r\n        setCompanyData(data.data.places);\r\n        setDATA(data.data.places);\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  ERR\");\r\n      });\r\n  }, []);\r\n\r\n  const clickedType = type => {\r\n    if (type) {\r\n      const filteredData = DATA.filter(\r\n        el => el.categories[0].name.toUpperCase() === type.toUpperCase()\r\n      );\r\n      setCompanyData(filteredData);\r\n    } else {\r\n      setCompanyData(DATA);\r\n    }\r\n  };\r\n\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={e => {\r\n        if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n          hideSideMenu();\r\n        }\r\n      }}\r\n      style={\r\n        isShowMenu\r\n          ? {\r\n              animation: \"toLeft 0.3s ease\",\r\n              position: \"relative\",\r\n              right: \"200px\"\r\n            }\r\n          : {\r\n              animation: \"toRight 0.3s ease\",\r\n              position: \"relative\"\r\n            }\r\n      }\r\n    >\r\n      <div>\r\n        <Header\r\n          logo\r\n          burger\r\n          toSlideFixedHeader={isShowMenu}\r\n          showSlideSideMenu={showSlideSideMenu}\r\n          showSideMenu={showSideMenu}\r\n        />\r\n        <div className=\"homeContentWrap\">\r\n          <div className=\"navContainer\">\r\n            <CompanyNav\r\n              currentPage=\"/home\"\r\n              toSlideFixedNav={isShowMenu}\r\n              clickedType={type => {\r\n                clickedType(type);\r\n              }}\r\n            />\r\n            <TypeNav />\r\n          </div>\r\n          <div className=\"homeContent\">\r\n            {!!companyData.length &&\r\n              companyData.map((el, i) => (\r\n                <SmallCompanyBlock item={el} key={i} />\r\n              ))}\r\n            {!companyData.length && isLoading && <Loader />}\r\n            {!companyData.length && !isLoading && (\r\n              <div\r\n                style={{\r\n                  padding: \"20px\"\r\n                }}\r\n              >\r\n                Заведений с данным типо нет\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <BottomMenu toSlideFixedBottomMenu={isShowMenu} />\r\n      </div>\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n\r\n// =================================================\r\n// const [isLogin, setIsLogin] = useState(false);\r\n\r\n// const requestBody = {\r\n//   query: `\r\n//     mutation {\r\n//       login (input: {\r\n//           username: \"admin@example.com\",\r\n//           password: \"password\"\r\n//       }) {\r\n//         access_token\r\n//         refresh_token\r\n//         expires_in\r\n//         token_type\r\n//         user {\r\n//           id\r\n//           name\r\n//           email\r\n//         }\r\n//       }\r\n//   }`\r\n// };\r\n// useEffect(() => {\r\n//   if (myContext.token) {\r\n//     fetch(\"http://194.87.95.37/graphql\", {\r\n//       method: \"POST\",\r\n//       body: JSON.stringify(requestBodyCreateNew),\r\n//       headers: {\r\n//         \"Content-Type\": \"application/json\",\r\n//         Authorization: \"Bearer \" + myContext.token\r\n//       }\r\n//     })\r\n//       .then(res => {\r\n//         if (res.status !== 200 && res.status !== 201) {\r\n//           throw new Error(\"Failed!!!\");\r\n//         }\r\n//         return res.json();\r\n//       })\r\n//       .then(data => {\r\n//         console.log(data, \" DATA ------2\");\r\n//       })\r\n//       .catch(err => {\r\n//         console.log(err, \"------------- ERRRRRRR\");\r\n//       });\r\n//   } else {\r\n//     console.log(\"ТОКЕНА НЕТ!!!!\");\r\n//   }\r\n// }, []);\r\n\r\n// ЭТО СОРТИРОВКА\r\n// const getSecondsTime = (year, month, day, hours, minutes) => {\r\n//   return Number(new Date(year, month, day, hours, minutes).getTime());\r\n// };\r\n\r\n// const current_time = new Date().getTime();\r\n// const year = new Date().getFullYear(),\r\n//   month = new Date().getMonth(),\r\n//   day = new Date().getDate();\r\n\r\n// const quickWorkTimeSort = object => {\r\n//   if (object.length <= 1) {\r\n//     return object;\r\n//   } else {\r\n//     const left = [],\r\n//       right = [];\r\n\r\n//     object.forEach((el, i) => {\r\n//       const startTime =\r\n//         +el.work_time[0].split(\":\")[0] * 3600 +\r\n//         +el.work_time[0].split(\":\")[1] * 60;\r\n//       let endTime =\r\n//         +el.work_time[1].split(\":\")[0] * 3600 +\r\n//         +el.work_time[1].split(\":\")[1] * 60;\r\n\r\n//       // ПОШЕЛ СЛЕДУЮЩИЙ ДЕНЬ (найти подругому)\r\n//       if (startTime > endTime) {\r\n//         //ПОЛУЧЕНИЕ СЛЕДУЮЩЕГО ДНЯ В СЕКУНДАХ\r\n//         const dayNow = new Date(year, month, day);\r\n//         const nextDay = new Date(dayNow);\r\n//         nextDay.setDate(dayNow.getDate() + 1);\r\n//         const fullEndTomorrowTime = nextDay.getTime() + endTime; // ВРЕМЯ КОНЦА РАБОТЫ ЗАВТРАШНИМ ДНЕМ\r\n\r\n//         if (\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.work_time[0].split(\":\")[0],\r\n//             +el.work_time[0].split(\":\")[1]\r\n//           ) <= Number(current_time) &&\r\n//           Number(fullEndTomorrowTime) > Number(current_time)\r\n//         ) {\r\n//           left.push(el);\r\n//         } else {\r\n//           right.push(el);\r\n//         }\r\n//       } else {\r\n//         // ВСЕ ПРОИСХОДИТ В ОДИН ДЕНЬ\r\n//         if (\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.work_time[0].split(\":\")[0],\r\n//             +el.work_time[0].split(\":\")[1]\r\n//           ) <= Number(current_time) &&\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.work_time[1].split(\":\")[0],\r\n//             +el.work_time[1].split(\":\")[1]\r\n//           ) > Number(current_time)\r\n//         ) {\r\n//           left.push(el);\r\n//         } else {\r\n//           right.push(el);\r\n//         }\r\n//       }\r\n//     });\r\n//     return [...left, ...right];\r\n//   }\r\n// };\r\n\r\n// const quickStreemTimeSort = object => {\r\n//   if (object.length <= 1) {\r\n//     return object;\r\n//   } else {\r\n//     const left = [],\r\n//       right = [];\r\n\r\n//     object.forEach((el, i) => {\r\n//       const startTime =\r\n//         +el.streem_time[0].split(\":\")[0] * 3600 +\r\n//         +el.streem_time[0].split(\":\")[1] * 60;\r\n//       let endTime =\r\n//         +el.streem_time[1].split(\":\")[0] * 3600 +\r\n//         +el.streem_time[1].split(\":\")[1] * 60;\r\n\r\n//       // ПОШЕЛ СЛЕДУЮЩИЙ ДЕНЬ (найти подругому)\r\n//       if (startTime > endTime) {\r\n//         //ПОЛУЧЕНИЕ СЛЕДУЮЩЕГО ДНЯ В СЕКУНДАХ\r\n//         const dayNow = new Date(year, month, day);\r\n//         const nextDay = new Date(dayNow);\r\n//         nextDay.setDate(dayNow.getDate() + 1);\r\n//         const fullEndTomorrowTime = nextDay.getTime() + endTime; // ВРЕМЯ КОНЦА РАБОТЫ ЗАВТРАШНИМ ДНЕМ\r\n\r\n//         if (\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.streem_time[0].split(\":\")[0],\r\n//             +el.streem_time[0].split(\":\")[1]\r\n//           ) <= Number(current_time) &&\r\n//           Number(fullEndTomorrowTime) > Number(current_time)\r\n//         ) {\r\n//           left.push(el);\r\n//         } else {\r\n//           right.push(el);\r\n//         }\r\n//       } else {\r\n//         // ВСЕ ПРОИСХОДИТ В ОДИН ДЕНЬ\r\n//         if (\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.streem_time[0].split(\":\")[0],\r\n//             +el.streem_time[0].split(\":\")[1]\r\n//           ) <= Number(current_time) &&\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.streem_time[1].split(\":\")[0],\r\n//             +el.streem_time[1].split(\":\")[1]\r\n//           ) > Number(current_time)\r\n//         ) {\r\n//           left.push(el);\r\n//         } else {\r\n//           right.push(el);\r\n//         }\r\n//       }\r\n//     });\r\n//     return [...left, ...right];\r\n//   }\r\n// };\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport GooggleMapReact from \"google-map-react\";\r\nimport useSupercluster from \"use-supercluster\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Header from \"../../components/header/Header\";\r\n\r\nimport QUERY from \"../../query\";\r\nimport { isShowStreamNow, isWorkTimeNow } from \"../../calculateTime\";\r\n\r\nimport \"./map.css\";\r\n\r\nimport TypeNav from \"../../components/typeNav/TypeNav\";\r\nimport CompanyNav from \"../../components/companyNav/CompanyNav\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nconst Marker = ({ children }) => children;\r\n\r\nconst MapComponent = props => {\r\n  const [DATA, setDATA] = useState([]);\r\n\r\n  const [markers, setMarkers] = useState([]);\r\n\r\n  const mapRef = useRef();\r\n  const [zoom, setZoom] = useState(11);\r\n  const [bounds, setBounds] = useState(null);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query{\r\n        places{id name coordinates\r\n          streams{url name id preview\r\n            schedules{id day start_time end_time}\r\n          }\r\n          schedules{id day start_time end_time}\r\n          categories{id name slug}}\r\n        }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        setIsLoading(false);\r\n        setMarkers(data.data.places);\r\n        setDATA(data.data.places);\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  ERR\");\r\n      });\r\n  }, []);\r\n\r\n  const points = markers.map((el, i) => {\r\n    return {\r\n      type: \"Feature\",\r\n      item: el,\r\n      properties: {\r\n        cluster: false,\r\n        crimeId: i,\r\n        category: el.categories[0].name\r\n      },\r\n      geometry: {\r\n        type: \"Point\",\r\n        coordinates: [\r\n          +el.coordinates.split(\",\")[1],\r\n          +el.coordinates.split(\",\")[0]\r\n        ]\r\n      }\r\n    };\r\n  });\r\n\r\n  const { clusters } = useSupercluster({\r\n    points,\r\n    bounds,\r\n    zoom,\r\n    options: {\r\n      radius: 170,\r\n      maxZoom: 20\r\n    }\r\n  });\r\n\r\n  const clickedType = type => {\r\n    if (type) {\r\n      const filteredData = DATA.filter(\r\n        el => el.categories[0].name.toUpperCase() === type.toUpperCase()\r\n      );\r\n      setMarkers(filteredData);\r\n    } else {\r\n      setMarkers(DATA);\r\n    }\r\n  };\r\n\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    setTimeout(() => {\r\n      document.body.style.overflow = \"visible\";\r\n    }, 400);\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function(e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const [defaultCenter, setDefaultCenter] = useState();\r\n\r\n  if (navigator.geolocation && !defaultCenter) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      pos => {\r\n        console.log(pos.coords, \"GEO POS____\");\r\n        setDefaultCenter({\r\n          lat: pos.coords.latitude,\r\n          lng: pos.coords.longitude\r\n        });\r\n      },\r\n      err => {\r\n        console.log(err, \" GEOLOCATION ERROR\");\r\n      }\r\n    );\r\n  } else {\r\n    console.log(\"Геолокация недоступна\");\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={e => {\r\n        if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n          hideSideMenu();\r\n        }\r\n      }}\r\n    >\r\n      <Header\r\n        logo\r\n        arrow\r\n        burger\r\n        toSlideFixedHeader={isShowMenu}\r\n        showSlideSideMenu={showSlideSideMenu}\r\n        showSideMenu={showSideMenu}\r\n      />\r\n      <div className=\"navContainerMap\">\r\n        <CompanyNav\r\n          style={{ zIndex: 1 }}\r\n          currentPage=\"/map\"\r\n          clickedType={clickedType}\r\n        />\r\n        <TypeNav style={{ zIndex: 1 }} />\r\n      </div>\r\n      {isLoading && <Loader />}\r\n      {!isLoading && (\r\n        <div className=\"mapContainer\">\r\n          <GooggleMapReact\r\n            style={{\r\n              height: \"100%\",\r\n              width: \"100%\"\r\n            }}\r\n            bootstrapURLKeys={{\r\n              key: \"AIzaSyDX0WzPwqT3ZDzTYJAeO3VGPS6YQgYFudM\"\r\n              // key: \"AIzaSyAZQdg3dPHXD5Bt-Dgi85wNHG5G_MXpR7g\"\r\n            }}\r\n            defaultCenter={\r\n              defaultCenter || {\r\n                lat: 53.904577,\r\n                lng: 27.557328\r\n              }\r\n            }\r\n            defaultZoom={8}\r\n            yesIWantToUseGoogleMapApiInternals\r\n            onGoogleApiLoaded={({ map }) => {\r\n              mapRef.current = map;\r\n            }}\r\n            onChange={({ zoom, bounds }) => {\r\n              setZoom(zoom);\r\n              setBounds([\r\n                bounds.nw.lng,\r\n                bounds.se.lat,\r\n                bounds.se.lng,\r\n                bounds.nw.lat\r\n              ]);\r\n            }}\r\n          >\r\n            {defaultCenter && (\r\n              <Marker lat={defaultCenter.lat} lng={defaultCenter.lng}>\r\n                <img\r\n                  alt=\"me\"\r\n                  style={{ height: \"32px\", width: \"32px\" }}\r\n                  src={`${process.env.PUBLIC_URL}/img/dancer.png`}\r\n                  className=\"eye\"\r\n                />\r\n              </Marker>\r\n            )}\r\n\r\n            {clusters.map(cluster => {\r\n              const [longitude, latitude] = cluster.geometry.coordinates;\r\n              const {\r\n                cluster: isCluster,\r\n                point_count: pointCount\r\n              } = cluster.properties;\r\n\r\n              //ЗАМЕНА НА ЦИФРЫ\r\n              if (isCluster) {\r\n                return (\r\n                  <Marker\r\n                    key={cluster.properties.cluster_id}\r\n                    lat={latitude}\r\n                    lng={longitude}\r\n                  >\r\n                    <div className=\"clusterMarker\">\r\n                      <p> {pointCount}</p>\r\n                    </div>\r\n                  </Marker>\r\n                );\r\n              }\r\n\r\n              //БЕЗ ЗАМЕНЫ НА ЦИФРЫ\r\n              console.log(cluster.item, \" ITEM\");\r\n\r\n              let streamTime = \"\",\r\n                workTime = \"\",\r\n                isWork = false;\r\n\r\n              const setShowStream = time => {\r\n                streamTime = time;\r\n              };\r\n              const setWorkTime = time => {\r\n                workTime = time;\r\n              };\r\n              const setIsWork = bool => {\r\n                isWork = bool;\r\n              };\r\n\r\n              isShowStreamNow(cluster.item, setShowStream);\r\n              isWorkTimeNow(cluster.item, setWorkTime, setIsWork);\r\n\r\n              return (\r\n                <Marker\r\n                  key={cluster.properties.crimeId}\r\n                  lat={latitude}\r\n                  lng={longitude}\r\n                >\r\n                  <Link\r\n                    to={{\r\n                      pathname: `/company/${cluster.item.id}`\r\n                    }}\r\n                  >\r\n                    <div className=\"mapMarkerWrap\">\r\n                      <div className=\"mapMarker\">\r\n                        {!!streamTime && (\r\n                          <video\r\n                            className=\"companyImg1\"\r\n                            src={cluster.item.streams[0].preview}\r\n                            autoPlay\r\n                          />\r\n                        )}\r\n                        {!streamTime && (\r\n                          <div\r\n                            className=\"companyImg1\"\r\n                            style={{\r\n                              display: \"flex\",\r\n                              alignItems: \"center\",\r\n                              justifyContent: \"center\"\r\n                            }}\r\n                          >\r\n                            <p\r\n                              style={{\r\n                                color: \"#fff\",\r\n                                textAlign: \"center\",\r\n                                padding: \"3px\"\r\n                              }}\r\n                            >\r\n                              Трансляции нет\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <p className=\"mapMarkerName\">\r\n                        {cluster.item.categories[0].name} \"{cluster.item.name}\"\r\n                        <span className=\"openedTo\">\r\n                          {isWork && (\r\n                            <span> Открыто: до {workTime.split(\"-\")[1]}</span>\r\n                          )}\r\n                          {!isWork && <span> Закрыто </span>}\r\n                        </span>\r\n                      </p>\r\n                      <div className=\"arrow\"></div>\r\n                    </div>\r\n                  </Link>\r\n                </Marker>\r\n              );\r\n            })}\r\n          </GooggleMapReact>\r\n        </div>\r\n      )}\r\n\r\n      <BottomMenu toSlideFixedBottomMenu={isShowMenu} />\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapComponent;\r\n","import React from \"react\";\r\n\r\nimport \"./popup.css\";\r\n\r\nconst Popup = ({ children, togglePopup, style, wrpaStyle }) => {\r\n  return (\r\n    <div\r\n      className=\"popup\"\r\n      onClick={e => {\r\n        if (e.target.className === \"popup\") {\r\n          togglePopup();\r\n        }\r\n      }}\r\n      style={wrpaStyle}\r\n    >\r\n      <div className=\"popup_inner\" style={style}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Popup;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport GooggleMapReact from \"google-map-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ReactHLS from \"react-hls\";\r\n\r\nimport Popup from \"../../components/popup/Popup\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nimport { isShowStreamNow, isWorkTimeNow } from \"../../calculateTime\";\r\nimport { getDistanceFromLatLonInKm } from \"../../getDistance\";\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./company.css\";\r\n\r\nconst Marker = ({ children }) => children;\r\n\r\nconst Company = props => {\r\n  const [showPopup, setShowPopap] = useState(false);\r\n  const [DATA, setDATA] = useState(null);\r\n  const [geoposition, setGeoposition] = useState([0, 0]);\r\n  const dayOfWeek = [\r\n    \"Понедельник\",\r\n    \"Вторник\",\r\n    \"Среда\",\r\n    \"Четверг\",\r\n    \"Пятница\",\r\n    \"Суббота\",\r\n    \"Воскресенье\"\r\n  ];\r\n  const [showStream, setShowStream] = useState(false);\r\n  const [workTime, setWorkTime] = useState(false);\r\n  const [isWork, setIsWork] = useState(false);\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [curDistance, setCurDistance] = useState(null);\r\n\r\n  const numberDayNow = new Date().getDay() === 0 ? 6 : new Date().getDay() - 1;\r\n\r\n  useEffect(() => {\r\n    if (DATA) {\r\n      isShowStreamNow(DATA.place, setShowStream);\r\n      isWorkTimeNow(DATA.place, setWorkTime, setIsWork);\r\n    }\r\n  }, [DATA]);\r\n\r\n  useEffect(() => {\r\n    if (DATA) {\r\n      setGeoposition([\r\n        +DATA.place.coordinates.split(\",\")[0],\r\n        +DATA.place.coordinates.split(\",\")[1]\r\n      ]);\r\n    }\r\n  }, [DATA]);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n        place (id: ${props.match.params.id}) {\r\n          id name address description\r\n          streams{url name id preview\r\n            schedules{id day start_time end_time}\r\n          }\r\n          categories{name slug}\r\n          coordinates\r\n          schedules {day start_time end_time}\r\n          user {id name email}\r\n        }\r\n      }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        setIsLoading(false);\r\n        setDATA(data.data);\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  ONE PLACE\");\r\n      });\r\n  }, []);\r\n\r\n  const togglePopup = () => {\r\n    showPopup ? setShowPopap(false) : setShowPopap(true);\r\n  };\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function(e) {\r\n    setWindowWidth(e.target.innerWidth);\r\n    hideSideMenu();\r\n  };\r\n\r\n  if (navigator.geolocation && DATA) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      pos => {\r\n        setCurDistance(\r\n          getDistanceFromLatLonInKm(\r\n            pos.coords.latitude,\r\n            pos.coords.longitude,\r\n            DATA.place.coordinates.split(\",\")[0],\r\n            DATA.place.coordinates.split(\",\")[1]\r\n          )\r\n        );\r\n      },\r\n      err => {\r\n        console.log(err, \" GEOLOCATION ERROR \");\r\n      }\r\n    );\r\n  } else {\r\n    console.log(\"Геолокация недоступна \");\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={e => {\r\n        if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n          hideSideMenu();\r\n        }\r\n      }}\r\n    >\r\n      <div\r\n        className=\"Company\"\r\n        style={\r\n          isShowMenu\r\n            ? {\r\n                animation: \"toLeft 0.3s ease\",\r\n                position: \"relative\",\r\n                right: \"200px\"\r\n              }\r\n            : {\r\n                animation: \"toRight 0.3s ease\",\r\n                position: \"relative\"\r\n              }\r\n        }\r\n        onClick={e => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n            hideSideMenu();\r\n          }\r\n        }}\r\n      >\r\n        {windowWidth && windowWidth > 760 && (\r\n          <div className=\"bigCompanyHeader\">\r\n            <Link to=\"/home\"> &#60; На главную</Link>\r\n          </div>\r\n        )}\r\n        {windowWidth && windowWidth < 760 && (\r\n          <Header\r\n            logo\r\n            burger\r\n            arrow\r\n            toSlideFixedHeader={isShowMenu}\r\n            isShowMenu={isShowMenu}\r\n            showSlideSideMenu={showSlideSideMenu}\r\n            showSideMenu={showSideMenu}\r\n          />\r\n        )}\r\n        {DATA && (\r\n          <div className=\"flex\">\r\n            <div className=\"shadowBlock\">\r\n              <div className=\"videoBlock\">\r\n                {showStream && (\r\n                  <ReactHLS\r\n                    url={DATA.place.streams[0].url}\r\n                    controls={true}\r\n                    autoplay={true}\r\n                  />\r\n                )}\r\n                {!showStream && (\r\n                  <div className=\"noVideo\">\r\n                    На данный момент трансляция не запланирована\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"showWatchPeople\"></div>\r\n                <p className=\"videoDescription\">\r\n                  <span>{DATA.place.name}</span> - {DATA.place.description}\r\n                </p>\r\n              </div>\r\n              <div className=\"desc\">\r\n                <div className=\"mobileDescription\">\r\n                  <h3>\r\n                    <span className=\"mobileCompanyType\">\r\n                      {DATA.place.categories[0].name} \"\r\n                    </span>\r\n                    {DATA.place.name}\r\n                    <span className=\"mobileCompanyType\">\"</span>\r\n                  </h3>\r\n                  <p className=\"typeOfPati\">тип мероприятия?????</p>\r\n                  <p className=\"dayOfWeek\">{dayOfWeek[numberDayNow]}</p>\r\n                  <p className=\"distance\">\r\n                    {curDistance && (\r\n                      <span>{Number(curDistance).toFixed(2)} km</span>\r\n                    )}\r\n                    {!curDistance && \" 0 km\"}\r\n                  </p>\r\n                </div>\r\n                <p className=\"smallOpenedTo\">\r\n                  {isWork && <span>Открыто: до {workTime.split(\"-\")[1]}</span>}\r\n                  {!isWork && \"Закрыто\"}\r\n                </p>\r\n                <div className=\"timeBlocks\">\r\n                  <div className=\"timeBlock\">\r\n                    <img\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                      alt=\"clock\"\r\n                      src={`${process.env.PUBLIC_URL}/img/clock.png`}\r\n                    />\r\n                    <p className=\"rightTimeBlock\">\r\n                      <span>Время работы:</span> <span>{workTime}</span>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"timeBlock streamTime\">\r\n                    <img\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                      alt=\"camera\"\r\n                      src={`${process.env.PUBLIC_URL}/img/camera.png`}\r\n                    />\r\n                    <p className=\"rightTimeBlock\">\r\n                      <span> Стрим:</span>\r\n                      <span>\r\n                        {showStream ? \" Стрим идет\" : \" Стрим не идет\"}\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"timeBlock\">\r\n                    <img\r\n                      alt=\"location\"\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                      src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n                    />\r\n                    <p className=\"rightTimeBlock\">\r\n                      <span>Адрес: </span>\r\n                      <span>{DATA.place.address}</span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                {windowWidth && windowWidth > 760 && (\r\n                  <div className=\"smallMapWrap\">\r\n                    <div className=\"smallMap\">\r\n                      <GooggleMapReact\r\n                        onClick={() => {\r\n                          togglePopup();\r\n                        }}\r\n                        // bootstrapURLKeys={{key: MY_KEY}}\r\n                        defaultCenter={{\r\n                          lat: geoposition[0],\r\n                          lng: geoposition[1]\r\n                        }}\r\n                        defaultZoom={10}\r\n                      >\r\n                        <Marker lat={geoposition[0]} lng={geoposition[1]}>\r\n                          <button className=\"mapMarkerCompany\">\r\n                            <img\r\n                              alt=\"img\"\r\n                              src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n                            ></img>\r\n                          </button>\r\n                        </Marker>\r\n                      </GooggleMapReact>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"type\">{DATA.place.categories[0].name}</div>\r\n            </div>\r\n            {!!windowWidth && windowWidth <= 760 && (\r\n              <div className=\"smallMapWrap\">\r\n                <div className=\"smallMap\">\r\n                  <GooggleMapReact\r\n                    onClick={() => {\r\n                      togglePopup();\r\n                    }}\r\n                    // bootstrapURLKeys={{key: MY_KEY}}\r\n                    defaultCenter={{\r\n                      lat: geoposition[0],\r\n                      lng: geoposition[1]\r\n                    }}\r\n                    defaultZoom={10}\r\n                  >\r\n                    <Marker lat={geoposition[0]} lng={geoposition[1]}>\r\n                      <button className=\"mapMarkerCompany\">\r\n                        <img\r\n                          alt=\"img\"\r\n                          src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n                        ></img>\r\n                      </button>\r\n                    </Marker>\r\n                  </GooggleMapReact>\r\n                </div>\r\n                <p className=\"smallMapLocation\">\r\n                  {DATA ? DATA.place.address : \"\"}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n        {!DATA && isLoading && <Loader />}\r\n        {showPopup && (\r\n          <Popup togglePopup={togglePopup}>\r\n            <GooggleMapReact\r\n              style={{ height: \"100%\", width: \"100%\" }}\r\n              // bootstrapURLKeys={{key: MY_KEY}}\r\n              defaultCenter={{\r\n                lat: geoposition[0],\r\n                lng: geoposition[1]\r\n              }}\r\n              defaultZoom={10}\r\n            >\r\n              <Marker lat={geoposition[0]} lng={geoposition[1]}>\r\n                <button className=\"mapMarkerCompany\">\r\n                  <img\r\n                    alt=\"img\"\r\n                    src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n                  ></img>\r\n                </button>\r\n              </Marker>\r\n            </GooggleMapReact>\r\n            <div className=\"closeBtn\" onClick={togglePopup}>\r\n              &#215;\r\n            </div>\r\n          </Popup>\r\n        )}\r\n      </div>\r\n      <BottomMenu toSlideFixedBottomMenu={isShowMenu} />\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Company;\r\n","import React, { useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\n\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./auth.css\";\r\n\r\nconst Login = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n  const [isLogin, setIsLogin] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [isForgetPass, setIsForgetPass] = useState(false);\r\n\r\n  const [cookies, setCookie, removeCookie] = useCookies([]);\r\n\r\n  const userLogin = (email, password) => {\r\n    QUERY({\r\n      query: `mutation {\r\n        login (input: {\r\n            username: \"${email}\",\r\n            password: \"${password}\"\r\n        }) {access_token refresh_token expires_in token_type\r\n          user {id name email}\r\n        }\r\n      }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (!data.errors) {\r\n          console.log(data, \" !!!! KKKKK\");\r\n          setCookie(\"origin_data\", data.data.login.access_token);\r\n          setCookie(\"origin_id\", data.data.login.user.id);\r\n          setIsLogin(true);\r\n        } else {\r\n          removeCookie(\"origin_data\");\r\n          removeCookie(\"origin_id\");\r\n          setIsLogin(false);\r\n          console.log(data.errors, \"------------------ERR\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        removeCookie(\"origin_data\");\r\n        removeCookie(\"origin_id\");\r\n        setIsLogin(false);\r\n        console.log(err, \"  *****************ERR\");\r\n      });\r\n  };\r\n\r\n  if (!!isLogin || !!cookies.origin_id) {\r\n    return <Redirect to=\"/editCompany\" />;\r\n  } else {\r\n    return (\r\n      <div\r\n        className=\"Login\"\r\n        onClick={e => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n            hideSideMenu();\r\n          }\r\n        }}\r\n        style={\r\n          isShowMenu\r\n            ? {\r\n                animation: \"toLeft 0.3s ease\",\r\n                position: \"relative\",\r\n                right: \"200px\"\r\n              }\r\n            : {\r\n                animation: \"toRight 0.3s ease\",\r\n                position: \"relative\"\r\n              }\r\n        }\r\n      >\r\n        <Header\r\n          logo\r\n          burger\r\n          toSlideFixedHeader={isShowMenu}\r\n          showSlideSideMenu={showSlideSideMenu}\r\n          showSideMenu={showSideMenu}\r\n        />\r\n        <div className=\"authBlock\">\r\n          <h4>{!isForgetPass ? \"АВТОРИЗАЦИЯ\" : \"ВОССТАНОВЛЕНИЕ ПАРОЛЯ\"}</h4>\r\n          <form\r\n            onSubmit={e => {\r\n              e.preventDefault();\r\n              !isForgetPass && userLogin(email, password);\r\n            }}\r\n          >\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"email\"\r\n              value={email}\r\n              onChange={e => {\r\n                setEmail(e.target.value);\r\n              }}\r\n            />\r\n            {!isForgetPass && (\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"password\"\r\n                value={password}\r\n                onChange={e => {\r\n                  setPassword(e.target.value);\r\n                }}\r\n              />\r\n            )}\r\n            {!isForgetPass && <input type=\"submit\" value=\"ВОЙТИ\" />}\r\n            {isForgetPass && <p className=\"btnSubmit\">ОТПРАВИТЬ</p>}\r\n          </form>\r\n          <p\r\n            className=\"forgetPass\"\r\n            onClick={() => {\r\n              setIsForgetPass(prev => !prev);\r\n            }}\r\n          >\r\n            {!isForgetPass ? \"  Забыли пароль?\" : \" Уже есть аккаунт?\"}\r\n          </p>\r\n        </div>\r\n        <SlideSideMenu isShowMenu={isShowMenu} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./editCompany.css\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst EditCompany = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function(e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const [cookies, setCookie, removeCookie] = useCookies([]);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const [places, setPlaces] = useState([]);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n            places {id name}\r\n          }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (!data.errors) {\r\n          setIsLoading(false);\r\n          setPlaces(data.data.places);\r\n          console.log(data.data.places, \" edit compani  DATA\");\r\n        } else {\r\n          console.log(data.errors, \" ERRORS\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  *****************ERR\");\r\n      });\r\n  }, []);\r\n\r\n  if (!cookies.origin_id) {\r\n    return <Redirect to=\"/login\" />;\r\n  } else {\r\n    return (\r\n      <div\r\n        onClick={e => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n            hideSideMenu();\r\n          }\r\n        }}\r\n      >\r\n        <div\r\n          className=\"EditCompany\"\r\n          style={\r\n            isShowMenu\r\n              ? {\r\n                  animation: \"toLeft 0.3s ease\",\r\n                  position: \"relative\",\r\n                  right: \"200px\"\r\n                }\r\n              : {\r\n                  animation: \"toRight 0.3s ease\",\r\n                  position: \"relative\"\r\n                }\r\n          }\r\n          onClick={e => {\r\n            if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n              hideSideMenu();\r\n            }\r\n          }}\r\n        >\r\n          <Header\r\n            logo\r\n            burger\r\n            arrow\r\n            toSlideFixedHeader={isShowMenu}\r\n            showSlideSideMenu={showSlideSideMenu}\r\n            showSideMenu={showSideMenu}\r\n          />\r\n          {!isLoading && (\r\n            <div className=\"editCompanyContent\">\r\n              <h3>СПИСОК СТРИМОВ</h3>\r\n              <ul>\r\n                {places.map(({ id, name }) => (\r\n                  <li key={id}>\r\n                    <Link to={`/admin/${id}`}>{name}</Link>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n          {isLoading && <Loader />}\r\n        </div>\r\n\r\n        <BottomMenu\r\n          style={{ borderTop: \"1px solid #ECECEC\" }}\r\n          toSlideFixedBottomMenu={isShowMenu}\r\n        />\r\n        <SlideSideMenu isShowMenu={isShowMenu} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default EditCompany;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\n\r\nimport \"./auth.css\";\r\n\r\nconst Registration = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [canTypePass, setCanTypePass] = useState(false);\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n\r\n  return (\r\n    <div\r\n      className=\"Login\"\r\n      onClick={e => {\r\n        if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n          hideSideMenu();\r\n        }\r\n      }}\r\n      style={\r\n        isShowMenu\r\n          ? {\r\n              animation: \"toLeft 0.3s ease\",\r\n              position: \"relative\",\r\n              right: \"200px\"\r\n            }\r\n          : {\r\n              animation: \"toRight 0.3s ease\",\r\n              position: \"relative\"\r\n            }\r\n      }\r\n    >\r\n      <Header\r\n        logo\r\n        burger\r\n        toSlideFixedHeader={isShowMenu}\r\n        showSlideSideMenu={showSlideSideMenu}\r\n        showSideMenu={showSideMenu}\r\n      />\r\n      <div className=\"authBlock\">\r\n        {!isSuccess && (\r\n          <>\r\n            <h4>{!canTypePass ? \"РЕГИСТРАЦИЯ\" : \"ВВЕДИТЕ ПАРОЛЬ\"}</h4>\r\n            <form\r\n              onSubmit={e => {\r\n                e.preventDefault();\r\n                if (email) {\r\n                  setCanTypePass(true);\r\n                }\r\n                if (password) {\r\n                  setIsSuccess(true);\r\n                }\r\n              }}\r\n            >\r\n              {!canTypePass && (\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  placeholder=\"email\"\r\n                  value={email}\r\n                  onChange={e => {\r\n                    setEmail(e.target.value);\r\n                  }}\r\n                />\r\n              )}\r\n              {canTypePass && (\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"password\"\r\n                  value={password}\r\n                  onChange={e => {\r\n                    setPassword(e.target.value);\r\n                  }}\r\n                />\r\n              )}\r\n              <input type=\"submit\" value=\"ВОЙТИ\" />\r\n            </form>\r\n            <Link className=\"forgetPass\" to=\"/login\">\r\n              Уже есть аккаунт?\r\n            </Link>\r\n          </>\r\n        )}\r\n        {isSuccess && (\r\n          <>\r\n            <h4>ПОЗДРАВЛЯЕМ!</h4>\r\n            <p className=\"successText\">Вы успешно прошли регистрацию!</p>\r\n            <Link to=\"/home\" className=\"btnSubmit\">\r\n              ПЕРЕЙТИ НА ГЛАВНУЮ\r\n            </Link>\r\n          </>\r\n        )}\r\n      </div>\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Registration;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport ReactHLS from \"react-hls\";\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Popup from \"../../components/popup/Popup\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./admin.css\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst TimePicker = ({ timePickerName, setTime }) => {\r\n  const [hours, setHours] = useState(\"00\");\r\n  const [minutes, setMinutes] = useState(\"00\");\r\n\r\n  const clickHandlerTop = (e, max) => {\r\n    e.target.nextSibling.innerText = +e.target.nextSibling.innerText + 1;\r\n    if (+e.target.nextSibling.innerText === max) {\r\n      e.target.nextSibling.innerText = 0;\r\n    }\r\n    if (+e.target.nextSibling.innerText < 10) {\r\n      e.target.nextSibling.innerText = \"0\" + e.target.nextSibling.innerText;\r\n    }\r\n    if (max === 24) {\r\n      setHours(e.target.nextSibling.innerText);\r\n    } else {\r\n      setMinutes(e.target.nextSibling.innerText);\r\n    }\r\n  };\r\n\r\n  const clickHandlerBottom = (e, max) => {\r\n    if (+e.target.previousSibling.innerText === 0) {\r\n      e.target.previousSibling.innerText = max;\r\n    }\r\n    e.target.previousSibling.innerText =\r\n      +e.target.previousSibling.innerText - 1;\r\n\r\n    if (e.target.previousSibling.innerText < 10) {\r\n      e.target.previousSibling.innerText =\r\n        \"0\" + e.target.previousSibling.innerText;\r\n    }\r\n    if (max === 24) {\r\n      setHours(e.target.previousSibling.innerText);\r\n    } else {\r\n      setMinutes(e.target.previousSibling.innerText);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTime(hours, minutes);\r\n  }, [hours, minutes]);\r\n\r\n  return (\r\n    <div className=\"timePickerWrap\">\r\n      <p className=\"timePickerName\">{timePickerName}</p>\r\n      <div className=\"timePicker\">\r\n        <div className=\"timePickerHoursWrap\">\r\n          <span\r\n            className=\"topArrow\"\r\n            onClick={e => {\r\n              clickHandlerTop(e, 24);\r\n            }}\r\n          ></span>\r\n          <p className=\"timePickerHours\">00</p>\r\n          <span\r\n            className=\"bottomArrow\"\r\n            onClick={e => {\r\n              clickHandlerBottom(e, 24);\r\n            }}\r\n          ></span>\r\n        </div>\r\n        <p className=\"twoDots\">:</p>\r\n        <div className=\"timePickerMinutesWrap\">\r\n          <span\r\n            className=\"topArrow\"\r\n            onClick={e => {\r\n              clickHandlerTop(e, 60);\r\n            }}\r\n          ></span>\r\n          <p className=\"timePickerMinutes\">00</p>\r\n          <span\r\n            className=\"bottomArrow\"\r\n            onClick={e => {\r\n              clickHandlerBottom(e, 60);\r\n            }}\r\n          ></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Admin = props => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const [DATA, setDATA] = useState([]);\r\n\r\n  const [showPopup, setShowPopap] = useState(false);\r\n\r\n  const [startTimePicker, setStartTimePicker] = useState(\"00:00\");\r\n  const [endTimePicker, setEndTimePicker] = useState(\"00:00\");\r\n\r\n  const [clickedTime, setClickedTime] = useState([]);\r\n\r\n  const [cookies, setCookie, removeCookie] = useCookies([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const refreshData = () => {\r\n    QUERY({\r\n      query: `query {\r\n      place (id:\"${props.match.params.id}\") {\r\n        id name address description logo menu actions coordinates\r\n        streams{url name id preview\r\n          schedules{id day start_time end_time}\r\n        }\r\n        schedules {id day start_time end_time}\r\n        categories {id name}\r\n      }\r\n  }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (!data.errors) {\r\n          setIsLoading(false);\r\n          console.log(data, \" %%%%%%%%%%%%%%%%%\");\r\n          setDATA(data.data.place);\r\n        } else {\r\n          console.log(data.errors, \" ERRORS\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  *****************ERR\");\r\n      });\r\n  };\r\n\r\n  const setWorkTimeOfOneDay = () => {\r\n    if (cookies.origin_data) {\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n          updateSchedule(\r\n            input:{\r\n              id:\"${clickedTime.id}\"\r\n              start_time: \"${startTimePicker}\"\r\n              end_time: \"${endTimePicker}\"\r\n            }\r\n          ){id day start_time end_time}\r\n        }`\r\n        }\r\n        // ,\r\n        // cookies.origin_data\r\n      )\r\n        .then(res => {\r\n          return res.json();\r\n        })\r\n        .then(data => {\r\n          if (!data.errors) {\r\n            refreshData();\r\n            console.log(data, \" ??????????????????\");\r\n          } else {\r\n            console.log(data.errors, \" ERRORS\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err, \"  *****************ERR\");\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (cookies.origin_data) {\r\n      refreshData();\r\n    }\r\n  }, []);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function(e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const accordionHandler = e => {\r\n    if (e.target.nextSibling.style.maxHeight) {\r\n      e.target.nextSibling.style.maxHeight = null;\r\n      e.target.firstElementChild.style.transform = \"rotate(0deg)\";\r\n    } else {\r\n      e.target.nextSibling.style.maxHeight =\r\n        e.target.nextSibling.scrollHeight + \"px\";\r\n      e.target.firstElementChild.style.transform = \"rotate(180deg)\";\r\n    }\r\n  };\r\n\r\n  const togglePopup = () => {\r\n    showPopup ? setShowPopap(false) : setShowPopap(true);\r\n  };\r\n\r\n  if (showPopup) {\r\n    document.body.style.overflow = \"hidden\";\r\n  } else {\r\n    document.body.style.overflow = \"auto\";\r\n  }\r\n\r\n  const setStartTime = (h, m) => {\r\n    setStartTimePicker(\"\" + h + \":\" + m);\r\n  };\r\n  const setEndTime = (h, m) => {\r\n    setEndTimePicker(\"\" + h + \":\" + m);\r\n  };\r\n\r\n  if (!cookies.origin_id) {\r\n    return <Redirect to=\"/login\" />;\r\n  } else {\r\n    return (\r\n      <div\r\n        onClick={e => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n            hideSideMenu();\r\n          }\r\n        }}\r\n      >\r\n        <div\r\n          className=\"Admin\"\r\n          style={\r\n            isShowMenu\r\n              ? {\r\n                  animation: \"toLeft 0.3s ease\",\r\n                  position: \"relative\",\r\n                  right: \"200px\"\r\n                }\r\n              : {\r\n                  animation: \"toRight 0.3s ease\",\r\n                  position: \"relative\"\r\n                }\r\n          }\r\n          onClick={e => {\r\n            if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n              hideSideMenu();\r\n            }\r\n          }}\r\n        >\r\n          <Header\r\n            logo\r\n            burger\r\n            arrow\r\n            toSlideFixedHeader={isShowMenu}\r\n            showSlideSideMenu={showSlideSideMenu}\r\n            showSideMenu={showSideMenu}\r\n          />\r\n          {isLoading && <Loader />}\r\n          {!isLoading && (\r\n            <div className=\"adminContent\">\r\n              {!!DATA.streams && (\r\n                <ReactHLS\r\n                  url={DATA.streams[0].url}\r\n                  controls={true}\r\n                  hlsConfig={{}}\r\n                  videoProps={{\r\n                    autoPlay: true,\r\n                    crossOrigin: \"anonymous\",\r\n                    preload: \"metadata\"\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              <div className=\"adminMenuContainer\">\r\n                <div className=\"menuBlockWrap profile\">\r\n                  <div\r\n                    className=\"menuBlock\"\r\n                    onClick={e => {\r\n                      accordionHandler(e);\r\n                    }}\r\n                  >\r\n                    Профиль заведения\r\n                    <span className=\"rotateArrow\"></span>\r\n                  </div>\r\n                  <div className=\"drDownWrap\">В разработке</div>\r\n                </div>\r\n                <div className=\"menuBlockWrap workSchedule\">\r\n                  <div\r\n                    className=\"menuBlock\"\r\n                    onClick={e => {\r\n                      accordionHandler(e);\r\n                    }}\r\n                  >\r\n                    График работы\r\n                    <span className=\"rotateArrow\"></span>\r\n                  </div>\r\n                  <div className=\"drDownWrap\">\r\n                    <table>\r\n                      <tbody>\r\n                        {!!DATA.schedules &&\r\n                          DATA.schedules.map((el, i) => (\r\n                            <tr key={i}>\r\n                              <td>{el.day}</td>\r\n                              <td\r\n                                onClick={() => {\r\n                                  togglePopup();\r\n                                  setClickedTime(el);\r\n                                }}\r\n                              >\r\n                                {el.start_time} - {el.end_time}\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n                <div className=\"menuBlockWrap streamSchedule\">\r\n                  <div\r\n                    className=\"menuBlock\"\r\n                    onClick={e => {\r\n                      accordionHandler(e);\r\n                    }}\r\n                  >\r\n                    График трансляций\r\n                    <span className=\"rotateArrow\"></span>\r\n                  </div>\r\n                  <div className=\"drDownWrap\">\r\n                    <table>\r\n                      <tbody>\r\n                        {!!DATA &&\r\n                          DATA.streams &&\r\n                          DATA.streams[0].schedules.map((el, i) => {\r\n                            if (i < 7) {\r\n                              return (\r\n                                <tr key={i}>\r\n                                  <td>{el.day}</td>\r\n                                  <td\r\n                                    onClick={() => {\r\n                                      togglePopup();\r\n                                      setClickedTime(el);\r\n                                    }}\r\n                                  >\r\n                                    {el.start_time} - {el.end_time}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            }\r\n                          })}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n                <div className=\"menuBlockWrap address\">\r\n                  <div\r\n                    className=\"menuBlock\"\r\n                    onClick={e => {\r\n                      accordionHandler(e);\r\n                    }}\r\n                  >\r\n                    Адрес заведения\r\n                    <span className=\"rotateArrow\"></span>\r\n                  </div>\r\n                  <div className=\"drDownWrap\">В разработке</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {showPopup && (\r\n          <Popup\r\n            togglePopup={togglePopup}\r\n            wrpaStyle={{ alignItems: \"flex-end\" }}\r\n            style={{}}\r\n          >\r\n            <div className=\"popupWrapper\">\r\n              <span className=\"closePopupBtn\" onClick={togglePopup}></span>\r\n              <div className=\"TimePickerContainer\">\r\n                <TimePicker timePickerName=\"Пн\" setTime={setStartTime} />\r\n                <span className=\"space\"></span>\r\n                <TimePicker timePickerName=\"Вт\" setTime={setEndTime} />\r\n              </div>\r\n              <p className=\"makeAsDayOff\">Сделать выходным</p>\r\n              <div\r\n                className=\"saveBtn\"\r\n                onClick={() => {\r\n                  togglePopup();\r\n                  setWorkTimeOfOneDay();\r\n                }}\r\n              >\r\n                Сохранить\r\n              </div>\r\n            </div>\r\n          </Popup>\r\n        )}\r\n        <BottomMenu\r\n          style={{ borderTop: \"1px solid #ECECEC\" }}\r\n          toSlideFixedBottomMenu={isShowMenu}\r\n        />\r\n        <SlideSideMenu isShowMenu={isShowMenu} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Admin;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  format,\r\n  addMonths,\r\n  subMonths,\r\n  startOfWeek,\r\n  addDays,\r\n  startOfMonth,\r\n  endOfMonth,\r\n  endOfWeek,\r\n  isSameMonth,\r\n  isSameDay,\r\n  addYears,\r\n  subYears,\r\n  startOfYear,\r\n  getWeekOfMonth\r\n} from \"date-fns\";\r\n\r\nimport \"./calendar.css\";\r\n\r\nimport { ru } from \"date-fns/locale\";\r\nimport buildLocalizeFn from \"date-fns/locale/_lib/buildLocalizeFn\";\r\n\r\nconst monthValues = {\r\n  narrow: [\"Я\", \"Ф\", \"М\", \"А\", \"М\", \"И\", \"И\", \"А\", \"С\", \"О\", \"Н\", \"Д\"],\r\n  abbreviated: [\r\n    \"янв.\",\r\n    \"фев.\",\r\n    \"март\",\r\n    \"апр.\",\r\n    \"май\",\r\n    \"июнь\",\r\n    \"июль\",\r\n    \"авг.\",\r\n    \"сент.\",\r\n    \"окт.\",\r\n    \"нояб.\",\r\n    \"дек.\"\r\n  ],\r\n  wide: [\r\n    \"январь\",\r\n    \"февраль\",\r\n    \"март\",\r\n    \"апрель\",\r\n    \"май\",\r\n    \"июнь\",\r\n    \"июль\",\r\n    \"август\",\r\n    \"сентябрь\",\r\n    \"октябрь\",\r\n    \"ноябрь\",\r\n    \"декабрь\"\r\n  ]\r\n};\r\n\r\nru.localize.month = buildLocalizeFn({\r\n  values: monthValues,\r\n  defaultWidth: \"wide\",\r\n  defaultFormattingWidth: \"wide\"\r\n});\r\n\r\nconst Calendar = () => {\r\n  const [currentMonth, setCurrentMonth] = useState(new Date());\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n\r\n  const [currentYear, setCurrentYear] = useState(new Date());\r\n  const [showTopFixedBlock, setShowTopFixedBloc] = useState(false);\r\n\r\n  const [choosedDayMonth, setChoosedDayMonth] = useState(false);\r\n\r\n  document.body.style.background = \"#fff\";\r\n\r\n  const renderHeader = allMonths => {\r\n    const dateFormat = \"MMMM\";\r\n    return (\r\n      <div className=\"monthNameBigCalendar\">\r\n        <div className=\"\">\r\n          {!allMonths && (\r\n            <div className=\"icon\" onClick={prevMonth}>\r\n              chevron_left\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col col-center\">\r\n          <span>\r\n            {format(allMonths || currentMonth, dateFormat, { locale: ru })}\r\n          </span>\r\n        </div>\r\n        {!allMonths && (\r\n          <div className=\"\" onClick={nextMonth}>\r\n            <div className=\"icon\">chevron_right</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderDays = () => {\r\n    const dateFormat = \"E\";\r\n    const days = [];\r\n    let startDate = startOfWeek(currentMonth, { weekStartsOn: 1 });\r\n    for (let i = 0; i < 7; i++) {\r\n      days.push(\r\n        <div\r\n          className=\"col col-center\"\r\n          key={i}\r\n          style={\r\n            format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n            format(addDays(startDate, i), \"E\") === \"Sun\"\r\n              ? { color: \"#f86262\" }\r\n              : {}\r\n          }\r\n        >\r\n          {format(addDays(startDate, i), \"E\") === \"Sat\"\r\n            ? \"Сб\"\r\n            : format(addDays(startDate, i), dateFormat, { locale: ru }).slice(\r\n                0,\r\n                2\r\n              )}\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div\r\n        className=\"days row\"\r\n        style={{\r\n          background: \"rgb(243, 242, 242)\",\r\n          boxShadow: \"0 0 1px 0 rgba(0,0,0,0.05)\"\r\n        }}\r\n      >\r\n        {days}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const onDateClick = (day, e) => {\r\n    document.body.style.overflow = \"hidden\";\r\n    setSelectedDate(day);\r\n\r\n    const currentRow = e.target.closest(\".animationRow\");\r\n    const currentCalendar = e.target.closest(\".animationMonthCalendar\");\r\n    const animationMonthCalendar = document.getElementsByClassName(\r\n      \"animationMonthCalendar\"\r\n    );\r\n    const curCalendarId = document.getElementById(format(selectedDate, \"MMMM\"));\r\n    const calendarBody = curCalendarId.querySelector(\".body\");\r\n    const animationRows = calendarBody.querySelectorAll(\".animationRow\");\r\n\r\n    for (let j = 0; j < 12; j++) {\r\n      if (animationRows[j]) {\r\n        animationRows[j].style.height = \"50px\";\r\n      }\r\n      animationMonthCalendar[j].style.display = \"none\";\r\n    }\r\n\r\n    currentCalendar.style.display = \"block\";\r\n    currentCalendar.style.marginTop =\r\n      100 - getWeekOfMonth(day, { weekStartsOn: 1 }) * 50 + \"px\";\r\n\r\n    setTimeout(() => {\r\n      currentRow.style.height = window.innerHeight + \"px\";\r\n    }, 350);\r\n\r\n    setChoosedDayMonth(format(day, \"MMMM yyyy\", { locale: ru }));\r\n  };\r\n\r\n  const renderCells = allMonths => {\r\n    const monthStart = startOfMonth(allMonths || currentMonth);\r\n    const monthEnd = endOfMonth(monthStart);\r\n    const startDate = startOfWeek(monthStart, { weekStartsOn: 1 });\r\n    const endDate = endOfWeek(monthEnd);\r\n\r\n    const dateFormat = \"d\";\r\n    const rows = [];\r\n    let days = [];\r\n    let day = startDate;\r\n    let formattedDate = \"\";\r\n\r\n    while (day <= endDate) {\r\n      for (let i = 0; i < 7; i++) {\r\n        formattedDate = format(day, dateFormat);\r\n        const cloneDay = day;\r\n        days.push(\r\n          <div\r\n            className={`col cell outline ${\r\n              !isSameMonth(day, monthStart)\r\n                ? !choosedDayMonth\r\n                  ? \"disabled\"\r\n                  : \"disabledOpacity\"\r\n                : isSameDay(day, selectedDate)\r\n                ? \"selected\"\r\n                : \"\"\r\n            }`}\r\n            style={\r\n              format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n              format(addDays(startDate, i), \"E\") === \"Sun\"\r\n                ? isSameMonth(day, monthStart)\r\n                  ? { color: \"#f86262\", height: \"50px\" }\r\n                  : { height: \"50px\" }\r\n                : { height: \"50px\" }\r\n            }\r\n            key={day}\r\n            onClick={e => {\r\n              !e.target.classList.contains(\"disabled\") &&\r\n                !e.target.classList.contains(\"disabledOpacity\") &&\r\n                !e.target.classList.contains(\"numberDisabled\") &&\r\n                onDateClick(cloneDay, e);\r\n            }}\r\n          >\r\n            <span\r\n              className={\r\n                !isSameMonth(day, monthStart)\r\n                  ? \"number numberDisabled\"\r\n                  : \"number\"\r\n              }\r\n            >\r\n              {formattedDate}\r\n            </span>\r\n          </div>\r\n        );\r\n        day = addDays(day, 1);\r\n      }\r\n      rows.push(\r\n        <div\r\n          className=\"row animationRow\"\r\n          key={day}\r\n          style={{ height: \"50px\", overflow: \"hidden\" }}\r\n        >\r\n          {days}\r\n          <div className=\"calendarDayDescription\">\r\n            <p>{format(selectedDate, \"EEEE d MMMM yyyy\", { locale: ru })} г.</p>\r\n          </div>\r\n        </div>\r\n      );\r\n      days = [];\r\n    }\r\n    return <div className=\"body\">{rows}</div>;\r\n  };\r\n\r\n  const nextMonth = () => {\r\n    setCurrentMonth(addMonths(currentMonth, 1));\r\n  };\r\n  const prevMonth = () => {\r\n    setCurrentMonth(subMonths(currentMonth, 1));\r\n  };\r\n\r\n  // ==================IOS START======================\r\n  //ALL MONTHS\r\n  let yearStart = startOfYear(currentYear);\r\n  const monthsOfYear = [];\r\n  for (let i = 0; i < 12; i++) {\r\n    monthsOfYear.push(yearStart);\r\n    yearStart = addMonths(yearStart, 1);\r\n  }\r\n\r\n  const nextIosYear = () => {\r\n    setCurrentYear(addYears(currentYear, 1));\r\n  };\r\n  const prevIosYear = () => {\r\n    setCurrentYear(subYears(currentYear, 1));\r\n  };\r\n\r\n  const renderIosHeader = () => {\r\n    const dateFormat = \"yyyy\";\r\n    return (\r\n      <div className=\"headerIos rowIos \">\r\n        <div className=\"\">\r\n          <div className=\"icon\" onClick={prevIosYear}>\r\n            chevron_left\r\n          </div>\r\n        </div>\r\n        <div className=\"headerIosYear\">\r\n          <span>{format(currentYear, dateFormat, { locale: ru })}</span>\r\n        </div>\r\n        <div className=\"\" onClick={nextIosYear}>\r\n          <div className=\"icon\">chevron_right</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderIosCells = el => {\r\n    const monthStart = startOfMonth(el);\r\n    const monthEnd = endOfMonth(monthStart);\r\n    const startDate = startOfWeek(monthStart, { weekStartsOn: 1 });\r\n    const endDate = endOfWeek(monthEnd);\r\n\r\n    const clickOnMonth = () => {\r\n      setCurrentMonth(el);\r\n\r\n      const iosCalendar = document.getElementsByClassName(\"iosCalendar\")[0];\r\n      const bigCalendarWrap = document.getElementsByClassName(\r\n        \"bigCalendarWrap\"\r\n      )[0];\r\n\r\n      iosCalendar.style.opacity = \"0\";\r\n      iosCalendar.style.zIndex = 0;\r\n\r\n      bigCalendarWrap.style.opacity = \"1\";\r\n      bigCalendarWrap.style.display = \"block\";\r\n      bigCalendarWrap.style.zIndex = 1;\r\n\r\n      setShowTopFixedBloc(true);\r\n\r\n      setTimeout(() => {\r\n        document\r\n          .getElementById(format(el, \"MMMM\"))\r\n          .scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n        window.scrollTo(0, window.pageYOffset);\r\n      }, 500);\r\n    };\r\n\r\n    const dateFormat = \"d\";\r\n    const rows = [];\r\n    let days = [];\r\n    let day = startDate;\r\n    let formattedDate = \"\";\r\n    while (day <= endDate) {\r\n      for (let i = 0; i < 7; i++) {\r\n        formattedDate = format(day, dateFormat);\r\n        days.push(\r\n          <div\r\n            className={`col cellIos ${\r\n              !isSameMonth(day, monthStart)\r\n                ? \"disabledIos\"\r\n                : isSameDay(day, selectedDate)\r\n                ? \"selectedIos\"\r\n                : \"\"\r\n            }`}\r\n            style={{\r\n              height: \"18px\",\r\n              fontSize: \"10px\"\r\n            }}\r\n            key={day}\r\n          >\r\n            <span\r\n              className=\"number\"\r\n              style={\r\n                format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n                format(addDays(startDate, i), \"E\") === \"Sun\"\r\n                  ? { color: \"#999\", display: \"flex\", alignSelf: \"center\" }\r\n                  : { display: \"flex\", alignSelf: \"center\" }\r\n              }\r\n            >\r\n              {formattedDate}\r\n            </span>\r\n          </div>\r\n        );\r\n        day = addDays(day, 1);\r\n      }\r\n      rows.push(\r\n        <div className=\"rowIos\" key={day}>\r\n          {days}\r\n        </div>\r\n      );\r\n      days = [];\r\n    }\r\n    return (\r\n      <div\r\n        className=\"iosCalendarWrap\"\r\n        onClick={e => {\r\n          clickOnMonth();\r\n        }}\r\n      >\r\n        <p\r\n          className=\"iosMonth\"\r\n          style={\r\n            isSameMonth(el, new Date())\r\n              ? { color: \"rgb(248, 98, 98)\" }\r\n              : { color: \"black\" }\r\n          }\r\n        >\r\n          {format(el, \"MMMM\", { locale: ru })}\r\n        </p>\r\n        <div className=\"body\">{rows}</div>\r\n      </div>\r\n    );\r\n  };\r\n  // ==================IOS END====================\r\n\r\n  return (\r\n    <div className=\"calendar\" style={{ border: \"none\" }}>\r\n      <div className=\"iosCalendar\">\r\n        {renderIosHeader()}\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            flexWrap: \"wrap\",\r\n            margin: \"5px\",\r\n            background: \"#fff\"\r\n          }}\r\n        >\r\n          {monthsOfYear.map((el, i) => {\r\n            return (\r\n              <div className=\"animationCalendarBlock\" key={i}>\r\n                {renderIosCells(el)}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <div>\r\n        {\r\n          <div\r\n            className={\r\n              showTopFixedBlock ? \"fixedBlocksShow\" : \"fixedBlocksHide\"\r\n            }\r\n          >\r\n            <p\r\n              className=\"topArrowWrap\"\r\n              onClick={e => {\r\n                if (!choosedDayMonth) {\r\n                  // CLICK по    < 2020 >\r\n                  const iosCalendar = document.getElementsByClassName(\r\n                    \"iosCalendar\"\r\n                  )[0];\r\n                  const bigCalendarWrap = document.getElementsByClassName(\r\n                    \"bigCalendarWrap\"\r\n                  )[0];\r\n                  setShowTopFixedBloc(false);\r\n\r\n                  iosCalendar.style.opacity = \"1\";\r\n                  iosCalendar.style.zIndex = 1;\r\n\r\n                  bigCalendarWrap.style.opacity = \"0\";\r\n                  bigCalendarWrap.style.display = \"none\";\r\n                } else {\r\n                  // CLICK по    < январь 2020\r\n                  document.body.style.overflow = \"auto\";\r\n\r\n                  const animationMonthCalendar = document.getElementsByClassName(\r\n                    \"animationMonthCalendar\"\r\n                  );\r\n\r\n                  const curCalendarId = document.getElementById(\r\n                    format(selectedDate, \"MMMM\")\r\n                  );\r\n                  const calendarBody = curCalendarId.querySelector(\".body\");\r\n                  const animationRows = calendarBody.querySelectorAll(\r\n                    \".animationRow\"\r\n                  );\r\n\r\n                  for (let j = 0; j < 12; j++) {\r\n                    if (animationRows[j]) {\r\n                      animationRows[j].style.height = \"50px\";\r\n                    }\r\n                  }\r\n                  setChoosedDayMonth(false);\r\n\r\n                  setTimeout(() => {\r\n                    for (let i = 0; i < 12; i++) {\r\n                      animationMonthCalendar[i].style.display = \"block\";\r\n                      animationMonthCalendar[i].style.marginTop = 10 + \"px\";\r\n                      if (i === 0) {\r\n                        animationMonthCalendar[i].style.marginTop = 100 + \"px\";\r\n                      }\r\n                    }\r\n                    document\r\n                      .getElementById(format(selectedDate, \"MMMM\"))\r\n                      .scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n                  }, 400);\r\n                }\r\n              }}\r\n            >\r\n              <span className=\"topArrowCalendar\">\r\n                <span>{choosedDayMonth || format(currentYear, \"yyyy\")}</span>\r\n              </span>\r\n            </p>\r\n            {renderDays()}\r\n          </div>\r\n        }\r\n        <div className={`bigCalendarWrap`}>\r\n          {monthsOfYear.map((el, i) => {\r\n            return (\r\n              <div\r\n                key={i}\r\n                id={format(el, \"MMMM\")}\r\n                className=\"animationMonthCalendar\"\r\n                style={\r\n                  ({ margin: \"10px\" },\r\n                  +format(el, \"M\") === 1\r\n                    ? { marginTop: \"100px\" }\r\n                    : { marginTop: \"10px\" })\r\n                }\r\n              >\r\n                {renderHeader(el)}\r\n                {renderCells(el)}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calendar;\r\n","import React, { useState } from \"react\";\n\nimport Home from \"./pages/home/Home\";\nimport Map from \"./pages/map/Map\";\nimport Company from \"./pages/company/Company\";\nimport Login from \"./pages/auth/Login\";\nimport EditCompany from \"./pages/editCompany/EditCompany\";\nimport Registration from \"./pages/auth/Registration\";\nimport Admin from \"./pages/admin/Admin\";\nimport Calendar from \"./components/calendar/Calendar\";\n\nimport \"./App.css\";\n\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nimport { CookiesProvider } from \"react-cookie\";\n\nconst customHistory = createBrowserHistory();\n\nconst App = () => {\n  return (\n    <BrowserRouter history={customHistory}>\n      <CookiesProvider>\n        <div className=\"App\">\n          <Switch>\n            <Route exact path=\"/home/:type?\" component={Home} />\n            <Route path=\"/map\" component={Map} />\n            <Route path=\"/company/:id\" component={Company} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/registration\" component={Registration} />\n            <Route path=\"/admin/:id\" component={Admin} />\n            <Route path=\"/calendar\" component={Calendar} />\n            <Route path=\"/editCompany\" component={EditCompany} />\n            <Redirect to=\"/home\" />\n          </Switch>\n        </div>\n      </CookiesProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}