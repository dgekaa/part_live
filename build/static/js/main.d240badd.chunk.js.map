{"version":3,"sources":["calculateTime.js","query.js","components/customImg/CustomImg.js","components/companyNav/CompanyNav.js","components/typeNav/TypeNav.js","constants.js","getDistance.js","components/smallCompanyBlock/SmallCompanyBlock.js","components/slideSideMenu/SlideSideMenu.js","components/bottomMenu/BottomMenu.js","components/burger/Burger.js","components/header/Header.js","components/loader/Loader.js","pages/home/Home.js","components/googleMap/GoogleMapStyles.js","pages/map/Map.js","components/googleMap/GoogleMap.js","components/popup/Popup.js","components/videoPlayer/VideoPlayer.js","pages/company/Company.js","pages/auth/Login.js","pages/editCompany/EditCompany.js","pages/auth/Registration.js","pages/admin/TimePicker.js","pages/admin/Admin.js","pages/admin/EncodeToBase64.js","components/calendar/Calendar.js","App.js","serviceWorker.js","index.js"],"names":["numberDayYest","QUERY","body","origin_data","Promise","resolve","fetch","method","mode","JSON","stringify","headers","Authorization","CustomImg","name","className","alt","active","width","height","src","process","CompanyNav","style","clickedType","currentPage","toSlideFixedNav","useState","localStorage","getItem","parse","uniqueCompanyType","setUniqueCompanyType","isDown","setIsDown","startX","setStartX","scrollLeft","setScrollLeft","clickedTypeLocal","setClickedTypeLocal","hoveredBtn","setHoveredBtn","slideBtnMenu","useRef","supportsTouch","document","documentElement","smoothscroll","polyfill","useEffect","query","then","res","json","data","categories","catch","err","console","log","length","setItem","isClickedAllBtn","isClickedTypeBtn","animateProps","useSpring","left","config","duration","div","ref","onMouseDown","e","pageX","current","offsetLeft","onMouseLeave","onMouseUp","onMouseMove","preventDefault","walk","background","onClick","color","to","map","el","i","slideBtn","React","createRef","key","btnPositionToCenter","offsetWidth","currentTarget","scrollTo","behavior","scrollBtnToCenter","onMouseOver","onMouseOut","slug","TypeNav","pathname","window","location","API_KEY","DAY_OF_WEEK","EN_SHORT_TO_RU_LONG_V_P","Mon","Tue","Wed","Thu","Fri","Sat","Sun","EN_SHORT_TO_RU_SHORT","EN_SHORT_DAY_OF_WEEK","day","numberDayNow","Date","getDay","dayNameYest","dayNameNow","currentTimeMS","getHours","getMinutes","curDay","isShowStreamNow","item","setShowStream","setNextStreamTime","streams","yesterdayStream","todayStream","schedules","forEach","startYesterdayStreamMS","start_time","split","endYesterdayStreamMS","end_time","startTodayStreamMS","endTodayStreamMS","sch","timeObject","ind","SetNewTimeObject","sortedArr","push","isSetTime","todayStartStream","id","isWorkTimeNow","setWorkTime","setIsWork","yesterdayWorkTime","todayWorkTime","endYesterdayMS","startYesterdayMS","endTodayMS","startTodayMS","getDistanceFromLatLonInKm","lat1","lon1","lat2","lon2","dLat","deg2rad","dLon","a","Math","sin","cos","atan2","sqrt","deg","PI","SmallCompanyBlock","showStream","workTime","isWork","curDistance","setCurDistance","nextStreamTime","previewError","setPreviewError","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","coordinates","preview","autoPlay","onError","toLowerCase","Number","toFixed","SlideSideMenu","isShowMenu","shomMenu","setShowMenu","useCookies","cookies","removeCookie","setTimeout","right","display","origin_id","errors","BottomMenu","innerWidth","windowWidth","setWindowWidth","onresize","target","clickedBtnStyle","Burger","showSlideSideMenu","showSideMenu","Header","burger","arrow","logo","history","useHistory","goBack","Loader","Home","DATA","setDATA","companyData","setCompanyData","isLoading","setIsLoading","places","type","filteredData","filter","toUpperCase","filterName","setShowSlideSideMenu","setIsShowMenu","hideSideMenu","overflow","styles","featureType","elementType","stylers","lightness","visibility","weight","saturation","invert_lightness","gamma","Marker","children","createMapOptions","MapComponent","props","markers","setMarkers","mapRef","zoom","setZoom","bounds","setBounds","mouseMapCoordinates","setMouseMapCoordinates","points","properties","cluster","crimeId","category","geometry","clusters","useSupercluster","options","radius","maxZoom","referrer","setReferrer","defaultCenter","setDefaultCenter","lat","lng","mouseDownHandler","clientX","clientY","mouseUpHandler","zIndex","bootstrapURLKeys","defaultZoom","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","onChange","nw","se","isCluster","pointCount","point_count","cluster_id","streamTime","time","bool","onTouchStart","nativeEvent","changedTouches","onTouchEnd","GoogleApiWrapper","apiKey","language","LoadingContainer","google","togglePopupGoogleMap","initialCenterMap","chooseNewAddress","isNewAddress","styleContainerMap","closeBtn","initialCenter","streetName","setStreetName","latLng","setLatLng","toCenter","setToCenter","geocoder","maps","Geocoder","getLatLngFromStreet","street","fromInput","geocode","address","results","status","GeocoderStatus","OK","scrollwheel","onReady","mapProps","onDragend","getStreetFromLatLng","formatted_address","center","marker","title","position","onSelect","place","description","placeholder","initialValue","Popup","togglePopup","wrpaStyle","VideoPlayer","poster","fluid","sources","videoRef","video","loadeddata","canplay","canplaythrough","play","pause","waiting","playing","ended","error","Company","showPopup","setShowPopap","match","params","mouseDownMapHandler","mouseUpMapHandler","url","GoogleMap","Login","isLogin","setIsLogin","email","setEmail","password","setPassword","isForgetPass","setIsForgetPass","allValidationError","setAllValidationError","loginRef","setCookie","onSubmit","boxShadow","login","access_token","user","userLogin","value","prev","EditCompany","scriptErr","setScriptErr","setPlaces","Registration","setName","rePassword","setRePassword","isSuccess","setIsSuccess","oneValidationError","setOneValidationError","register","nameFirstErrInput","Object","keys","extensions","validation","tokens","TimePicker","timePickerName","setTime","realTimeInPicker","hours","setHours","minutes","setMinutes","clickHandlerTop","max","nextSibling","innerText","clickHandlerBottom","previousSibling","descriptionLengthWrap","flexDirection","fontSize","marginTop","Admin","showPopupDatePicker","setShowPopapDatePicker","showPopupGoogleMap","setShowPopapGoogleMap","startTimePicker","setStartTimePicker","endTimePicker","setEndTimePicker","startRealTimeInPicker","setStartRealTimeInPicker","endRealTimeInPicker","setEndRealTimeInPicker","isEmptyTime","setIsEmptyTime","enumWeekName","setEnumWeekName","isSetWorkTimeDPick","setIsSetWorkTimeDPick","streamAddressData","setStreamAddressData","clickedTime","setClickedTime","nameOfCompany","setNameOfCompany","pseudonimOfCompany","setPseudonimOfCompany","typeOfCompany","setTypeOfCompany","typeOfCompanyId","setTypeOfCompanyId","descOfCompany","setDescOfCompany","currentImage","setCurrentImage","refreshData","setAsDayOf","updateStream","createStream","accordionHandler","maxHeight","firstElementChild","transform","scrollHeight","togglePopupDatePicker","img","altImg","clicked","leftMenuSettings","setLeftMenuSettings","updatePlaceData","aspect","crop","setCrop","imgSrc","setImgSrc","naturalImageSize","setNaturalImageSize","currentImageSize","setCurrentImageSize","imgSrcExt","setImgSrcExt","imagePreviewCanvas","acceptedFileTypes","acceptedFileTypesArray","trim","onCropComplete","canvasRef","image64","pixelCrop","naturalSize","currentSize","widthDifference","heightDifference","canvas","ctx","getContext","image","Image","onload","drawImage","x","y","image64toCanvasRef","downloadImgFromCanvas","imageData64","toDataURL","myFileName","base64Data","filename","element","createElement","setAttribute","appendChild","click","removeChild","downloadBase64File","handeleClearToDefault","formData","FormData","append","submitBlob","alert","clearRect","verifyFile","files","currentFile","currentFileType","size","includes","handleOnDrop","rejectedFiles","myFileItemReader","FileReader","onloadend","theFile","this","result","addEventListener","myResult","substring","indexOf","readAsDataURL","isWorkTimeOrDayOff","oneDay","isSetAsDayOff","renderCustomTypeImg","newArr","newCrop","onComplete","onImageLoaded","multiple","accept","maxSize","onDrop","acceptedFiles","getRootProps","getInputProps","paddingLeft","textAlign","maxLength","fontWeight","onInput","alignItems","h","m","stringLatLng","ru","localize","month","buildLocalizeFn","values","narrow","abbreviated","wide","defaultWidth","defaultFormattingWidth","Calendar","currentMonth","setCurrentMonth","selectedDate","setSelectedDate","currentYear","setCurrentYear","showTopFixedBlock","setShowTopFixedBloc","choosedDayMonth","setChoosedDayMonth","onDateClick","currentRow","closest","currentCalendar","animationMonthCalendar","getElementsByClassName","animationRows","getElementById","format","querySelector","querySelectorAll","j","getWeekOfMonth","weekStartsOn","innerHeight","locale","nextMonth","addMonths","prevMonth","subMonths","yearStart","startOfYear","monthsOfYear","nextIosYear","addYears","prevIosYear","subYears","renderIosCells","monthStart","startOfMonth","monthEnd","endOfMonth","startDate","startOfWeek","endDate","endOfWeek","rows","days","formattedDate","isSameMonth","isSameDay","addDays","alignSelf","iosCalendar","bigCalendarWrap","opacity","scrollIntoView","block","pageYOffset","clickOnMonth","border","justifyContent","flexWrap","margin","slice","renderDays","allMonths","cloneDay","classList","contains","renderCells","customHistory","createBrowserHistory","App","CookiesProvider","exact","path","component","Map","Boolean","hostname","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"iZAGIA,E,kHCWWC,EAdD,SAACC,EAAMC,GACnB,OAAOC,QAAQC,QACbC,MAAM,8BAA+B,CACnCC,OAAQ,OACRC,KAAM,OACNN,KAAMO,KAAKC,UAAUR,GACrBS,QAAS,CACP,eAAgB,mBAChBC,cAAeT,EAAc,UAAYA,EAAc,QCUhDU,EAhBG,SAAC,GAAqD,IAAnDC,EAAkD,EAAlDA,KAAMC,EAA4C,EAA5CA,UAAWC,EAAiC,EAAjCA,IAAKC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OACxD,OACE,yBACEH,IAAKA,EACLD,UAAWA,EACXK,IACEH,EAAM,UACCI,GADD,gBAC+BP,EAD/B,oBAECO,GAFD,gBAE+BP,EAF/B,QAIRI,MAAOA,EACPC,OAAQA,KCwMCG,G,MA3MI,SAAC,GAA0D,IAAxDC,EAAuD,EAAvDA,MAAOC,EAAgD,EAAhDA,YAAaC,EAAmC,EAAnCA,YAAaC,EAAsB,EAAtBA,gBAAsB,EACzBC,mBAChDC,aAAaC,QAAQ,qBACjBpB,KAAKqB,MAAMF,aAAaC,QAAQ,sBAChC,IAJqE,mBACpEE,EADoE,KACjDC,EADiD,OAO/CL,oBAAS,GAPsC,mBAOpEM,EAPoE,KAO5DC,EAP4D,OAQ/CP,qBAR+C,mBAQpEQ,EARoE,KAQ5DC,EAR4D,OASvCT,qBATuC,mBASpEU,EAToE,KASxDC,EATwD,OAU3BX,qBAV2B,mBAUpEY,EAVoE,KAUlDC,EAVkD,OAWvCb,qBAXuC,mBAWpEc,EAXoE,KAWxDC,EAXwD,KAarEC,EAAeC,iBAAO,MAEtBC,EAAgB,iBAAkBC,SAASC,gBACjDC,IAAaC,WAEbC,qBAAU,WACRjD,EAAM,CACJkD,MAAM,sCAELC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLvB,EACEJ,aAAaC,QAAQ,qBACjBpB,KAAKqB,MAAMF,aAAaC,QAAQ,sBAChC0B,EAAKA,KAAKC,eAGjBC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,cAClC,IAEHR,qBAAU,WAENnB,GACAA,EAAkB8B,SACjBjC,aAAaC,QAAQ,sBAEtBD,aAAakC,QACX,oBACArD,KAAKC,UAAUqB,MAGlB,CAACA,IAEJ,IAcMgC,EAAkB,WACtB,OAAQxB,IAAqBX,aAAaC,QAAQ,gBAG9CmC,EAAmB,SAAClD,GACxB,OAAOc,aAAaC,QAAQ,iBAAmBf,GAG3CmD,EAAeC,YAAU,CAC7BC,KAAMzC,GAAmB,IAAM,EAC/B0C,OAAQ,CACNC,SAAU,OAId,OACE,kBAAC,IAASC,IAAV,CACEvD,UAAU,gBACVQ,MAAK,eACAA,EADA,GAEA0C,IAGL,yBACElD,UAAW,kBACXwD,IAAK5B,EACL6B,YAAa,SAACC,GACP5B,IACHX,GAAU,GACVE,EAAUqC,EAAEC,MAAQ/B,EAAagC,QAAQC,YACzCtC,EAAcK,EAAagC,QAAQtC,cAGvCwC,aAAc,WACPhC,GACHX,GAAU,IAGd4C,UAAW,WACJjC,GACHX,GAAU,IAGd6C,YAAa,SAACN,GACZ,IAAK5B,EAAe,CAClB,IAAKZ,EAAQ,OACbwC,EAAEO,iBACF,IACMC,EAAsB,GADlBR,EAAEC,MAAQ/B,EAAagC,QAAQC,WACvBzC,GAClBQ,EAAagC,QAAQtC,WAAaA,EAAa4C,KAInD,yBACElE,UACEgD,IAAoB,4BAA8B,kBAEpDxC,MAAOwC,IAAoB,CAAEmB,WAAY,WAAc,GACvDC,QAAS,SAACV,GACRjD,IACAgB,IACAZ,aAAakC,QAAQ,cAAe,MAGtC,kBAAC,IAAD,CACE/C,UACEgD,IACI,+BACA,iBAENxC,MAAOwC,IAAoB,CAAEqB,MAAO,QAAW,GAC/CC,GAAI5D,GAEJ,uBAAGV,UAAU,WAAb,wBAGHgB,EAAkBuD,KAAI,SAACC,EAAIC,GAC1B,IAAMC,EAAWC,IAAMC,YACvB,OACE,yBACEC,IAAKJ,EACLjB,IAAKkB,EACL1E,UACEiD,EAAiBuB,EAAGzE,MAChB,4BACA,kBAENS,MAAOyC,EAAiBuB,EAAGzE,MAAQ,CAAEoE,WAAY,WAAc,GAC/DC,QAAS,SAACV,GACRjD,EAAY+D,EAAGzE,MACf0B,EAAoB+C,EAAGzE,MACvBc,aAAakC,QAAQ,cAAeyB,EAAGzE,MAzG3B,SAAC2D,GACzBA,EAAEO,iBACF,IAAMa,EACJlD,EAAagC,QAAQmB,YAAc,GAClCrB,EAAEsB,cAAcnB,WACfjC,EAAagC,QAAQtC,WACrBoC,EAAEsB,cAAcD,YAAc,GAElCnD,EAAagC,QAAQqB,SAAS,CAC5B7B,KAAMxB,EAAagC,QAAQtC,WAAawD,EACxCI,SAAU,WAgGAC,CAAkBzB,IAEpB0B,YAAa,kBAAMzD,EAAc6C,EAAGzE,OACpCsF,WAAY,kBAAM1D,EAAc,MAEhC,kBAAC,IAAD,CACE3B,UACEiD,EAAiBuB,EAAGzE,MAChB,+BACA,iBAENS,MAAOyC,EAAiBuB,EAAGzE,MAAQ,CAAEsE,MAAO,QAAW,GACvDC,GAAI5D,GAEHuC,EAAiBuB,EAAGzE,MACnB,kBAAC,EAAD,CACEE,IAAI,OACJD,UAAU,qBACVD,KAAMyE,EAAGc,KACTpF,QAAM,EACNC,MAAM,KACNC,OAAO,OAEPsB,IAAe8C,EAAGzE,KACpB,kBAAC,EAAD,CACEE,IAAI,OACJD,UAAU,qBACVD,KAAMyE,EAAGc,KACTpF,QAAM,EACNC,MAAM,KACNC,OAAO,OAGT,kBAAC,EAAD,CACEH,IAAI,OACJD,UAAU,qBACVD,KAAMyE,EAAGc,KACTnF,MAAM,KACNC,OAAO,OAGX,uBAAGJ,UAAU,uBAAkBwE,EAAGzE,eC1KnCwF,G,MA5BC,SAAC,GAAe,IAAb/E,EAAY,EAAZA,MACXgF,EAAWC,OAAOC,SAASF,SACjC,OACE,yBAAKxF,UAAU,UAAUQ,MAAK,eAAOA,IACnC,kBAAC,IAAD,CACER,UAAU,2BACVsE,GAAI,CAAEkB,SAAU,SAChBhF,MACe,UAAbgF,EAAuB,CAAEnB,MAAO,OAAQF,WAAY,WAAc,IAGpE,qEAEF,kBAAC,IAAD,CACEnE,UAAU,2BACVsE,GAAI,CACFkB,SAAU,QAEZhF,MACe,SAAbgF,EAAsB,CAAEnB,MAAO,OAAQF,WAAY,WAAc,IAGnE,iEC3BKwB,EAAU,0CAEVC,EAAc,CACzB,qEACA,6CACA,iCACA,6CACA,6CACA,6CACA,sEAcWC,EAA0B,CACrCC,IAAK,qEACLC,IAAK,6CACLC,IAAK,iCACLC,IAAK,6CACLC,IAAK,6CACLC,IAAK,6CACLC,IAAK,sEAEMC,EAAuB,CAClCP,IAAK,eACLC,IAAK,eACLC,IAAK,eACLC,IAAK,eACLC,IAAK,eACLC,IAAK,eACLC,IAAK,gBAGME,EAAuB,CAClC,CACEC,IAAK,OAEP,CACEA,IAAK,OAEP,CACEA,IAAK,OAEP,CACEA,IAAK,OAEP,CACEA,IAAK,OAEP,CACEA,IAAK,OAEP,CACEA,IAAK,QL7DIC,EACa,KAAxB,IAAIC,MAAOC,SAAiB,GAAI,IAAID,MAAOC,SAAW,EAItDzH,EAD0B,KAAxB,IAAIwH,MAAOC,SACG,EACiB,KAAxB,IAAID,MAAOC,SACJ,GAEA,IAAID,MAAOC,SAAW,EAGxC,IAAMC,EAAcL,EAAqBrH,GAAesH,IAClDK,EAAaN,EAAqBE,GAAcD,IAKhDM,EAHQ,MAIZ,IAAIJ,MAAOK,WAHH,KAGwB,IAAIL,MAAOM,aACvCC,EAASV,EAAqBE,GAAcD,IAiBrCU,EAAkB,SAACC,EAAMC,EAAeC,GACnD,GAAIF,EAAKG,QAAQ,GAAI,CACnB,IAAIC,EAAiBC,EAErBL,EAAKG,QAAQ,GAAGG,UAAUC,SAAQ,SAACjD,GAC7BmC,IAAgBnC,EAAG+B,MACrBe,EAAkB9C,GAEhBoC,IAAepC,EAAG+B,MACpBgB,EAAc/C,MAIlB,IAAMkD,EACJJ,GApCQ,KAqCRA,EAAgBK,WAAWC,MAAM,KAAK,GApClC,IAqCFN,EAAgBK,WAAWC,MAAM,KAAK,GACpCC,EACJP,GAxCQ,KAyCRA,EAAgBQ,SAASF,MAAM,KAAK,GAxChC,IAyCFN,EAAgBQ,SAASF,MAAM,KAAK,GAElCG,EACJR,GA7CQ,KA8CRA,EAAYI,WAAWC,MAAM,KAAK,GA7C9B,IA8CFL,EAAYI,WAAWC,MAAM,KAAK,GAChCI,EACJT,GAjDQ,KAkDRA,EAAYO,SAASF,MAAM,KAAK,GAjD5B,IAkDFL,EAAYO,SAASF,MAAM,KAAK,GAEpC,GACEF,EAAyBG,GACzBA,EAAuBhB,EAGvBM,GAAc,QACT,GACLY,EAAqBC,GACrBnB,EAAgBkB,EAGhBZ,GAAc,QACT,GACLY,EAAqBC,GACrBnB,EAAgBkB,GAChBlB,EAAgBmB,EAGhBb,GAAc,OACT,CACLA,GAAc,GAEd,IAAMc,EApEa,SAACzF,GACxB,IAAM0F,EAAa,GAWnB,OAVA5B,EAAqBmB,SAAQ,SAAC/D,EAAGe,GAC/BjC,EAAKiF,SAAQ,SAACjD,EAAI2D,GACXD,EAAWxE,EAAE6C,OAChB2B,EAAWxE,EAAE6C,KAAO,kCAElB/B,EAAG+B,MACL2B,EAAW1D,EAAG+B,KAAO/B,SAIpB0D,EAwDSE,CAAiBlB,EAAKG,QAAQ,GAAGG,WAEvCa,EAAY,GAClB/B,EAAqBmB,SAAQ,SAACjD,EAAIC,GAChC4D,EAAUC,KAAKL,EAAIzD,EAAG+B,SAKxB,IAFA,IAAIgC,GAAY,EAEP9D,EAAI,EAAGA,EAAI4D,EAAUvF,OAAQ2B,IAAK,CAEzC,GAD0B4D,EAAU5D,IAAM4D,EAAU5D,GAAG8B,MAAQS,EACxC,CACrB,IAAMwB,EAvFF,KAwFFH,EAAU5D,GAAGkD,WAAWC,MAAM,KAAK,GAvFrC,IAwFES,EAAU5D,GAAGkD,WAAWC,MAAM,KAAK,GACjCf,EAAgB2B,IASlBpB,EAAkB,CAChBqB,GAAIvB,EAAKuB,GACTlC,IAAK,6CACLoB,WAAYU,EAAU5D,GAAGkD,aAG3BY,GAAY,IAIlB,IAAKA,EACH,IAAK,IAAI9D,EAAI,EAAGA,EAAI4D,EAAUvF,OAAQ2B,IACpC,GAAI4D,EAAU5D,IAAMA,EAAI+B,GAClB6B,EAAU5D,GAAGkD,WAAY,CAC3BP,EAAkB,CAChBqB,GAAIvB,EAAKuB,GAETlC,IAAK8B,EAAU5D,GAAG8B,IAClBoB,WAAYU,EAAU5D,GAAGkD,aAG3BY,GAAY,EACZ,MAKR,IAAKA,EACH,IAAK,IAAI9D,EAAI,EAAGA,EAAI4D,EAAUvF,OAAQ2B,IACpC,GAAI4D,EAAU5D,IAAMA,EAAI+B,GAClB6B,EAAU5D,GAAGkD,WAAY,CAM3BP,EAAkB,CAChBqB,GAAIvB,EAAKuB,GAETlC,IAAK8B,EAAU5D,GAAG8B,IAClBoB,WAAYU,EAAU5D,GAAGkD,aAE3BY,GAAY,EACZ,UASDG,EAAgB,SAACxB,EAAMyB,EAAaC,GAC/C,IAAIC,EAAmBC,EAEvB5B,EAAKM,UAAUC,SAAQ,SAACjD,GAClBmC,IAAgBnC,EAAG+B,MACrBsC,EAAoBrE,GAElBoC,IAAepC,EAAG+B,MACpBuC,EAAgBtE,MAIpB,IAAMuE,EACJF,GApKU,KAqKVA,EAAkBf,SAASF,MAAM,KAAK,GApKhC,IAqKJiB,EAAkBf,SAASF,MAAM,KAAK,GACpCoB,EACJH,GAxKU,KAyKVA,EAAkBlB,WAAWC,MAAM,KAAK,GAxKlC,IAyKJiB,EAAkBlB,WAAWC,MAAM,KAAK,GACtCqB,EACJH,GA5KU,KA6KVA,EAAchB,SAASF,MAAM,KAAK,GA5K5B,IA6KJkB,EAAchB,SAASF,MAAM,KAAK,GAChCsB,EACJJ,GAhLU,KAiLVA,EAAcnB,WAAWC,MAAM,KAAK,GAhL9B,IAiLJkB,EAAcnB,WAAWC,MAAM,KAAK,GAEpCoB,EAAmBD,GAAkBA,EAAiBlC,GAExD+B,GAAU,GACVD,EACEE,GACEA,EAAkBlB,WAAWC,MAAM,KAAK,GACtC,IACAiB,EAAkBlB,WAAWC,MAAM,KAAK,GACxC,IACAiB,EAAkBf,SAASF,MAAM,KAAK,GACtC,IACAiB,EAAkBf,SAASF,MAAM,KAAK,KAEnCsB,EAAeD,GAAcpC,EAAgBqC,GAEtDN,GAAU,GACVD,EACEG,GACEA,EAAcnB,WAAWC,MAAM,KAAK,GAClC,IACAkB,EAAcnB,WAAWC,MAAM,KAAK,GACpC,IACAkB,EAAchB,SAASF,MAAM,KAAK,GAClC,IACAkB,EAAchB,SAASF,MAAM,KAAK,KAGxCsB,EAAeD,GACfpC,EAAgBqC,GAChBrC,EAAgBoC,GAGhBL,GAAU,GACVD,EACEG,GACEA,EAAcnB,WAAWC,MAAM,KAAK,GAClC,IACAkB,EAAcnB,WAAWC,MAAM,KAAK,GACpC,IACAkB,EAAchB,SAASF,MAAM,KAAK,GAClC,IACAkB,EAAchB,SAASF,MAAM,KAAK,MAGxCgB,GAAU,GACVD,EACEG,GACEA,EAAcnB,WAAWC,MAAM,KAAK,GAClC,IACAkB,EAAcnB,WAAWC,MAAM,KAAK,GACpC,IACAkB,EAAchB,SAASF,MAAM,KAAK,GAClC,IACAkB,EAAchB,SAASF,MAAM,KAAK,MMzP/BuB,EAA4B,SAACC,EAAMC,EAAMC,EAAMC,GAC1D,IACMC,EAAOC,EAAQH,EAAOF,GACtBM,EAAOD,EAAQF,EAAOF,GACtBM,EACJC,KAAKC,IAAIL,EAAO,GAAKI,KAAKC,IAAIL,EAAO,GACrCI,KAAKE,IAAIL,EAAQL,IACfQ,KAAKE,IAAIL,EAAQH,IACjBM,KAAKC,IAAIH,EAAO,GAChBE,KAAKC,IAAIH,EAAO,GAGpB,OAXU,MASA,EAAIE,KAAKG,MAAMH,KAAKI,KAAKL,GAAIC,KAAKI,KAAK,EAAIL,MAKvD,SAASF,EAAQQ,GACf,OAAOA,GAAOL,KAAKM,GAAK,K,UC4HXC,EAlIW,SAAC,GAAc,IAAZjD,EAAW,EAAXA,KAAW,EACFtG,oBAAS,GADP,mBAC/BwJ,EAD+B,KACnBjD,EADmB,OAENvG,oBAAS,GAFH,mBAE/ByJ,EAF+B,KAErB1B,EAFqB,OAGV/H,oBAAS,GAHC,mBAG/B0J,EAH+B,KAGvB1B,EAHuB,OAIAhI,mBAAS,MAJT,mBAI/B2J,EAJ+B,KAIlBC,EAJkB,OAKM5J,oBAAS,GALf,mBAK/B6J,EAL+B,KAKfrD,EALe,OAMExG,oBAAS,GANX,mBAM/B8J,EAN+B,KAMjBC,EANiB,KAQtCxI,qBAAU,WACR8E,EAAgBC,EAAMC,EAAeC,GACrCsB,EAAcxB,EAAMyB,EAAaC,KAChC,CAAC1B,IAEJ/E,qBAAU,WACJyI,UAAUC,YACZD,UAAUC,YAAYC,oBACpB,SAACC,GACCP,EACErB,EACE4B,EAAIC,OAAOC,SACXF,EAAIC,OAAOE,UACXhE,EAAKiE,YAAYvD,MAAM,KAAK,GAC5BV,EAAKiE,YAAYvD,MAAM,KAAK,QAIlC,SAACjF,GACCC,QAAQC,IAAIF,EAAK,2CAIrBC,QAAQC,IAAI,gIAEb,IAuBH,OACE,kBAAC,IAAD,CACEyB,GAAI,CAAEkB,SAAS,YAAD,OAAc0B,EAAKuB,KACjCzI,UAAU,qBAEV,yBAAKA,UAAU,kBACVoK,GACDlD,EAAKG,QAAQ,KACXqD,EAQA,yBAAK1K,UAAU,cACb,uBAAGA,UAAU,iBAAb,QARF,2BACEA,UAAU,aACVK,IAAK6G,EAAKG,QAAQ,GAAG+D,QACrBC,UAAQ,EACRC,QAAS,SAAC3I,GAAD,OAASgI,EAAgBhI,QAOtCyH,GACA,yBAAKpK,UAAU,cACb,uBAAGA,UAAU,iBAzCnByK,EAAe9C,YACsB,+CAArC8C,EAAelE,IAAIgF,cAGjB,wHACA1F,EAAwB4E,EAAelE,KACvC,WACAkE,EAAe9C,WAGjB8C,EAAe9C,YACsB,+CAArC8C,EAAelE,IAAIgF,cAEZ,mKAAmCd,EAAe9C,WAC/C8C,EAAe9C,gBAApB,EACE,wJA8BP,yBAAK3H,UAAU,eACb,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,mBACb,uBAAGA,UAAU,eAAekH,EAAKnH,MACjC,uBAAGC,UAAU,eACVkH,EAAKzE,YAAcyE,EAAKzE,WAAW,IAAMyE,EAAKzE,WAAW,GAAG1C,KAAM,MAGvE,uBAAGC,UAAU,gBAAb,8IAEF,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,wBACb,kBAAC,EAAD,CAAWC,IAAI,MAAMD,UAAU,kBAAkBD,KAAM,QACvD,uBAAGC,UAAU,wBAAb,WAEF,yBAAKA,UAAU,wBACb,0BAAMA,UAAU,WAChB,uBAAGA,UAAU,wBAAb,SAGJ,uBAAGA,UAAU,gBAAgBqK,KAIjC,yBAAKrK,UAAU,qBACb,uBAAGA,UAAU,iBAAiBkH,EAAKnH,MACnC,yBAAKC,UAAU,qCACb,yBAAKA,UAAU,mBACZuK,GAAe,8BAAOiB,OAAOjB,GAAakB,QAAQ,GAAnC,QACdlB,GAAe,SACjB,8BACGrD,EAAKzE,YAAcyE,EAAKzE,WAAW,IAAMyE,EAAKzE,WAAW,GAAG1C,QAIlEuK,GACC,uBAAGtK,UAAU,iBAAb,2DAEE,kCAAQqK,EAASzC,MAAM,KAAK,MAG9B0C,GAAU,uBAAGtK,UAAU,iBAAb,iD,SCjBL0L,G,MA5GO,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAAiB,EACR/K,oBAAS,GADD,mBACjCgL,EADiC,KACvBC,EADuB,OAERC,YAAW,IAFH,mBAEjCC,EAFiC,KAExBC,EAFwB,KAIlCxG,EAAWC,OAAOC,SAASF,SAEjCrD,qBAAU,WACHwJ,EAKHE,GAAY,GAJZI,YAAW,WACTJ,GAAY,KACX,OAIJ,CAACF,IAEJ,IAuBMzI,EAAeC,YAAU,CAC7B+I,MAAOP,EAAa,GAAK,IACzBtI,OAAQ,CAAEC,SAAU,OAGtB,OACE,yBACEtD,UAAU,oBACVQ,MAAOoL,EAAW,CAAEO,QAAS,SAAY,CAAEA,QAAS,SAEpD,kBAAC,IAAS5I,IAAV,CAAcvD,UAAU,gBAAgBQ,MAAO0C,GAC7C,wBAAIlD,UAAU,cACZ,wBAAIA,UAAU,cACZ,kBAAC,IAAD,CACEsE,GAAG,QACH9D,MAAoB,UAAbgF,EAAuB,CAAEnB,MAAO,WAAc,IAFvD,+CAOF,4BACE,kBAAC,IAAD,CACEC,GAAG,OACH9D,MAAoB,SAAbgF,EAAsB,CAAEnB,MAAO,WAAc,IAFtD,mCAOF,4BACiC,IAA9BmH,OAAOO,EAAQK,YACd,kBAAC,IAAD,CACE9H,GAAG,eACH9D,MAAoB,iBAAbgF,EAA8B,CAAEnB,MAAO,WAAc,IAF9D,gDAQJ,6BACImH,OAAOO,EAAQK,YACf,kBAAC,IAAD,CACE9H,GAAG,SACH9D,MAAoB,WAAbgF,EAAwB,CAAEnB,MAAO,WAAc,IAFxD,8BAOCmH,OAAOO,EAAQK,YAChB,kBAAC,IAAD,CAAMhI,QAvEH,WACblF,EACE,CACEkD,MAAM,qCAER2J,EAAQ3M,aAEPiD,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,OAKRzJ,QAAQC,IAAIL,EAAK6J,OAAQ,mBAJzBzJ,QAAQC,IAAIL,EAAM,WAClBwJ,EAAa,eACbA,EAAa,iBAKhBtJ,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,0BAEnCqJ,EAAa,eACbA,EAAa,cAmDoB1H,GAAG,UAA1B,mCAKJ,6BACIkH,OAAOO,EAAQK,YACf,kBAAC,IAAD,CACE9H,GAAG,gBACH9D,MAAoB,kBAAbgF,EAA+B,CAAEnB,MAAO,WAAc,IAF/D,4EC7DCiI,G,MApCI,SAAC,GAAoB,IAAlBX,EAAiB,EAAjBA,WACdnG,EAAWC,OAAOC,SAASF,SADI,EAEC5E,mBAAS6E,OAAO8G,YAFjB,mBAE9BC,EAF8B,KAEjBC,EAFiB,MAIpCD,GAAeC,EAAehH,OAAO8G,YAEtCpK,qBAAU,WACRsD,OAAOiH,SAAW,SAAUhJ,GAC1B+I,EAAe/I,EAAEiJ,OAAOJ,gBAI5B,IAAMrJ,EAAeC,YAAU,CAC7BC,KAAMuI,GAAc,IAAM,EAC1BtI,OAAQ,CACNC,SAAU,OAIRsJ,EAAkB,CACtBvI,MAAO,OACPF,WAAY,WAGd,OACE,kBAAC,IAASZ,IAAV,CAAc/C,MAAO0C,EAAclD,UAAU,cAC3C,kBAAC,IAAD,CAAMsE,GAAG,QAAQ9D,MAAoB,UAAbgF,EAAuBoH,EAAkB,IAAjE,wCAGA,kBAAC,IAAD,CAAMtI,GAAG,OAAO9D,MAAoB,SAAbgF,EAAsBoH,EAAkB,IAA/D,qCClBSC,G,MAbA,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,kBAAmBC,EAAmB,EAAnBA,aACnC,OACE,0BACE/M,UAAW8M,EAAoB,eAAiB,SAChD1I,QAAS,WACF0I,GAAmBC,MAG1B,kCC8GSC,G,OAhHA,SAAC,GAOT,IANLF,EAMI,EANJA,kBACAC,EAKI,EALJA,aACApB,EAII,EAJJA,WACAsB,EAGI,EAHJA,OACAC,EAEI,EAFJA,MACAC,EACI,EADJA,KAEIC,EAAUC,cADV,EAG4BvB,YAAW,IAHvC,mBAGGC,EAHH,KAGYC,EAHZ,OAKkCpL,mBAAS6E,OAAO8G,YALlD,mBAKGC,EALH,KAKgBC,EALhB,MA6BHD,GAAeC,EAAehH,OAAO8G,YACtCpK,qBAAU,WACRsD,OAAOiH,SAAW,SAAUhJ,GAC1B+I,EAAe/I,EAAEiJ,OAAOJ,gBAI5B,IAAMrJ,EAAeC,YAAU,CAC7BC,KAAMuI,GAAc,IAAM,EAC1BtI,OAAQ,CACNC,SAAU,OAId,OACE,kBAAC,IAASC,IAAV,CAAcvD,UAAU,kBAAkBQ,MAAO0C,GAC/C,yBAAKlD,UAAU,UACZmN,GACC,kBAAC,IAAD,CAAM7I,GAAG,SACP,uBAAGtE,UAAU,cAAb,QACO,0BAAMA,UAAU,QAAhB,WAIVkN,GACC,yBACElN,UAAU,cACVoE,QAAS,WACPgJ,EAAQE,YAKd,yBAAKtN,UAAU,oBACXwL,OAAOO,EAAQK,YACf,6BACE,kBAAC,IAAD,CAAM9H,GAAG,gBAAgBtE,UAAU,cAAnC,sEAGA,kBAAC,IAAD,CAAMsE,GAAG,SAAStE,UAAU,YAA5B,+BAKDwL,OAAOO,EAAQK,YAChB,6BACiC,IAA9BZ,OAAOO,EAAQK,YACd,kBAAC,IAAD,CACE9H,GAAG,eACHtE,UAAU,aACVQ,MAC+B,iBAA7BiF,OAAOC,SAASF,SACZ,CAAEnB,MAAO,WACT,IANR,+CAYF,kBAAC,IAAD,CAAMD,QAjFH,WACblF,EACE,CACEkD,MAAM,uCAER2J,EAAQ3M,aAEPiD,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,OAIRzJ,QAAQC,IAAIL,EAAK6J,OAAQ,mBAHzBL,EAAa,eACbA,EAAa,iBAKhBtJ,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,kBAEnCqJ,EAAa,eACbA,EAAa,cA8DoB1H,GAAG,SAAStE,UAAU,YAA7C,oCAMLiN,GACC,kBAAC,EAAD,CACEH,kBAAmBA,EACnBC,aAAcA,QC/FXQ,G,OAfA,kBACb,yBAAKvN,UAAU,cACb,yBAAKA,UAAU,cACb,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,8BACA,kCCsHSwN,G,OAtHF,WAAO,IAAD,EACO5M,mBAAS,IADhB,mBACV6M,EADU,KACJC,EADI,OAEqB9M,mBAAS,IAF9B,mBAEV+M,EAFU,KAEGC,EAFH,OAGiBhN,oBAAS,GAH1B,mBAGViN,EAHU,KAGCC,EAHD,OAIqBlN,qBAJrB,mBAIV4L,EAJU,KAIGC,EAJH,KAMjBtK,qBAAU,WACRjD,EAAM,CACJkD,MAAM,uRASLC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLsL,GAAa,GACbF,EAAepL,EAAKA,KAAKuL,QACzBL,EAAQlL,EAAKA,KAAKuL,WAEnBrL,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,sBAClC,IAEH,IAAMlC,EAAc,SAACuN,GACnB,GAAIA,EAAM,CACR,IAAMC,EAAeR,EAAKS,QAAO,SAAC1J,GAChC,GAAIA,EAAG/B,YAAc+B,EAAG/B,WAAW,GACjC,OAAO+B,EAAG/B,WAAW,GAAG1C,KAAKoO,gBAAkBH,EAAKG,iBAGxDP,EAAeK,QAEfL,EAAeH,IAInBtL,qBAAU,WACR,GAAItB,aAAaC,QAAQ,iBAAmB+M,GAAaJ,EAAK3K,OAAQ,CACpE,IAAMsL,EAAavN,aAAaC,QAAQ,eACxCL,EAAY2N,MAEb,CAACX,IA5Ca,MA8CiC7M,oBAAS,GA9C1C,mBA8CVkM,EA9CU,KA8CSuB,EA9CT,OA+CmBzN,oBAAS,GA/C5B,mBA+CV+K,EA/CU,KA+CE2C,EA/CF,KAiDXC,EAAe,WACnBF,GAAqB,GACrBtM,SAAS5C,KAAKqB,MAAMgO,SAAW,UAC/BF,GAAc,KASf9B,GAAeC,EAAehH,OAAO8G,YAEtCpK,qBAAU,WACRsD,OAAOiH,SAAW,SAAUhJ,GAC1B+I,EAAe/I,EAAEiJ,OAAOJ,YACxBgC,QAIJ,IAAMrL,EAAeC,YAAU,CAC7B+I,MAAOP,EAAa,IAAM,EAC1BtI,OAAQ,CAAEC,SAAU,OAGtB,OACE,yBACEc,QAAS,SAACV,GACmB,kBAAvBA,EAAEiJ,OAAO3M,WAAiC8M,GAC5CyB,MAGJ,6BACE,kBAAC,EAAD,CACE5C,WAAYA,EACZwB,MAAI,EACJF,QAAM,EACNH,kBAAmBA,EACnBC,aAjCa,WACnBsB,GAAqB,GACrBtM,SAAS5C,KAAKqB,MAAMgO,SAAW,SAC/BF,GAAc,MAgCV,kBAAC,IAAS/K,IAAV,CAAcvD,UAAU,kBAAkBQ,MAAO0C,GAC/C,yBAAKlD,UAAU,gBACb,kBAAC,EAAD,CACEU,YAAY,QACZC,gBAAiBgL,EACjBlL,YAAa,SAACuN,GAAD,OAAUvN,EAAYuN,MAErC,kBAAC,EAAD,OAEF,yBAAKhO,UAAU,iBACV2N,EAAY7K,QACb6K,EAAYpJ,KAAI,SAACC,EAAIC,GAAL,OACd,kBAAC,EAAD,CAAmByC,KAAM1C,EAAIK,IAAKJ,QAEpCkJ,EAAY7K,QAAU+K,GAAa,kBAAC,EAAD,OACnCF,EAAY7K,SAAW+K,GACvB,yBAAK7N,UAAU,gBAAf,+EAKN,kBAAC,EAAD,CAAY2L,WAAYA,KAE1B,kBAAC,EAAD,CAAeA,WAAYA,O,yBC/HpB8C,EAAS,CACpB,CACEC,YAAa,MACbC,YAAa,mBACbC,QAAS,CACP,CACEvK,MAAO,WAET,CACEwK,UAAW,SAIjB,CACEH,YAAa,yBACbC,YAAa,WACbC,QAAS,CACP,CACEE,WAAY,QAIlB,CACEJ,YAAa,yBACbC,YAAa,kBACbC,QAAS,CACP,CACEvK,MAAO,aAIb,CACEqK,YAAa,0BACbC,YAAa,kBACbC,QAAS,CACP,CACEvK,MAAO,aAIb,CACEqK,YAAa,YACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,OAEd,CACED,UAAW,SAIjB,CACEH,YAAa,YACbC,YAAa,gBACbC,QAAS,CACP,CACEvK,MAAO,aAIb,CACEqK,YAAa,qBACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,SAIlB,CACEJ,YAAa,qBACbC,YAAa,WACbC,QAAS,CACP,CACEE,WAAY,SAIlB,CACEJ,YAAa,qBACbC,YAAa,kBACbC,QAAS,CACP,CACEvK,MAAO,WAET,CACE0K,OAAQ,QAEV,CACED,WAAY,MAEd,CACED,UAAW,QAIjB,CACEH,YAAa,MACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,QAIlB,CACEJ,YAAa,iBACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,SAIlB,CACEJ,YAAa,eACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,SAIlB,CACEJ,YAAa,iBACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,SAIlB,CACEJ,YAAa,cACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,SAIlB,CACEJ,YAAa,WACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,QAIlB,CACEJ,YAAa,uBACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,QAIlB,CACEJ,YAAa,aACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,SAIlB,CACEJ,YAAa,qBACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,SAIlB,CACEJ,YAAa,OACbC,YAAa,MACbC,QAAS,CACP,CACEI,WAAY,QAEd,CACEF,WAAY,QAIlB,CACEJ,YAAa,OACbC,YAAa,kBACbC,QAAS,CACP,CACEE,WAAY,QAIlB,CACEJ,YAAa,eACbC,YAAa,gBACbC,QAAS,CACP,CACEvK,MAAO,aAIb,CACEqK,YAAa,eACbC,YAAa,kBACbC,QAAS,CACP,CACEC,UAAW,KAEb,CACExK,MAAO,WAET,CACE0K,OAAQ,UAId,CACEL,YAAa,eACbC,YAAa,SACbC,QAAS,CACP,CACEE,WAAY,QAIlB,CACEJ,YAAa,eACbC,YAAa,cACbC,QAAS,CACP,CACEE,WAAY,QAIlB,CACEJ,YAAa,iCACbC,YAAa,gBACbC,QAAS,CACP,CACEvK,MAAO,aAIb,CACEqK,YAAa,iCACbC,YAAa,kBACbC,QAAS,CACP,CACEvK,MAAO,aAIb,CACEqK,YAAa,gBACbC,YAAa,cACbC,QAAS,CACP,CACEK,kBAAkB,GAEpB,CACED,WAAY,MAEd,CACEH,UAAW,KAEb,CACEK,MAAO,QAET,CACEH,OAAQ,UAId,CACEL,YAAa,aACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,QAIlB,CACEJ,YAAa,UACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,SAIlB,CACEJ,YAAa,sBACbC,YAAa,MACbC,QAAS,CACP,CACEE,WAAY,QAIlB,CACEJ,YAAa,QACbC,YAAa,gBACbC,QAAS,CACP,CACEvK,MAAO,cCpST8K,G,OAAS,SAAC,GAAD,SAAGC,WAEZC,EAAmB,WACvB,MAAO,CAAEZ,OAAQA,IA0VJa,EAvVM,SAACC,GAAW,IAAD,EACN3O,mBAAS,IADH,mBACvB6M,EADuB,KACjBC,EADiB,OAEA9M,mBAAS,IAFT,mBAEvB4O,EAFuB,KAEdC,EAFc,KAGxBC,EAAS7N,mBAHe,EAINjB,mBAAS,IAJH,mBAIvB+O,EAJuB,KAIjBC,EAJiB,OAKFhP,mBAAS,MALP,mBAKvBiP,EALuB,KAKfC,EALe,OAMQlP,qBANR,mBAMvB4L,EANuB,KAMVC,EANU,OAOI7L,oBAAS,GAPb,mBAOvBiN,EAPuB,KAOZC,EAPY,OAQwBlN,mBAAS,IARjC,mBAQvBmP,EARuB,KAQFC,EARE,OASUpP,oBAAS,GATnB,mBASvB8J,EATuB,KASTC,GATS,KAW9BxI,qBAAU,WACRjD,EAAM,CACJkD,MAAM,gOAOLC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLsL,GAAa,GACb2B,EAAWjN,EAAKA,KAAKuL,QACrBL,EAAQlL,EAAKA,KAAKuL,WAEnBrL,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,iBAClC,IAEH,IAAMsN,GAAST,EAAQjL,KAAI,SAACC,EAAIC,GAC9B,MAAO,CACLuJ,KAAM,UACN9G,KAAM1C,EACN0L,WAAY,CACVC,SAAS,EACTC,QAAS3L,EACT4L,SAAU7L,EAAG/B,WAAW,IAAM+B,EAAG/B,WAAW,GAAG1C,MAEjDuQ,SAAU,CACRtC,KAAM,QACN7C,YAAa,EACV3G,EAAG2G,YAAYvD,MAAM,KAAK,IAC1BpD,EAAG2G,YAAYvD,MAAM,KAAK,SAM3B2I,GAAaC,YAAgB,CACnCP,UACAJ,SACAF,OACAc,QAAS,CACPC,OAAQ,IACRC,QAAS,MANLJ,SAUF9P,GAAc,SAACuN,GACnB,GAAIA,EAAM,CACR,IAAMC,EAAeR,EAAKS,QAAO,SAAC1J,GAChC,GAAIA,EAAG/B,YAAc+B,EAAG/B,WAAW,GACjC,OAAO+B,EAAG/B,WAAW,GAAG1C,KAAKoO,gBAAkBH,EAAKG,iBAGxDsB,EAAWxB,QAEXwB,EAAWhC,IAIftL,qBAAU,WACR,GAAItB,aAAaC,QAAQ,iBAAmB+M,GAAaJ,EAAK3K,OAAQ,CACpE,IAAMsL,EAAavN,aAAaC,QAAQ,eACxCL,GAAY2N,MAEb,CAACX,IA5E0B,OA8EoB7M,oBAAS,GA9E7B,qBA8EvBkM,GA9EuB,MA8EJuB,GA9EI,SA+EMzN,oBAAS,GA/Ef,qBA+EvB+K,GA/EuB,MA+EX2C,GA/EW,SAgFE1N,mBAAS,IAhFX,qBAgFvBgQ,GAhFuB,MAgFbC,GAhFa,MAkFxBtC,GAAe,WACnBF,IAAqB,GACrBpC,YAAW,WACTlK,SAAS5C,KAAKqB,MAAMgO,SAAW,YAC9B,KACHF,IAAc,KASf9B,GAAeC,EAAehH,OAAO8G,YAEtCpK,qBAAU,WACRsD,OAAOiH,SAAW,SAAUhJ,GAC1B+I,EAAe/I,EAAEiJ,OAAOJ,YACxBgC,SArG0B,OAyGY3N,qBAzGZ,qBAyGvBkQ,GAzGuB,MAyGRC,GAzGQ,MA2G1BnG,UAAUC,cAAgBiG,GAC5BlG,UAAUC,YAAYC,oBACpB,SAACC,GACCgG,GAAiB,CACfC,IAAKjG,EAAIC,OAAOC,SAChBgG,IAAKlG,EAAIC,OAAOE,eAGpB,SAACvI,GAAD,OAASC,QAAQC,IAAIF,EAAK,6BAG5BC,QAAQC,IAAI,6HAGd,IAAMqO,GAAmB,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,QAAZ,OACvBpB,EAAuB,CACrBmB,UACAC,aAEEC,GAAiB,SAAC3N,EAAGlB,IAEtBuN,EAAoBoB,WAAazN,EAAEyN,UACnCpB,EAAoBqB,WAAa1N,EAAE0N,SAEpCP,GAAY,YAAD,OAAarO,KAItBU,GAAeC,YAAU,CAC7BC,KAAMuI,IAAc,IAAM,EAC1BtI,OAAQ,CAAEC,SAAU,OAGtB,OACE,yBACEc,QAAS,SAACV,GACmB,kBAAvBA,EAAEiJ,OAAO3M,WAAiC8M,IAC5CyB,OAGJ,kBAAC,EAAD,CACE5C,WAAYA,GACZwB,MAAI,EACJD,OAAK,EACLD,QAAM,EACNH,kBAAmBA,GACnBC,aA/De,WACnBsB,IAAqB,GACrBtM,SAAS5C,KAAKqB,MAAMgO,SAAW,SAC/BF,IAAc,MA8DZ,yBAAKtO,UAAU,mBACb,kBAAC,EAAD,CACEQ,MAAO,CAAE8Q,OAAQ,GACjB5Q,YAAY,OACZD,YAAaA,GACbE,gBAAiBgL,KAEnB,kBAAC,EAAD,CAASnL,MAAO,CAAE8Q,OAAQ,MAE3BzD,GAAa,kBAAC,EAAD,OACZA,GACA,kBAAC,IAAStK,IAAV,CAAcvD,UAAU,eAAeQ,MAAO0C,IAC5C,kBAAC,IAAD,CACEuN,QAASpB,EACT7O,MAAO,CACLJ,OAAQ,OACRD,MAAO,QAEToR,iBAAkB,CAChB1M,IAAKc,GAEPmL,cACEA,IAAiB,CACfE,IAAK,UACLC,IAAK,WAGTO,YAAa,GACbC,oCAAkC,EAClCC,kBAAmB,YAAc,IAAXnN,EAAU,EAAVA,IACpBmL,EAAO9L,QAAUW,GAEnBoN,SAAU,YAAuB,IAApBhC,EAAmB,EAAnBA,KAAME,EAAa,EAAbA,OACjBD,EAAQD,GACRG,EAAU,CACRD,EAAO+B,GAAGX,IACVpB,EAAOgC,GAAGb,IACVnB,EAAOgC,GAAGZ,IACVpB,EAAO+B,GAAGZ,QAIbF,IACC,kBAAC3B,EAAD,CAAQ6B,IAAKF,GAAcE,IAAKC,IAAKH,GAAcG,KACjD,kBAAC,EAAD,CACEhR,IAAI,KACJD,UAAU,MACVD,KAAM,SACNI,MAAM,KACNC,OAAO,QAKZmQ,GAAShM,KAAI,SAAC4L,GAAa,IAAD,cACKA,EAAQG,SAASnF,YADtB,GAClBD,EADkB,KACPD,EADO,OAKrBkF,EAAQD,WAFD4B,EAHc,EAGvB3B,QACa4B,EAJU,EAIvBC,YAIF,GAAIF,EACF,OACE,kBAAC3C,EAAD,CACEtK,IAAKsL,EAAQD,WAAW+B,WACxBjB,IAAK/F,EACLgG,IAAK/F,GAEL,yBAAKlL,UAAU,iBACb,+BAAK+R,KAOb,IAAIG,EAAa,GACf7H,EAAW,GACXC,GAAS,EACTG,EAAiB,GAUnB,OAHAxD,EAAgBkJ,EAAQjJ,MALF,SAACiL,GAAD,OAAWD,EAAaC,KAGpB,SAACA,GAAD,OAAW1H,EAAiB0H,KAGtDzJ,EAAcyH,EAAQjJ,MALF,SAACiL,GAAD,OAAW9H,EAAW8H,KACxB,SAACC,GAAD,OAAW9H,EAAS8H,KAOpC,kBAACjD,EAAD,CACEtK,IAAKsL,EAAQD,WAAWE,QACxBY,IAAK/F,EACLgG,IAAK/F,GAEL,kBAAC,IAAD,CACEzH,YAAa,SAACC,KACV,iBAAkB3B,SAASC,kBAC3BkP,GAAiBxN,IAErBK,UAAW,SAACL,KACR,iBAAkB3B,SAASC,kBAC3BqP,GAAe3N,EAAGyM,EAAQjJ,KAAKuB,KAEnC4J,aAAc,SAAC3O,GACbwN,GACE,CACEC,QAASzN,EAAE4O,YAAYC,eAAe,GAAGpB,QACzCC,QAAS1N,EAAE4O,YAAYC,eAAe,GAAGnB,SAE3CjB,EAAQjJ,KAAKuB,KAGjB+J,WAAY,SAAC9O,GACX2N,GACE,CACEF,QAASzN,EAAE4O,YAAYC,eAAe,GAAGpB,QACzCC,QAAS1N,EAAE4O,YAAYC,eAAe,GAAGnB,SAE3CjB,EAAQjJ,KAAKuB,KAGjBnE,GAAI,CACFkB,SAAUoL,GAAQ,mBACFT,EAAQjJ,KAAKuB,IADX,SAKpB,yBAAKzI,UAAU,iBACb,yBAAKA,UAAU,eACVkS,IACCxH,EAQA,yBAAK1K,UAAU,mCACb,uBAAGA,UAAU,wBAAb,QARF,2BACEA,UAAU,aACVK,IAAK8P,EAAQjJ,KAAKG,QAAQ,GAAG+D,QAC7BC,UAAQ,EACRC,QAAS,SAAC3I,GAAD,OAASgI,GAAgBhI,QAOtCuP,GACA,yBAAKlS,UAAU,mCACb,uBAAGA,UAAU,wBACVyK,EAAe9C,YAEZ,+CADF8C,EAAelE,IAAIgF,eAEnB,4GACE1F,EAAwB4E,EAAelE,KACvC,WACAkE,EAAe9C,WAClB8C,EAAe9C,YAEZ,+CADF8C,EAAelE,IAAIgF,eAEnB,mKACEd,EAAe9C,YACjB8C,EAAe9C,YACf,wJAKV,uBAAG3H,UAAU,iBACVmQ,EAAQjJ,KAAKnH,KACd,0BAAMC,UAAU,YACbsK,GAAU,6EAAgBD,EAAhB,MACTC,GAAU,gFAGhB,yBAAKtK,UAAU,kBAU/B,kBAAC,EAAD,CAAY2L,WAAYA,KACxB,kBAAC,EAAD,CAAeA,WAAYA,O,yBCxNlB8G,G,cAAAA,2BAAiB,CAC9BC,OAAQ/M,EACRgN,SAAU,KACVC,iBA5IuB,SAACrD,GAAD,OAAW,gCAyIrBkD,EAvIM,SAAC,GAQf,IAPLI,EAOI,EAPJA,OACAC,EAMI,EANJA,qBACAC,EAKI,EALJA,iBACAC,EAII,EAJJA,iBACAC,EAGI,EAHJA,aACAC,EAEI,EAFJA,kBACAC,EACI,EADJA,SAEMC,EAAgBL,GAAoB,CACxC/B,IAAK,UACLC,IAAK,WAHH,EAQgCrQ,mBAAS,IARzC,mBAQGyS,EARH,KAQeC,EARf,OASwB1S,mBAAS,IATjC,mBASG2S,EATH,KASWC,EATX,OAU4B5S,mBAAS,MAVrC,mBAUG6S,EAVH,KAUaC,EAVb,KAYEC,EAAW,IAAId,EAAOe,KAAKC,SAuB3BC,EAAsB,SAACC,EAAQC,GACnCL,EAASM,QAAQ,CAAEC,QAASH,IAAU,SAAUI,EAASC,GACvD,GAAIA,IAAWvB,EAAOe,KAAKS,eAAeC,GAAI,CAC5C,IAAMf,EAAS,CACbvC,IAAKmD,EAAQ,GAAG7D,SAAS5K,SAASsL,MAClCC,IAAKkD,EAAQ,GAAG7D,SAAS5K,SAASuL,OAEpCuC,EAAUD,GACVS,GAAaN,EAAYH,QAqB/B,OACE,yBAAKvT,UAAU,oBAAoBQ,MAAO0S,GACxC,kBAAC,MAAD,CACEqB,aAAa,EACbvU,UAAU,QACV6S,OAAQA,EACR2B,QArBU,SAACC,EAAUlQ,KAsBrBH,QArBa,SAACqQ,EAAUlQ,EAAKb,KAsB7BgR,UAAWzB,GArBC,SAACwB,EAAUlQ,EAAKb,IArCN,SAAtBiR,EAAuBjP,GAC3BuG,YAAW,WACT0H,EAASM,QACP,CACEvO,SAAUA,IAEZ,SAACyO,EAASC,GACO,OAAXA,EACED,EAAQ,KACVb,EAAca,EAAQ,GAAGS,mBACzBd,EAAoBK,EAAQ,GAAGS,oBAIjCD,EAAoBjP,QAIzB,KAoBHiP,CAAoB,CAClB3D,IAAKzM,EAAIsQ,OAAO7D,MAChBC,IAAK1M,EAAIsQ,OAAO5D,SAmBdtB,KAnEc,GAoEdyD,cAAeA,EACfyB,OAAQpB,EACRhF,OAAQA,GAER,kBAAC,SAAD,CACErK,QAtBc,SAACmL,EAAOuF,EAAQpR,KAuB9B3D,KAAM,QACNgV,MAAO,mBACPC,SAAU5B,KASbH,GACC,kBAAC,EAAD,CAAWhT,IAAI,IAAID,UAAU,gBAAgBD,KAAM,aAEpDkT,GACC,yBAAKjT,UAAU,iBACb,kBAAC,IAAD,CACEiV,SAtCc,SAACC,GACvB5B,EAAc4B,EAAMC,aACpBrB,EAAoBoB,EAAMC,aAAa,IAqC/BC,YAAY,4EACZC,aAAchC,IAEhB,yBAAKrT,UAAU,qBACb,yBACEA,UAAU,sBACVoE,QAAS,WACHiP,GAAcE,GAChBP,EAAiBK,EAAYE,KAJnC,0DAUA,yBAAKvT,UAAU,sBAAsBoE,QAAS0O,GAA9C,0CAMLK,GACC,yBAAKnT,UAAU,WAAWoE,QAAS0O,GAAnC,aCvHOwC,I,OAjBD,SAAC,GAAiD,IAA/ClG,EAA8C,EAA9CA,SAAUmG,EAAoC,EAApCA,YAAa/U,EAAuB,EAAvBA,MAAOgV,EAAgB,EAAhBA,UAC7C,OACE,yBACExV,UAAU,QACVoE,QAAS,SAAAV,GACoB,UAAvBA,EAAEiJ,OAAO3M,WACXuV,KAGJ/U,MAAOgV,GAEP,yBAAKxV,UAAU,cAAcQ,MAAOA,GACjC4O,M,oBCmCMqG,GAhDK,SAAC,GAAa,IAC1BhF,EAAU,CACdiF,OAAQ,GACRC,OAAO,EACPC,QAAS,CACP,CACE5H,KAAM,wBACN3N,IAPyB,EAAVA,OAYfwV,EAAWhU,iBAAO,MAExBM,qBAAU,WACR0T,EAASjS,QAAQkS,MAAMtV,MAAMJ,OAAS,SACrC,IAYH,OACE,6BACE,kBAAC,KAAD,CACEoD,IAAKqS,EACLpF,QAASA,EACTsF,WAfa,aAgBbC,QAfU,aAgBVC,eAfiB,aAgBjBC,KAfO,aAgBPC,MAfQ,aAgBRC,QAfU,aAgBVC,QAfU,aAgBVC,MAfQ,aAgBRC,MAfQ,SAAC5T,GAAD,OAASC,QAAQC,IAAIF,EAAK,iBAgBlC2I,QAAS,SAAC3I,GAAD,OAASC,QAAQC,IAAIF,EAAK,sBC8S5B6T,I,OApUC,SAACjH,GAAW,IAAD,EACS3O,oBAAS,GADlB,mBAClB6V,EADkB,KACPC,EADO,OAED9V,mBAAS,MAFR,mBAElB6M,EAFkB,KAEZC,EAFY,OAIW9M,oBAAS,GAJpB,mBAIlBwJ,EAJkB,KAINjD,EAJM,OAKmBvG,oBAAS,GAL5B,mBAKlB6J,EALkB,KAKFrD,EALE,OAMOxG,oBAAS,GANhB,mBAMlByJ,EANkB,KAMR1B,EANQ,OAOG/H,oBAAS,GAPZ,mBAOlB0J,EAPkB,KAOV1B,EAPU,OAQyBhI,oBAAS,GARlC,mBAQlBkM,EARkB,KAQCuB,EARD,OASWzN,oBAAS,GATpB,mBASlB+K,EATkB,KASN2C,EATM,OAUa1N,mBAAS6E,OAAO8G,YAV7B,mBAUlBC,EAVkB,KAULC,GAVK,QAWS7L,oBAAS,GAXlB,qBAWlBiN,GAXkB,MAWPC,GAXO,SAYalN,mBAAS,MAZtB,qBAYlB2J,GAZkB,MAYLC,GAZK,SAa6B5J,mBAAS,IAbtC,qBAalBmP,GAbkB,MAaGC,GAbH,MAezB7N,qBAAU,WACJtB,aAAaC,QAAQ,sBACvBD,aAAakC,QAAQ,oBAAqB,MAE3C,IAEHZ,qBAAU,WACJsL,IACFxG,EAAgBwG,EAAKyH,MAAO/N,EAAeC,GAC3CsB,EAAc+E,EAAKyH,MAAOvM,EAAaC,MAExC,CAAC6E,IAEJtL,qBAAU,WACRjD,EAAM,CACJkD,MAAM,+BAAD,OACUmN,EAAMoH,MAAMC,OAAOnO,GAD7B,mQASJpG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACLsL,IAAa,GACbJ,EAAQlL,EAAKA,SAEdE,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,oBAClC,IAEH,IAAM4S,GAAc,WACNmB,GAAZD,IAGIlI,GAAe,WACnBF,GAAqB,GACrBtM,SAAS5C,KAAKqB,MAAMgO,SAAW,UAC/BF,GAAc,KASf9B,GAAeC,GAAehH,OAAO8G,YAEtCpK,qBAAU,WACRsD,OAAOiH,SAAW,SAAUhJ,GAC1B+I,GAAe/I,EAAEiJ,OAAOJ,YACxBgC,SAIA3D,UAAUC,aAAe4C,EAC3B7C,UAAUC,YAAYC,oBACpB,SAACC,GACCP,GACErB,EACE4B,EAAIC,OAAOC,SACXF,EAAIC,OAAOE,UACXuC,EAAKyH,MAAM/J,YAAYvD,MAAM,KAAK,GAClC6F,EAAKyH,MAAM/J,YAAYvD,MAAM,KAAK,QAIxC,SAACjF,GAAD,OAASC,QAAQC,IAAIF,EAAK,kCAG5BC,QAAQC,IAAI,8HAGd,IAAMgU,GAAsB,SAACnT,GAC3BsM,GAAuB,CACrBmB,QAASzN,EAAEyN,QACXC,QAAS1N,EAAE0N,WAIT0F,GAAoB,SAACpT,IAEtBqM,GAAoBoB,WAAazN,EAAEyN,UACnCpB,GAAoBqB,WAAa1N,EAAE0N,SAEpCmE,MAiBErS,GAAeC,YAAU,CAC7B+I,MAAOP,EAAa,IAAM,EAC1BtI,OAAQ,CAAEC,SAAU,OAGtB,OACE,yBACEc,QAAS,SAACV,GACmB,kBAAvBA,EAAEiJ,OAAO3M,WAAiC8M,GAC5CyB,OAIJ,kBAAC,EAAD,CACEpB,MAAI,EACJF,QAAM,EACNC,OAAK,EACLvB,WAAYA,EACZmB,kBAAmBA,EACnBC,aAjFe,WACnBsB,GAAqB,GACrBtM,SAAS5C,KAAKqB,MAAMgO,SAAW,SAC/BF,GAAc,MAgFZ,kBAAC,IAAS/K,IAAV,CACEvD,UAAU,UACVQ,MAAO0C,GACPkB,QAAS,SAACV,GACmB,kBAAvBA,EAAEiJ,OAAO3M,WAAiC8M,GAC5CyB,OAGJ,yBAAKvO,UAAU,wBACb,kBAAC,IAAD,CAAMsE,GAAG,SAAT,+DAEDmJ,GACC,yBAAKzN,UAAU,QACb,yBAAKA,UAAU,eACb,yBAAKA,UAAU,cACZoK,GACC,6BACE,yBAAKpK,UAAU,YACb,kBAAC,GAAD,CAAaK,IAAKoN,EAAKyH,MAAM7N,QAAQ,GAAG0P,OAE1C,yBAAK/W,UAAU,6BACb,yBAAKA,UAAU,8BACb,kBAAC,EAAD,CACEC,IAAI,MACJD,UAAU,kBACVD,KAAM,QAER,uBAAGC,UAAU,wBAAb,WAEF,yBAAKA,UAAU,8BACb,0BAAMA,UAAU,WAChB,uBAAGA,UAAU,wBAAb,WAKNoK,GACA,yBAAKpK,UAAU,WAtEzByK,EAAe9C,WAEf,wHACA9B,EAAwB4E,EAAelE,KACvC,WACAkE,EAAe9C,WAEP8C,EAAe9C,gBAApB,EACE,sJAgEG,uBAAG3H,UAAU,oBACX,8BAAOyN,EAAKyH,MAAMnV,MADpB,MACoC0N,EAAKyH,MAAMC,cAGjD,yBAAKnV,UAAU,QACb,yBAAKA,UAAU,qBACb,4BACE,0BAAMA,UAAU,qBACbyN,EAAKyH,MAAMzS,WAAW,IACrBgL,EAAKyH,MAAMzS,WAAW,GAAG1C,KAAM,IAFnC,KAKC0N,EAAKyH,MAAMnV,KACZ,0BAAMC,UAAU,qBAAhB,MAEF,uBAAGA,UAAU,cAAb,6IACA,uBAAGA,UAAU,aAAa4F,EAAYY,IACtC,uBAAGxG,UAAU,YACVuK,IACC,8BAAOiB,OAAOjB,IAAakB,QAAQ,GAAnC,QAEAlB,IAAe,UAGrB,uBAAGvK,UAAU,kBACVsK,GAAU,0FAAmBD,EAASzC,MAAM,KAAK,KAChD0C,GAAU,8CAEd,yBAAKtK,UAAU,kBACb,yBAAKA,UAAU,aACb,kBAAC,EAAD,CACEC,IAAI,QACJF,KAAM,QACNK,OAAO,KACPD,MAAM,OAER,uBAAGH,UAAU,kBACX,sGACA,8BAAOqK,GAAY,sDAGvB,yBAAKrK,UAAU,wBACb,kBAAC,EAAD,CACEC,IAAI,SACJF,KAAM,SACNK,OAAO,KACPD,MAAM,OAER,uBAAGH,UAAU,kBACX,kEACA,8BACGoK,EAAa,2DAAgB,2EAIpC,yBAAKpK,UAAU,aACb,kBAAC,EAAD,CACEC,IAAI,WACJF,KAAM,YACNK,OAAO,KACPD,MAAM,OAER,uBAAGH,UAAU,kBACX,kEACA,8BAAOyN,EAAKyH,MAAMhB,YAKxB,yBAAKlU,UAAU,oBACb,yBACEA,UAAU,WACVyD,YAAaoT,GACb9S,UAAW+S,IAEX,kBAACE,EAAD,CACElE,qBAAsByC,GACtBrC,kBAAmB,CAAE9S,OAAQ,QAC7B2S,iBACEtF,EAAKyH,MAAM/J,YACP,CACE6F,IAAKxF,OAAOiC,EAAKyH,MAAM/J,YAAYvD,MAAM,KAAK,IAC9CqJ,IAAKzF,OAAOiC,EAAKyH,MAAM/J,YAAYvD,MAAM,KAAK,KAEhD,UAMd,yBAAK5H,UAAU,QACZyN,EAAKyH,MAAMzS,WAAW,IAAMgL,EAAKyH,MAAMzS,WAAW,GAAG1C,OAI1D,yBAAKC,UAAU,sBACb,yBACEA,UAAU,WACVyD,YAAaoT,GACb9S,UAAW+S,IAEX,kBAACE,EAAD,CACElE,qBAAsByC,GACtBrC,kBAAmB,CAAE9S,OAAQ,SAC7B2S,iBACEtF,EAAKyH,MAAM/J,YACP,CACE6F,IAAKxF,OAAOiC,EAAKyH,MAAM/J,YAAYvD,MAAM,KAAK,IAC9CqJ,IAAKzF,OAAOiC,EAAKyH,MAAM/J,YAAYvD,MAAM,KAAK,KAEhD,QAIV,uBAAG5H,UAAU,oBACVyN,EAAOA,EAAKyH,MAAMhB,QAAU,OAKnCzG,GAAQI,IAAa,kBAAC,EAAD,MACtB4I,GACC,kBAAC,GAAD,CAAOlB,YAAaA,IAClB,kBAACyB,EAAD,CACElE,qBAAsByC,GACtBrC,kBAAmB,CAAE/S,MAAO,SAC5BgT,UAAQ,EACRJ,iBACEtF,EAAKyH,MAAM/J,YACP,CACE6F,IAAKxF,OAAOiC,EAAKyH,MAAM/J,YAAYvD,MAAM,KAAK,IAC9CqJ,IAAKzF,OAAOiC,EAAKyH,MAAM/J,YAAYvD,MAAM,KAAK,KAEhD,SAMd,kBAAC,EAAD,CAAY+D,WAAYA,IACxB,kBAAC,EAAD,CAAeA,WAAYA,OCjLlBsL,I,MA1JD,WAAO,IAAD,EACgCrW,oBAAS,GADzC,mBACXkM,EADW,KACQuB,EADR,OAEkBzN,oBAAS,GAF3B,mBAEX+K,EAFW,KAEC2C,EAFD,OAGY1N,oBAAS,GAHrB,mBAGXsW,EAHW,KAGFC,EAHE,OAIQvW,mBAAS,IAJjB,mBAIXwW,EAJW,KAIJC,EAJI,OAKczW,mBAAS,IALvB,mBAKX0W,EALW,KAKDC,EALC,OAMsB3W,oBAAS,GAN/B,mBAMX4W,EANW,KAMGC,EANH,OAOkC7W,mBAAS,IAP3C,mBAOX8W,EAPW,KAOSC,EAPT,KASZC,EAAW/V,iBAAO,MATN,EAUyBiK,YAAW,IAVpC,mBAUXC,EAVW,KAUF8L,EAVE,KAUS7L,EAVT,KAYlB7J,qBAAU,WACJtB,aAAaC,QAAQ,sBACvBD,aAAakC,QAAQ,oBAAqB,MAE3C,IAEH,IAAMwL,EAAe,WACnBF,GAAqB,GACrBtM,SAAS5C,KAAKqB,MAAMgO,SAAW,UAC/BF,GAAc,IAShB7I,OAAOiH,SAAW,SAAUhJ,GAC1B6K,KAGF,IA0CMrL,EAAeC,YAAU,CAC7B+I,MAAOP,EAAa,IAAM,EAC1BtI,OAAQ,CAAEC,SAAU,OAGtB,OAAwB,IAApBkI,OAAO0L,IAAgD,IAA9B1L,OAAOO,EAAQK,WACnC,kBAAC,IAAD,CAAU9H,GAAG,iBAEpBkH,OAAO0L,IACN1L,OAAOO,EAAQK,YAA4C,IAA9BZ,OAAOO,EAAQK,WAEtC,sEAGL,yBAAKpM,UAAU,gBACb,kBAAC,EAAD,CACE2L,WAAYA,EACZwB,MAAI,EACJF,QAAM,EACNH,kBAAmBA,EACnBC,aAxEa,WACnBsB,GAAqB,GACrBtM,SAAS5C,KAAKqB,MAAMgO,SAAW,SAC/BF,GAAc,MAuEV,kBAAC,IAAS/K,IAAV,CACEvD,UAAU,QACVoE,QAAS,SAACV,GACmB,kBAAvBA,EAAEiJ,OAAO3M,WAAiC8M,GAC5CyB,KAGJ/N,MAAO0C,GAEP,yBAAKlD,UAAU,aACb,4BAAMwX,EAA+B,4HAAhB,sEACrB,0BACEhU,IAAKoU,EACLE,SAAU,SAACpU,GACTA,EAAEO,kBACDuT,GA/EG,SAACJ,EAAOE,GACxBpY,EAAM,CACJkD,MAAM,iDAAD,OACyBgV,EADzB,yBAC+CE,EAD/C,oGAKJjV,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACL,GAAKA,EAAK6J,OAUH,CACLL,EAAa,eACbA,EAAa,aAEb2L,EAAsB,iJAEtB,IAAK,IAAIlT,EAAI,EAAGA,EAAImT,EAAShU,QAAQwL,SAAStM,OAAS,EAAG2B,IACxDmT,EAAShU,QAAQwL,SAAS3K,GAAGjE,MAAMuX,UACjC,+BAEJZ,GAAW,GACXvU,QAAQC,IAAIL,EAAK6J,OAAO,GAAI,iBArBZ,CAChBwL,EAAU,cAAerV,EAAKA,KAAKwV,MAAMC,cACzCJ,EAAU,YAAarV,EAAKA,KAAKwV,MAAME,KAAKzP,IAE5C,IAAK,IAAIhE,EAAI,EAAGA,EAAImT,EAAShU,QAAQwL,SAAStM,OAAS,EAAG2B,IACxDmT,EAAShU,QAAQwL,SAAS3K,GAAGjE,MAAMuX,UAAY,OAGjDJ,EAAsB,IACtBR,EAAW3U,EAAKA,KAAKwV,MAAME,KAAKzP,QAenC/F,OAAM,SAACC,GACNqJ,EAAa,eACbA,EAAa,aAEbmL,GAAW,GACXvU,QAAQC,IAAIF,EAAK,gBAyCQwV,CAAUf,EAAOE,KAGpC,2BACEtJ,KAAK,OACLjO,KAAK,QACLqV,YAAY,QACZgD,MAAOhB,EACPzF,SAAU,SAACjO,GAAD,OAAO2T,EAAS3T,EAAEiJ,OAAOyL,WAEnCZ,GACA,oCACE,2BACExJ,KAAK,WACLjO,KAAK,WACLqV,YAAY,WACZgD,MAAOd,EACP3F,SAAU,SAACjO,GAAD,OAAO6T,EAAY7T,EAAEiJ,OAAOyL,UAExC,2BAAOpK,KAAK,SAASoK,MAAM,oCAG9BZ,GAAgB,uBAAGxX,UAAU,aAAb,2DAEnB,uBACEA,UAAU,aACVoE,QAAS,kBAAMqT,GAAgB,SAACY,GAAD,OAAWA,OAExCb,EAAoC,2FAArB,+EACjB,0BAAMxX,UAAU,eACZwX,GAAgBE,KAIxB,kBAAC,EAAD,CAAe/L,WAAYA,Q,SChBtB2M,I,OAlIK,WAAO,IAAD,EAC0B1X,oBAAS,GADnC,mBACjBkM,EADiB,KACEuB,EADF,OAEYzN,oBAAS,GAFrB,mBAEjB+K,EAFiB,KAEL2C,EAFK,OAGU1N,mBAAS,IAHnB,mBAGjB2X,EAHiB,KAGNC,EAHM,OAIN1M,YAAW,IAAtBC,EAJiB,sBAKUnL,oBAAS,GALnB,mBAKjBiN,EALiB,KAKNC,EALM,OAMIlN,mBAAS,IANb,mBAMjBmN,EANiB,KAMT0K,EANS,OAQc7X,mBAAS6E,OAAO8G,YAR9B,mBAQjBC,EARiB,KAQJC,EARI,MASvBD,GAAeC,EAAehH,OAAO8G,YACtCpK,qBAAU,WACRsD,OAAOiH,SAAW,SAAUhJ,GAC1B+I,EAAe/I,EAAEiJ,OAAOJ,gBAI5B,IAAMgC,EAAe,WACnBF,GAAqB,GACrBtM,SAAS5C,KAAKqB,MAAMgO,SAAW,UAC/BF,GAAc,IAShB7I,OAAOiH,SAAW,SAAUhJ,GAC1B6K,KAGFpM,qBAAU,WACRjD,EAAM,CACJkD,MAAM,mGAILC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,OAIRzJ,QAAQC,IAAIL,EAAK6J,OAAQ,eAHzByB,GAAa,GACb2K,EAAUjW,EAAKA,KAAKuL,YAKvBrL,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,mBAClC,IAEH,IAAMO,EAAeC,YAAU,CAC7B+I,MAAOP,EAAa,IAAM,EAC1BtI,OAAQ,CAAEC,SAAU,OAGtB,OAAKkI,OAAOO,EAAQK,WAEqB,IAA9BZ,OAAOO,EAAQK,WACjB,kBAAC,IAAD,CAAU9H,GAAG,UAGlB,yBACEF,QAAS,SAACV,GACmB,kBAAvBA,EAAEiJ,OAAO3M,WAAiC8M,GAC5CyB,MAGJ,kBAAC,EAAD,CACE5C,WAAYA,EACZwB,MAAI,EACJF,QAAM,EACNC,OAAK,EACLJ,kBAAmBA,EACnBC,aAnDa,WACnBsB,GAAqB,GACrBtM,SAAS5C,KAAKqB,MAAMgO,SAAW,SAC/BF,GAAc,OAkDRT,GACA,kBAAC,IAAStK,IAAV,CAAcvD,UAAU,qBAAqBQ,MAAO0C,GAClD,2HACA,+BACE,+BACG6K,GACCA,EAAOjL,QACPiL,EAAOxJ,KAAI,WAAoCE,GAAO,IAAxCgE,EAAuC,EAAvCA,GAAI1I,EAAmC,EAAnCA,KAAM0C,EAA6B,EAA7BA,WAAY4E,EAAiB,EAAjBA,QAClC,OACE,wBAAIxC,IAAK4D,GACP,wBAAIzI,UAAU,QACZ,kBAAC,IAAD,CAAMsE,GAAE,iBAAYmE,IAAO1I,IAE7B,wBAAIC,UAAU,UAAUyI,GACxB,wBAAIzI,UAAU,eACXyC,EAAW,IACVA,EAAW,GAAG1C,MACd0C,EAAW,GAAG1C,KAAKwL,eAEvB,wBAAIvL,UAAU,UACXqH,EAAQ,IAAMA,EAAQ,GAAG+D,QACxB,6BACImN,EAAU9T,IAAM8T,EAAU9T,IAAO,KACnC,2BACEuJ,KAAK,wBACL1C,QAAS,WACPkN,GAAa,SAACH,GAAD,sBACRA,EADQ,gBAEV5T,EAAI,YAGTjE,MAAO,CAAE2L,QAAS,QAClBnM,UAAU,aACVK,IAAKgH,EAAQ,IAAMA,EAAQ,GAAG+D,QAC9BC,UAAQ,KAIZ,YAUnBwC,GAAa,kBAAC,EAAD,MACd,kBAAC,EAAD,CAAelC,WAAYA,KApExB,kBAAC,IAAD,CAAUrH,GAAG,aC+HToU,GAxLM,WAAO,IAAD,EACyB9X,oBAAS,GADlC,mBAClBkM,EADkB,KACCuB,EADD,OAEWzN,oBAAS,GAFpB,mBAElB+K,EAFkB,KAEN2C,EAFM,KAInBC,EAAe,WACnBF,GAAqB,GACrBtM,SAAS5C,KAAKqB,MAAMgO,SAAW,UAC/BF,GAAc,IAPS,EAgBD1N,mBAAS,IAhBR,mBAgBlBb,EAhBkB,KAgBZ4Y,EAhBY,OAiBC/X,mBAAS,IAjBV,mBAiBlBwW,EAjBkB,KAiBXC,EAjBW,OAkBOzW,mBAAS,IAlBhB,mBAkBlB0W,EAlBkB,KAkBRC,EAlBQ,OAmBW3W,mBAAS,IAnBpB,mBAmBlBgY,EAnBkB,KAmBNC,EAnBM,OAoBSjY,oBAAS,GApBlB,mBAoBlBkY,EApBkB,KAoBPC,EApBO,OAqBkBjN,YAAW,IArB7B,mBAqBlBC,EArBkB,KAqBT8L,EArBS,KAqBE7L,EArBF,OAsB2BpL,mBAAS,MAtBpC,mBAsBlB8W,EAtBkB,KAsBEC,EAtBF,OAuB2B/W,mBAAS,MAvBpC,mBAuBlBoY,EAvBkB,KAuBEC,EAvBF,KAyBnBC,EAAWrX,iBAAO,MAExBM,qBAAU,WACJtB,aAAaC,QAAQ,sBACvBD,aAAakC,QAAQ,oBAAqB,MAE3C,IAEHZ,qBAAU,WACR,GAAIuV,EAAoB,CAKtB,IAJA,IAAMyB,EAAoBC,OAAOC,KAAK3B,GAAoB,GAAG9P,MAC3D,KACA,GAEOnD,EAAI,EAAGA,EAAIyU,EAAStV,QAAQwL,SAAStM,OAAQ2B,IACpDyU,EAAStV,QAAQwL,SAAS3K,GAAGjE,MAAMuX,UAAY,OAGjDmB,EAAStV,QAAQwL,SAAS+J,GAAmB3Y,MAAMuX,UACjD,+BAEFkB,EACEvB,EAAmB,SAAD,OAAUyB,IAAqB,OAGpD,CAACzB,IAEJjS,OAAOiH,SAAW,SAAUhJ,GAC1B6K,KAGF,IAsCMrL,EAAeC,YAAU,CAC7B+I,MAAOP,EAAa,IAAM,EAC1BtI,OAAQ,CAAEC,SAAU,OAGtB,OAAMkI,OAAOO,EAAQK,WACZ,kBAAC,IAAD,CAAU9H,GAAG,UAGlB,6BACE,kBAAC,EAAD,CACEqH,WAAYA,EACZwB,MAAI,EACJF,QAAM,EACNH,kBAAmBA,EACnBC,aAnGa,WACnBsB,GAAqB,GACrBtM,SAAS5C,KAAKqB,MAAMgO,SAAW,SAC/BF,GAAc,MAkGV,kBAAC,IAAS/K,IAAV,CACEvD,UAAU,QACVoE,QAAS,SAACV,GACmB,kBAAvBA,EAAEiJ,OAAO3M,WAAiC8M,GAC5CyB,KAGJ/N,MAAO0C,GAEP,yBAAKlD,UAAU,cACX8Y,GACA,oCACE,kGACA,0BACEtV,IAAK0V,EACLpB,SAAU,SAACpU,GACTA,EAAEO,iBAtElB/E,EAAM,CACJkD,MAAM,4DAAD,OAEQrC,EAFR,sBAE0BqX,EAF1B,oCAGYE,EAHZ,qCAGiDsB,EAHjD,gKAWJvW,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,QAURL,EAAa,eACbA,EAAa,aACb2L,EAAsBnV,EAAK6J,OAAO,GAAGiN,WAAWC,YAChD3W,QAAQC,IAAIL,EAAK6J,OAAQ,iBAZzBwL,EAAU,cAAerV,EAAKA,KAAK0W,SAASM,OAAOvB,cACnDJ,EAAU,YAAarV,EAAKA,KAAK0W,SAASM,OAAOtB,KAAKzP,IAEtDkQ,EAAQ,IACRtB,EAAS,IACTE,EAAY,IACZsB,EAAc,IACdE,GAAa,OAQhBrW,OAAM,SAACC,GACNqJ,EAAa,eACbA,EAAa,aACbpJ,QAAQC,IAAIF,EAAK,+BAyCP,2BACEqL,KAAK,OACLjO,KAAK,OACLqV,YAAY,qBACZgD,MAAOrY,EACP4R,SAAU,SAACjO,GAAD,OAAOiV,EAAQjV,EAAEiJ,OAAOyL,UAEpC,2BACEpK,KAAK,OACLjO,KAAK,QACLqV,YAAY,SACZgD,MAAOhB,EACPzF,SAAU,SAACjO,GAAD,OAAO2T,EAAS3T,EAAEiJ,OAAOyL,UAErC,2BACEpK,KAAK,WACLjO,KAAK,WACLqV,YAAY,uCACZgD,MAAOd,EACP3F,SAAU,SAACjO,GAAD,OAAO6T,EAAY7T,EAAEiJ,OAAOyL,UAExC,2BACEpK,KAAK,WACLjO,KAAK,cACLqV,YAAY,4EACZgD,MAAOQ,EACPjH,SAAU,SAACjO,GAAD,OAAOmV,EAAcnV,EAAEiJ,OAAOyL,UAE1C,2BAAOpK,KAAK,SAASoK,MAAM,kHAE7B,kBAAC,IAAD,CAAMpY,UAAU,aAAasE,GAAG,UAAhC,0FAEE,uBAAGtE,UAAU,cAAb,IAA4BgZ,KAIjCF,GACC,oCACE,mGACA,uBAAG9Y,UAAU,eAAb,oKACA,kBAAC,IAAD,CAAMsE,GAAG,QAAQtE,UAAU,aAA3B,wGAMN,kBAAC,EAAD,CAAe2L,WAAYA,O,sCCrGtB8N,GArFI,SAAC,GAAmD,IAAjDC,EAAgD,EAAhDA,eAAgBC,EAAgC,EAAhCA,QAASC,EAAuB,EAAvBA,iBAAuB,EAC1ChZ,mBAASgZ,EAAiBhS,MAAM,KAAK,IADK,mBAC7DiS,EAD6D,KACtDC,EADsD,OAEtClZ,mBAASgZ,EAAiBhS,MAAM,KAAK,IAFC,mBAE7DmS,EAF6D,KAEpDC,EAFoD,KAI9DC,EAAkB,SAACvW,EAAGwW,GAC1BxW,EAAEiJ,OAAOwN,YAAYC,WAAa1W,EAAEiJ,OAAOwN,YAAYC,UAAY,GAC9D1W,EAAEiJ,OAAOwN,YAAYC,YAAcF,IACtCxW,EAAEiJ,OAAOwN,YAAYC,UAAY,IAE9B1W,EAAEiJ,OAAOwN,YAAYC,UAAY,KACpC1W,EAAEiJ,OAAOwN,YAAYC,UAAY,IAAM1W,EAAEiJ,OAAOwN,YAAYC,WAElD,KAARF,EACFJ,EAASpW,EAAEiJ,OAAOwN,YAAYC,WAE9BJ,EAAWtW,EAAEiJ,OAAOwN,YAAYC,YAI9BC,EAAqB,SAAC3W,EAAGwW,GACe,KAAvCxW,EAAEiJ,OAAO2N,gBAAgBF,YAC5B1W,EAAEiJ,OAAO2N,gBAAgBF,UAAYF,GAEvCxW,EAAEiJ,OAAO2N,gBAAgBF,WACtB1W,EAAEiJ,OAAO2N,gBAAgBF,UAAY,EAEpC1W,EAAEiJ,OAAO2N,gBAAgBF,UAAY,KACvC1W,EAAEiJ,OAAO2N,gBAAgBF,UACvB,IAAM1W,EAAEiJ,OAAO2N,gBAAgBF,WAEvB,KAARF,EACFJ,EAASpW,EAAEiJ,OAAO2N,gBAAgBF,WAElCJ,EAAWtW,EAAEiJ,OAAO2N,gBAAgBF,YAQxC,OAJAjY,qBAAU,WACRwX,EAAQE,EAAOE,KACd,CAACF,EAAOE,IAGT,yBAAK/Z,UAAU,kBACb,uBAAGA,UAAU,kBAAkB0Z,GAC/B,yBAAK1Z,UAAU,cACb,yBAAKA,UAAU,uBACb,0BACEA,UAAU,WACVoE,QAAS,SAACV,GACRuW,EAAgBvW,EAAG,OAGvB,uBAAG1D,UAAU,mBACV4Z,GAAoBA,EAAiBhS,MAAM,KAAK,IAEnD,0BACE5H,UAAU,cACVoE,QAAS,SAACV,GACR2W,EAAmB3W,EAAG,QAI5B,uBAAG1D,UAAU,WAAb,KACA,yBAAKA,UAAU,yBACb,0BACEA,UAAU,WACVoE,QAAS,SAACV,GACRuW,EAAgBvW,EAAG,OAGvB,uBAAG1D,UAAU,qBACV4Z,GAAoBA,EAAiBhS,MAAM,KAAK,IAEnD,0BACE5H,UAAU,cACVoE,QAAS,SAACV,GACR2W,EAAmB3W,EAAG,W,kBCnD9B6W,GAAwB,CAC5BpO,QAAS,OACTqO,cAAe,SACfC,SAAU,OACVC,UAAW,QAk9CEC,GA/8CD,SAACpL,GAAW,IAAD,EAC2B3O,oBAAS,GADpC,mBAChBkM,EADgB,KACGuB,EADH,OAEazN,oBAAS,GAFtB,mBAEhB+K,EAFgB,KAEJ2C,EAFI,OAGC1N,mBAAS,IAHV,mBAGhB6M,EAHgB,KAGVC,EAHU,OAI+B9M,oBAAS,GAJxC,mBAIhBga,EAJgB,KAIKC,EAJL,OAK6Bja,oBAAS,GALtC,mBAKhBka,EALgB,KAKIC,EALJ,OAMuBna,mBAAS,SANhC,mBAMhBoa,EANgB,KAMCC,EAND,OAOmBra,mBAAS,SAP5B,mBAOhBsa,EAPgB,KAODC,EAPC,OAQmCva,qBARnC,mBAQhBwa,EARgB,KAQOC,EARP,OAS+Bza,qBAT/B,mBAShB0a,EATgB,KASKC,EATL,OAUe3a,oBAAS,GAVxB,oBAUhB4a,GAVgB,MAUHC,GAVG,SAWiB7a,mBAAS,IAX1B,qBAWhB8a,GAXgB,MAWFC,GAXE,SAY6B/a,oBAAS,GAZtC,qBAYhBgb,GAZgB,MAYIC,GAZJ,SAa2Bjb,mBAAS,IAbpC,qBAahBkb,GAbgB,MAaGC,GAbH,SAcenb,mBAAS,IAdxB,qBAchBob,GAdgB,MAcHC,GAdG,SAeWrb,oBAAS,GAfpB,qBAehBiN,GAfgB,MAeLC,GAfK,SAgB2BlN,qBAhB3B,qBAgBhBI,GAhBgB,MAgBGC,GAhBH,SAiBaL,mBAAS,IAjBtB,qBAiBhBc,GAjBgB,MAiBJC,GAjBI,SAkBmBf,mBAAS,IAlB5B,qBAkBhBsb,GAlBgB,MAkBDC,GAlBC,SAmB6Bvb,mBAAS,IAnBtC,qBAmBhBwb,GAnBgB,MAmBIC,GAnBJ,SAoBmBzb,mBAAS,IApB5B,qBAoBhB0b,GApBgB,MAoBDC,GApBC,SAqBuB3b,mBAAS,IArBhC,qBAqBhB4b,GArBgB,MAqBCC,GArBD,SAsBmB7b,mBAAS,IAtB5B,qBAsBhB8b,GAtBgB,MAsBDC,GAtBC,SAuBiB/b,mBAAS,MAvB1B,qBAuBhBgc,GAvBgB,MAuBFC,GAvBE,SAyBL/Q,YAAW,IAAtBC,GAzBgB,qBA2BvB5J,qBAAU,WACJ4J,GAAQ3M,aACV0d,KAGF5d,EAAM,CAAEkD,MAAM,yCACXC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GAAD,OAAUvB,GAAqBuB,EAAKA,KAAKC,eAC9CC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,yBAClC,IAEH,IA6BMma,GAAc,WAClB5d,EAAM,CACJkD,MAAM,6BAAD,OACQmN,EAAMoH,MAAMC,OAAOnO,GAD3B,qPASJpG,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,OAIRzJ,QAAQC,IAAIL,EAAK6J,OAAQ,mBAHzByB,IAAa,GACbJ,EAAQlL,EAAKA,KAAK0S,WAKrBxS,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,mBAG/Boa,GAAa,SAACtU,GACdsD,GAAQ3M,aACVF,EACE,CACEkD,MAAM,8CAAD,OACkBqG,GAAMuT,GAAYvT,GADpC,8EAMPsD,GAAQ3M,aAEPiD,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,OAGRzJ,QAAQC,IAAIL,EAAK6J,OAAQ,yBAFzByQ,QAKHpa,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,4BAIjCqa,GAAe,SAACjd,GAChBgM,GAAQ3M,aACVF,EACE,CACEkD,MAAM,sFAAD,OAGOqL,EAAKpG,QAAQ,GAAGoB,GAHvB,4DAIiC1I,EAJjC,8EAKwCA,EALxC,+EAUPgM,GAAQ3M,aAEPiD,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,OAGRzJ,QAAQC,IAAIL,EAAK6J,OAAQ,uBAFzByQ,QAKHpa,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,wBAIjCsa,GAAe,SAACld,GAChBgM,GAAQ3M,aACVF,EACE,CACEkD,MAAM,8FAAD,OAGYqL,EAAK1N,KAHjB,8DAImCA,EAJnC,gFAK0CA,EAL1C,4DAMqBwP,EAAMoH,MAAMC,OAAOnO,GANxC,0EAUPsD,GAAQ3M,aAEPiD,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,OAGRzJ,QAAQC,IAAIL,EAAK6J,OAAQ,wBAFzByQ,QAKHpa,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,yBA2IjC4L,GAAe,WACnBF,GAAqB,GACrBtM,SAAS5C,KAAKqB,MAAMgO,SAAW,UAC/BF,GAAc,IAShB7I,OAAOiH,SAAW,SAAUhJ,GAC1B6K,MAGF,IAAM2O,GAAmB,SAACxZ,GACpBA,EAAEiJ,OAAOwN,YAAY3Z,MAAM2c,WAC7BzZ,EAAEiJ,OAAOwN,YAAY3Z,MAAM2c,UAAY,KACvCzZ,EAAEiJ,OAAOyQ,kBAAkB5c,MAAM6c,UAAY,iBAE7C3Z,EAAEiJ,OAAOwN,YAAY3Z,MAAM2c,UACzBzZ,EAAEiJ,OAAOwN,YAAYmD,aAAe,KACtC5Z,EAAEiJ,OAAOyQ,kBAAkB5c,MAAM6c,UAAY,mBAI3CE,GAAwB,WAExB1C,GADJD,IAKI9H,GAAuB,WAEvBiI,GADJD,IAKF3Y,qBAAU,WAENJ,SAAS5C,KAAKqB,MAAMgO,SADlBoM,GAAuBE,EACM,SAEA,SAEhC,CAACF,EAAqBE,IAEzB,IAOM1S,GAAmB,SAAC5F,GACxB,IAAM0F,EAAa,GAWnB,OAVA5B,EAAqBmB,SAAQ,SAAC/D,EAAGe,GAC/BjC,EAAKiF,SAAQ,SAACjD,EAAI2D,GACXD,EAAWxE,EAAE6C,OAChB2B,EAAWxE,EAAE6C,KAAO,kCAElB/B,EAAG+B,MACL2B,EAAW1D,EAAG+B,KAAO/B,SAIpB0D,GAnXc,GAsXyBtH,mBAC9CC,aAAaC,QAAQ,mBACjBpB,KAAKqB,MAAMF,aAAaC,QAAQ,oBAChC,CACE,CACEf,KAAM,oGACNyd,IAAK,UACLC,OAAQ,UACRC,SAAS,GAEX,CACE3d,KAAM,4EACNyd,IAAK,YACLC,OAAQ,OACRC,SAAS,GAEX,CACE3d,KAAM,oGACNyd,IAAK,eACLC,OAAQ,SACRC,SAAS,GAEX,CACE3d,KAAM,iCACNyd,IAAK,YACLC,OAAQ,SACRC,SAAS,KAhZI,qBAsXhBC,GAtXgB,MAsXEC,GAtXF,MAqZvBzb,qBAAU,WACRtB,aAAakC,QAAQ,kBAAmBrD,KAAKC,UAAUge,OACtD,CAACA,KAEJxb,qBAAU,WACRsL,EAAK0H,aAAewH,GAAiBlP,EAAK0H,eACzC,CAAC1H,EAAK0H,cAET,IAEM0I,GAAkB,WAClB9R,GAAQ3M,aACVF,EACE,CACEkD,MAAM,oFAAD,OAGOmN,EAAMoH,MAAMC,OAAOnO,GAH1B,oCAISyT,IAAiBzO,EAAK1N,KAJ/B,2CAKgB2c,IAAiBjP,EAAK0H,YALtC,8BAOGqH,IAAe,wDAEC/O,EAAKhL,WAAW,GAAGgG,GAFpB,2CAGF+T,GAHE,MAPlB,uEAiBPzQ,GAAQ3M,aAEPiD,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,OAGRzJ,QAAQC,IAAIL,EAAK6J,OAAQ,WAFzBzJ,QAAQC,IAAI,cAKfH,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,oBAIvCZ,SAAS5C,KAAKqB,MAAM2D,WAAa,OAlcV,OAocCvD,mBAAS,CAAEkd,OAAQ,IApcpB,qBAochBC,GApcgB,MAocVC,GApcU,SAqcKpd,mBAAS,MArcd,qBAqchBqd,GArcgB,MAqcRC,GArcQ,SAscyBtd,mBAAS,IAtclC,qBAschBud,GAtcgB,MAscEC,GAtcF,SAucyBxd,mBAAS,IAvclC,qBAuchByd,GAvcgB,MAucEC,GAvcF,SAwcW1d,mBAAS,MAxcpB,qBAwchB2d,GAxcgB,MAwcLC,GAxcK,MAycjBC,GAAqB5c,iBAAO,MAG5B6c,GACJ,2DACIC,GAAyBD,GAC5B9W,MAAM,KACNrD,KAAI,SAAC2C,GAAD,OAAUA,EAAK0X,UAEhBC,GAAiB,SAACd,ICtdnB,SACLe,EACAC,EACAC,EACAC,EACAC,GAEA,IAAMC,GAAmBF,EAAY9e,MAAQ+e,EAAY/e,OAAOsL,QAAQ,GAClE2T,GAAoBH,EAAY7e,OAAS8e,EAAY9e,QAAQqL,QAAQ,GAErE4T,EAASP,EACfO,EAAOlf,MAAQ6e,EAAU7e,MAAQif,EACjCC,EAAOjf,OAAS4e,EAAU5e,OAAS+e,EACnC,IAAMG,EAAMD,EAAOE,WAAW,MACxBC,EAAQ,IAAIC,MAClBD,EAAMnf,IAAM0e,EACZS,EAAME,OAAS,WACbJ,EAAIK,UACFH,EACAR,EAAUY,EAAIT,EACdH,EAAUa,EAAIT,EACdJ,EAAU7e,MAAQgf,EAClBH,EAAU5e,OAASgf,EACnB,EACA,EACAJ,EAAU7e,MAAQgf,EAClBH,EAAU5e,OAASgf,ID+brBU,CAFkBrB,GAAmB7a,QAInCqa,GACAF,EACAI,GACAE,KAmBJ,IAAM0B,GAAwB,WAC5B,GAAI9B,IAAUM,GAAW,CACvB,IACMyB,EADYvB,GAAmB7a,QACPqc,UAAU,SAAW1B,IAE7C2B,EAAa,WAAa3B,GAE5ByB,EAAYld,OAAS,GCzgBxB,SAA4Bqd,EAAYC,GAC7C,IAAIC,EAAUte,SAASue,cAAc,KACrCD,EAAQE,aAAa,OAAQJ,GAC7BE,EAAQE,aAAa,WAAYH,GACjCC,EAAQ7f,MAAM2L,QAAU,OACxBpK,SAAS5C,KAAKqhB,YAAYH,GAC1BA,EAAQI,QACR1e,SAAS5C,KAAKuhB,YAAYL,GDmgBpBM,CAAmBX,EAAaE,GAChCU,KAxBN,WACE,IAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASnE,IAEzBrd,MAAM,sBAAuB,CAC3BC,OAAQ,OACRL,KAAM0hB,EACNjhB,QAAS,CACPC,cAAe,UAAYkM,GAAQ3M,eAGpCiD,MAAK,SAACC,GAAD,OAASM,QAAQC,IAAIP,EAAK,mBAC/BI,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,gBAa/Bqe,IAEAC,MAAM,wJAKNL,GAAwB,WAC5B,IAAM9B,EAAYL,GAAmB7a,QACzBkb,EAAUS,WAAW,MAC7B2B,UAAU,EAAG,EAAGpC,EAAU3e,MAAO2e,EAAU1e,QAC/C8d,GAAU,MACVM,GAAa,OAGT2C,GAAa,SAACC,GAClB,GAAIA,GAASA,EAAMte,OAAS,EAAG,CAC7B,IAAMue,EAAcD,EAAM,GAE1BvE,GAAgBwE,GAChB,IAAMC,EAAkBD,EAAYrT,KAEpC,OADwBqT,EAAYE,KAjEnB,MAmEfN,MAAM,8JACC,KAEJtC,GAAuB6C,SAASF,KACnCL,MAAM,iMACC,KAMPQ,GAAe,SAACL,EAAOM,GAK3B,IAJIA,GAAiBA,EAAc5e,OAAS,IAC1CF,QAAQC,IAAI6e,EAAe,oBAC3BP,GAAWO,IAETN,GAASA,EAAMte,OAAS,IACPqe,GAAWC,GACd,CAEd,IAAMC,EAAcD,EAAM,GACpBO,EAAmB,IAAIC,WAE7BD,EAAiBE,UAAY,SAAUC,GACrC,IAAItC,EAAQ,IAAIC,MAChBD,EAAME,OAAS,WACbtB,GAAoB,CAAEje,MAAO4hB,KAAK5hB,MAAOC,OAAQ2hB,KAAK3hB,UAExDof,EAAMnf,IAAMyhB,EAAQnV,OAAOqV,QAG7BL,EAAiBM,iBACf,QACA,SAACH,GACC,IC3jBwC3B,ED2jBlC+B,EAAWP,EAAiBK,OAClC9D,GAAUgE,GACV1D,IC7jBwC2B,ED6jBS+B,GC5jBzCC,UAChB,cAAcrf,OACdqd,EAAWiC,QAAQ,gBD4jBb,GAEFT,EAAiBU,cAAchB,KAK/BiB,GAAqB,SAACC,GAC1B,OAAIA,GAAUA,EAAO9Z,GACZ8Z,EAAO5a,WAAa,MAAQ4a,EAAOza,SAEnC,oDAIL0a,GAAgB,SAACD,GACrB,OAAIA,GAAUA,EAAO9Z,GACZ,8FAEA,IAILga,GAAsB,SAACnd,EAAMpF,GACjC,OACE,kBAAC,EAAD,CACED,IAAI,OACJD,UAAU,qBACVD,KAAMuF,EACNpF,SAAQA,EACRC,MAAM,KACNC,OAAO,QAKP8C,GAAeC,YAAU,CAC7B+I,MAAOP,EAAa,IAAM,EAC1BtI,OAAQ,CAAEC,SAAU,OAGtB,OAAKkI,OAAOO,GAAQK,WAIhB,6BACE,yBACEhI,QAAS,SAACV,GACmB,kBAAvBA,EAAEiJ,OAAO3M,WAAiC8M,GAC5CyB,OAIJ,kBAAC,IAAShL,IAAV,CACEvD,UAAU,QACVQ,MAAO0C,GACPkB,QAAS,SAACV,GACmB,kBAAvBA,EAAEiJ,OAAO3M,WAAiC8M,GAC5CyB,OAGJ,kBAAC,EAAD,CACE5C,WAAYA,EACZwB,MAAI,EACJF,QAAM,EACNC,OAAK,EACLJ,kBAAmBA,EACnBC,aAhUS,WACnBsB,GAAqB,GACrBtM,SAAS5C,KAAKqB,MAAMgO,SAAW,SAC/BF,GAAc,MA+TLT,IAAa,kBAAC,EAAD,OACZA,IACA,yBAAK7N,UAAU,gBAEb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,iBACb,4BACG2d,GAAiBpZ,KAAI,SAACC,EAAIiE,GACzB,OACE,wBACE5D,IAAK4D,EACLzI,UACEwE,EAAGkZ,QACC,sBACA,eAENtZ,QAAS,WACPwZ,IAAoB,SAACvF,GACnB,IAAIqK,EAAM,aAAOrK,GAMjB,OALAqK,EAAOjb,SAAQ,SAACjD,GAAD,OAASA,EAAGkZ,SAAU,KACrCgF,EAAOja,GAAP,eACKia,EAAOja,GADZ,CAEEiV,SAAS,IAEJgF,OAIVle,EAAGgZ,KACF,kBAAC,EAAD,CACEvd,IAAKuE,EAAGiZ,OACRzd,UAAU,kBACVD,KAAMyE,EAAGgZ,MAGZhZ,EAAGzE,YAOhB,yBAAKC,UAAU,uBACZ2d,GAAiBpZ,KAAI,SAACC,EAAIC,GACzB,OAAID,EAAGkZ,SAAiB,IAANjZ,EAEd,yBAAKI,IAAKJ,GACPwZ,GACC,yBAAKje,UAAU,eACb,kBAAC,KAAD,CACEK,IAAK4d,GACLF,KAAMA,GACNpM,SAAU,SAACgR,GAAD,OAAa3E,GAAQ2E,IAC/BC,WAAY,SAAC7E,GAAD,OAAUc,GAAed,IACrC8E,cAAe,gBAAG1iB,EAAH,EAAGA,MAAOC,EAAV,EAAUA,OAAV,OACbke,GAAoB,CAClBne,QACAC,cAIN,6BACA,0BAAMgE,QAAS2b,IAAf,8CAGA,0BAAM3b,QAASwc,IAAf,oDAGA,4BACE5gB,UAAU,kBACVwD,IAAKib,MAIT,yBAAKze,UAAU,gBACb,8GACA,yCAgBJ,kBAAC,KAAD,CACE8iB,UAAU,EACVC,OAAQrE,GACRsE,QA7QL,KA8QKC,OAAQ,SAACC,EAAexB,GAAhB,OACND,GAAayB,EAAexB,MAG7B,YAAsC,IAAnCyB,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,cAChB,OACE,iCACE,uCACEpjB,UAAU,oBACNmjB,KAEJ,yCACEnjB,UAAU,oBACNojB,MAEN,uBAAGpjB,UAAU,eAAb,uHAQV,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,kBACb,uIACA,2BACEgO,KAAK,OACLoH,YAAa3H,EAAK1N,KAClBqY,MAAO8D,GACPvK,SAAU,SAACjO,GAAD,OACRyY,GAAiBzY,EAAEiJ,OAAOyL,WAIhC,yBAAKpY,UAAU,kBACb,sFACA,2BACEgO,KAAK,OACLoH,YAAa3H,EAAK1N,KAClBqY,MAAOgE,GACPzK,SAAU,SAACjO,GAAD,OACR2Y,GAAsB3Y,EAAEiJ,OAAOyL,WAIrC,yBAAKpY,UAAU,qBACb,sFACA,yBAAKA,UAAU,qBACVgB,IACDA,GAAkBuD,KAAI,SAACC,EAAIC,GACzB,OACE,0BACEzE,UAAU,cACV6E,IAAKJ,EACLjE,MACEgE,GACAA,EAAGzE,MACHuc,IACAA,KAAkB9X,EAAGzE,KACjB,CACEoE,WAAY,UACZE,MAAO,SAERiY,IACD7O,EAAKhL,YACLgL,EAAKhL,WAAW,IAChB+B,GACAA,EAAGzE,MACH0N,EAAKhL,WAAW,GAAG1C,OACjByE,EAAGzE,KACL,CACEoE,WAAY,UACZE,MAAO,QAET,GAEND,QAAS,WACPmY,GAAiB/X,EAAGzE,MACpB0c,GAAmBjY,EAAGiE,KAExBrD,YAAa,kBACXzD,GAAc6C,EAAGzE,OAEnBsF,WAAY,kBAAM1D,GAAc,MAE/B2a,IACDA,KAAkB9X,EAAGzE,KACjB0iB,GAAoBje,EAAGc,MAAM,IAC5BgX,IACD7O,EAAKhL,YACLgL,EAAKhL,WAAW,IAChBgL,EAAKhL,WAAW,GAAG1C,OAASyE,EAAGzE,KAC/B0iB,GAAoBje,EAAGc,MAAM,GAC7B5D,KAAe8C,EAAGzE,KAClB0iB,GAAoBje,EAAGc,MAAM,GAC7Bmd,GAAoBje,EAAGc,MAAM,GAChCd,EAAGzE,WAMhB,yBAAKC,UAAU,kBACb,uBAAGA,UAAU,eAAb,0FACA,yBAAKA,UAAU,qBACb,2BAAOgO,KAAK,OAAOoK,MAAO3K,EAAKyG,UAC/B,uBACElU,UAAU,oBACVoE,QAAS,kBAAM0O,OAFjB,2HAQJ,yBAAK9S,UAAU,kBACb,gFACA,yBAAKQ,MAAO+Z,IACV,0BACE/Z,MAnbL,MAobOkc,GAAc5Z,OACV,CACEuB,MAAO,MACPgf,YAAa,OACbC,UAAW,OAEb,CACEjf,MAAO,QACPgf,YAAa,OACbC,UAAW,QAIlB5G,GAAc5Z,OAfjB,MAlbH,KAmcG,8BACE9C,UAAU,eACVujB,UArcL,IAscKnL,MAAOsE,GACP/K,SAAU,SAACjO,GAAD,OACRiZ,GAAiBjZ,EAAEiJ,OAAOyL,YAKlC,uBACEpY,UAAU,iBACVoE,QAAS,kBAAMyZ,OAFjB,4DAUJrZ,EAAGkZ,SAAiB,IAANjZ,EAEd,yBAAKI,IAAKJ,EAAGzE,UAAU,qBACrB,yGACA,2BAAOA,UAAU,iBACf,+BACGyN,EAAKjG,WACJlB,EAAqB/B,KAAI,SAACC,EAAIC,GAC5B,IAAM8d,EAASna,GACbqF,EAAKjG,WACLhD,EAAG+B,KACL,OACE,wBAAI1B,IAAKJ,GACP,4BAAK4B,EAAqB7B,EAAG+B,MAC7B,wBACE/F,MACEgG,IAAiB/B,EACb,CACE+e,WAAY,QAEd,GAENxjB,UAAU,SACVoE,QAAS,WACHme,GAAUA,EAAO9Z,IACnBgT,IAAe,GACfE,GAAgB,IAChBN,EACEkH,EAAO5a,YAET4T,EACEgH,EAAOza,UAETyV,KACAtB,GAAesG,GACf1G,IAAsB,KAEtBJ,IAAe,GACfE,GAAgBnX,EAAG+B,KACnB8U,EAAyB,SACzBE,EAAuB,SACvBgC,KACA1B,IAAsB,MAIzByG,GAAmBC,IAEtB,wBACEviB,UAAU,cACVoE,QAAS,kBAAM2Y,GAAWwF,EAAO9Z,MAEhC+Z,GAAcD,WAW/B/d,EAAGkZ,SAAiB,IAANjZ,EAEd,yBAAKzE,UAAU,qBACb,iIACA,2BAAOA,UAAU,iBACf,+BACGyN,EAAKpG,SACJf,EAAqB/B,KAAI,SAACC,EAAIC,GAC5B,IAAM8d,EAASna,GACbqF,EAAKpG,QAAQ,GACToG,EAAKpG,QAAQ,GAAGG,UAChB,IACJhD,EAAG+B,KACL,OACE,wBAAI1B,IAAKJ,GACP,4BAAK4B,EAAqB7B,EAAG+B,MAC7B,wBACE/F,MACEgG,IAAiB/B,EACb,CACE+e,WAAY,QAEd,GAENxjB,UAAU,SACVoE,QAAS,WACFqJ,EAAKpG,QAAQ,GAGZkb,GAAUA,EAAO9Z,IACnBgT,IAAe,GACfE,GAAgB,IAChBN,EACEkH,EAAO5a,YAET4T,EACEgH,EAAOza,UAETyV,KACAtB,GAAesG,GACf1G,IAAsB,KAEtBJ,IAAe,GACfE,GAAgBnX,EAAG+B,KACnB8U,EAAyB,SACzBE,EAAuB,SACvBgC,KACA1B,IAAsB,IApBxBoF,MAAM,yGAyBTqB,GAAmBC,IAEtB,wBACEviB,UAAU,cACVoE,QAAS,kBAAM2Y,GAAWwF,EAAO9Z,MAEhC+Z,GAAcD,WAU/B/d,EAAGkZ,SAAiB,IAANjZ,EAEd,yBAAKI,IAAKJ,EAAGzE,UAAU,oBACrB,gEACGyN,EAAKpG,SAAWoG,EAAKpG,QAAQ,IAC9B,yBAAKrH,UAAU,yBACb,kBAAC,GAAD,CACEK,IACEoN,EAAKpG,SACLoG,EAAKpG,QAAQ,IACboG,EAAKpG,QAAQ,GAAG0P,OAKxB,yBAAK/W,UAAU,2BACb,yBAAKA,UAAU,wBACb,0BAAMA,UAAU,qBAAhB,wEAGA,2BACEA,UAAU,gBACVoV,YACG3H,EAAKpG,SACJoG,EAAKpG,QAAQ,IACboG,EAAKpG,QAAQ,GAAG0P,KAChBtJ,EAAKpG,QAAQ,GAAG0P,KAClB,iHAEFqB,MAAO0D,GACP2H,QAAS,SAAC/f,GAAD,OACPqY,GAAqBrY,EAAEiJ,OAAOyL,WAIpC,yBACEpY,UAAU,6BACVoE,QAAS,WACH0X,GACGrO,EAAKpG,QAAQ,GAGhB2V,GAAalB,IAFbmB,GAAanB,IAKfmF,MAAM,qFAVZ,iEAnCR,MA0DJ,yBAAKjhB,UAAU,wBACVyN,EAAKpG,SAAWoG,EAAKpG,QAAQ,IAC9B,yBAAKrH,UAAU,wBACb,kBAAC,GAAD,CACEK,IACEoN,EAAKpG,SAAWoG,EAAKpG,QAAQ,IAAMoG,EAAKpG,QAAQ,GAAG0P,OAK3D,yBAAK/W,UAAU,sBACb,yBAAKA,UAAU,yBACb,yBACEA,UAAU,YACVoE,QAAS,SAACV,GAAD,OAAOwZ,GAAiBxZ,KAFnC,oGAKE,0BAAM1D,UAAU,iBAElB,yBAAKA,UAAU,cACb,yBAAKA,UAAU,uBACb,yBAAKA,UAAU,cACZie,GACC,yBAAKje,UAAU,eACb,kBAAC,KAAD,CACEK,IAAK4d,GACLF,KAAMA,GACNpM,SAAU,SAACgR,GAAD,OAAa3E,GAAQ2E,IAC/BC,WAAY,SAAC7E,GAAD,OAAUc,GAAed,IACrC8E,cAAe,gBAAG1iB,EAAH,EAAGA,MAAOC,EAAV,EAAUA,OAAV,OACbke,GAAoB,CAClBne,QACAC,cAIN,6BAOA,4BACEJ,UAAU,kBACVwD,IAAKib,MAIT,yBAAKze,UAAU,gBACb,8GACA,yCAGJ,kBAAC,KAAD,CACE8iB,UAAU,EACVC,OAAQrE,GACRsE,QA/pBP,KAgqBOC,OAAQ,SAACC,EAAexB,GAAhB,OACND,GAAayB,EAAexB,MAG7B,YAAsC,IAAnCyB,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,cAChB,OACE,iCACE,uCACEpjB,UAAU,oBACNmjB,KAEJ,yCACEnjB,UAAU,oBACNojB,MAEN,uBAAGpjB,UAAU,eAAb,yHAWd,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,kBACb,uIACA,2BACEgO,KAAK,OACLoH,YAAa3H,EAAK1N,KAClBqY,MAAO8D,GACPvK,SAAU,SAACjO,GAAD,OAAOyY,GAAiBzY,EAAEiJ,OAAOyL,WAG/C,yBAAKpY,UAAU,kBACb,sFACA,2BACEgO,KAAK,OACLoH,YAAa3H,EAAK1N,KAClBqY,MAAOgE,GACPzK,SAAU,SAACjO,GAAD,OACR2Y,GAAsB3Y,EAAEiJ,OAAOyL,WAIrC,yBAAKpY,UAAU,qBACb,sFACA,yBAAKA,UAAU,qBACVgB,IACDA,GAAkBuD,KAAI,SAACC,EAAIC,GACzB,OACE,0BACEzE,UAAU,cACV6E,IAAKJ,EACLjE,MACEgE,GACAA,EAAGzE,MACHuc,IACAA,KAAkB9X,EAAGzE,KACjB,CACEoE,WAAY,UACZE,MAAO,SAERiY,IACD7O,EAAKhL,YACLgL,EAAKhL,WAAW,IAChB+B,GACAA,EAAGzE,MACH0N,EAAKhL,WAAW,GAAG1C,OAASyE,EAAGzE,KAC/B,CACEoE,WAAY,UACZE,MAAO,QAET,GAEND,QAAS,WACPmY,GAAiB/X,EAAGzE,MACpB0c,GAAmBjY,EAAGiE,KAExBrD,YAAa,kBAAMzD,GAAc6C,EAAGzE,OACpCsF,WAAY,kBAAM1D,GAAc,MAE/B2a,IACDA,KAAkB9X,EAAGzE,KACjB0iB,GAAoBje,EAAGc,MAAM,IAC5BgX,IACD7O,EAAKhL,YACLgL,EAAKhL,WAAW,IAChBgL,EAAKhL,WAAW,GAAG1C,OAASyE,EAAGzE,KAC/B0iB,GAAoBje,EAAGc,MAAM,GAC7B5D,KAAe8C,EAAGzE,KAClB0iB,GAAoBje,EAAGc,MAAM,GAC7Bmd,GAAoBje,EAAGc,MAAM,GAChCd,EAAGzE,WAMhB,yBAAKC,UAAU,kBACb,uBAAGA,UAAU,qBAAb,0FAGA,yBAAKA,UAAU,sBACb,2BAAOgO,KAAK,OAAOoK,MAAO3K,EAAKyG,UAC/B,uBACElU,UAAU,oBACVoE,QAAS,kBAAM0O,OAFjB,2HAQJ,yBAAK9S,UAAU,kBACb,gFACA,8BACEA,UAAU,eACVujB,UAr0BD,IAs0BCnL,MAAOsE,GACP/K,SAAU,SAACjO,GAAD,OAAOiZ,GAAiBjZ,EAAEiJ,OAAOyL,WAG/C,uBACEpY,UAAU,iBACVoE,QAAS,kBAAMyZ,OAFjB,6DASN,yBAAK7d,UAAU,8BACb,yBACEA,UAAU,YACVoE,QAAS,SAACV,GAAD,OAAOwZ,GAAiBxZ,KAFnC,4EAKE,0BAAM1D,UAAU,iBAElB,yBAAKA,UAAU,cACb,+BACE,+BACGyN,EAAKjG,WACJlB,EAAqB/B,KAAI,SAACC,EAAIC,GAC5B,IAAM8d,EAASna,GAAiBqF,EAAKjG,WACnChD,EAAG+B,KAEL,OACE,wBAAI1B,IAAKJ,GACP,4BAAK4B,EAAqB7B,EAAG+B,MAC7B,wBACEnC,QAAS,WACHme,GAAUA,EAAO9Z,IACnBgT,IAAe,GACfE,GAAgB,IAChBN,EACEkH,EAAO5a,YAET4T,EACEgH,EAAOza,UAETyV,KACAtB,GAAesG,GACf1G,IAAsB,KAEtBJ,IAAe,GACfE,GAAgBnX,EAAG+B,KACnB8U,EAAyB,SACzBE,EAAuB,SACvBgC,KACA1B,IAAsB,MAIzByG,GAAmBC,YAStC,yBAAKviB,UAAU,gCACb,yBACEA,UAAU,YACVoE,QAAS,SAACV,GAAD,OAAOwZ,GAAiBxZ,KAFnC,oGAKE,0BAAM1D,UAAU,iBAElB,yBAAKA,UAAU,cACb,yBAAKA,UAAU,uBACb,2BACEA,UAAU,gBACVoV,YACG3H,EAAKpG,SACJoG,EAAKpG,QAAQ,IACboG,EAAKpG,QAAQ,GAAG0P,KAChBtJ,EAAKpG,QAAQ,GAAG0P,KAClB,iHAEFqB,MAAO0D,GACP2H,QAAS,SAAC/f,GAAD,OACPqY,GAAqBrY,EAAEiJ,OAAOyL,UAGlC,yBACEpY,UAAU,6BACVoE,QAAS,WACH0X,GACGrO,EAAKpG,QAAQ,GAGhB2V,GAAalB,IAFbmB,GAAanB,IAKfmF,MAAM,qFAVZ,2DAiBF,+BACE,+BACGxT,EAAKpG,SACJf,EAAqB/B,KAAI,SAACC,EAAIC,GAC5B,IAAM8d,EAASna,GACbqF,EAAKpG,QAAQ,GACToG,EAAKpG,QAAQ,GAAGG,UAChB,IACJhD,EAAG+B,KACL,OACE,wBAAI1B,IAAKJ,GACP,4BAAK4B,EAAqB7B,EAAG+B,MAC7B,wBACEnC,QAAS,WACFqJ,EAAKpG,QAAQ,GAGZkb,GAAUA,EAAO9Z,IACnBgT,IAAe,GACfE,GAAgB,IAChBN,EACEkH,EAAO5a,YAET4T,EACEgH,EAAOza,UAETyV,KACAtB,GAAesG,GACf1G,IAAsB,KAEtBJ,IAAe,GACfE,GAAgBnX,EAAG+B,KACnB8U,EAAyB,SACzBE,EAAuB,SACvBgC,KACA1B,IAAsB,IApBxBoF,MAAM,yGAyBTqB,GAAmBC,gBAehD,kBAAC,EAAD,CAAe5W,WAAYA,IAC1BiP,GACC,kBAAC,GAAD,CACErF,YAAagI,GACb/H,UAAW,CAAEkO,WAAY,aAEzB,yBAAK1jB,UAAU,gBACb,0BACEA,UAAU,gBACVoE,QAASmZ,KAEX,yBAAKvd,UAAU,uBACb,kBAAC,GAAD,CACE4Z,iBAAkBwB,EAClB1B,eAAe,GACfC,QAnjCG,SAACgK,EAAGC,GACvB3I,EAAwB0I,EAAI,IAAMC,MAojCpB,0BAAM5jB,UAAU,UAChB,kBAAC,GAAD,CACE4Z,iBAAkB0B,EAClB5B,eAAe,GACfC,QAtjCC,SAACgK,EAAGC,GACrBzI,EAAsBwI,EAAI,IAAMC,OAwjCpB,uBACE5jB,UAAU,qBACVoE,QAAS,WACP2Y,KACAQ,OAJJ,+FASA,yBACEvd,UAAU,UACVoE,QAAS,WACPmZ,KACA3B,IAlrCZ7P,GAAQ3M,cACNoc,IAEFtc,EACE,CACEkD,MAAM,0FAAD,OAGOmN,EAAMoH,MAAMC,OAAOnO,GAH1B,sGAMYiT,GANZ,yBAMyCV,EANzC,wBAMwEE,EANxE,yGAaPnP,GAAQ3M,aAEPiD,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,OAGRzJ,QAAQC,IAAIL,EAAK6J,OAAQ,WAFzByQ,QAKHpa,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,YAGhC6Y,IAEHtc,EACE,CACEkD,MAAM,iFAAD,OAGG4Z,GAAYvT,GAHf,0BAGmCuS,EAHnC,wBAGkEE,EAHlE,iDAQPnP,GAAQ3M,aAEPiD,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,OAGRzJ,QAAQC,IAAIL,EAAK6J,OAAQ,WAFzByQ,QAKHpa,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,aA8nCtBiZ,IA/vCb7P,GAAQ3M,cACNqO,EAAKpG,QAAQ,KAAOmU,IAEtBtc,EACE,CACEkD,MAAM,4FAAD,OAGOqL,EAAKpG,QAAQ,GAAGoB,GAHvB,iIAOauT,GAAYvT,GAPzB,kDAQsBuS,EARtB,iDASoBE,EATpB,gLAmBPnP,GAAQ3M,aAEPiD,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,OAGRzJ,QAAQC,IAAIL,EAAK6J,OAAQ,WAFzByQ,QAKHpa,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,WAEjC8K,EAAKpG,QAAQ,IAAMmU,IAErBtc,EACE,CACEkD,MAAM,4FAAD,OAGOqL,EAAKpG,QAAQ,GAAGoB,GAHvB,kIAOciT,GAPd,kDAQsBV,EARtB,iDASoBE,EATpB,gLAmBPnP,GAAQ3M,aAEPiD,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,OAIRzJ,QAAQC,IAAIL,EAAK6J,OAAQ,YAHzByQ,KACAla,QAAQC,IAAIL,EAAM,kBAKrBE,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,cAorC3B,4DAaLmY,GACC,kBAAC,GAAD,CACEvF,YAAazC,GACbtS,MAAO,CACLL,MAAO,OACPC,OAAQ,SAGV,kBAAC4W,EAAD,CACEjE,iBACEtF,EAAKtC,YACD,CACE6F,IAAKxF,OAAOiC,EAAKtC,YAAYvD,MAAM,KAAK,IACxCqJ,IAAKzF,OAAOiC,EAAKtC,YAAYvD,MAAM,KAAK,KAE1C,KAENkL,qBAAsBA,GACtBE,iBA95CW,SAACK,EAAYE,GACpC,GAAIxH,GAAQ3M,YAAa,CACvB,IAAMykB,EAAoBtQ,EAAOvC,IAAM,IAAMuC,EAAOtC,IACpD/R,EACE,CACEkD,MAAM,8EAAD,OAGKmN,EAAMoH,MAAMC,OAAOnO,GAHxB,uCAIY4K,EAJZ,0CAKewQ,EALf,qEAUP9X,GAAQ3M,aAEPiD,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACAA,EAAK6J,SACRyG,KACAgK,SAIHpa,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAK,8BAs4CzBsQ,cAAY,OAv2BjB,kBAAC,IAAD,CAAU3O,GAAG,Y,gLEzkBxBwf,KAAGC,SAASC,MAAQC,KAAgB,CAClCC,OAjCkB,CAClBC,OAAQ,CAAC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,UAChEC,YAAa,CACX,sBACA,sBACA,2BACA,sBACA,qBACA,2BACA,2BACA,sBACA,4BACA,sBACA,4BACA,uBAEFC,KAAM,CACJ,uCACA,6CACA,2BACA,uCACA,qBACA,2BACA,2BACA,uCACA,mDACA,6CACA,uCACA,+CAMFC,aAAc,OACdC,uBAAwB,SAG1B,IAmbeC,GAnbE,WAAO,IAAD,EACmB5jB,mBAAS,IAAI6F,MADhC,mBACdge,EADc,KACAC,EADA,OAEmB9jB,mBAAS,IAAI6F,MAFhC,mBAEdke,EAFc,KAEAC,EAFA,OAIiBhkB,mBAAS,IAAI6F,MAJ9B,mBAIdoe,EAJc,KAIDC,EAJC,OAK4BlkB,oBAAS,GALrC,mBAKdmkB,EALc,KAKKC,EALL,OAOyBpkB,oBAAS,GAPlC,mBAOdqkB,EAPc,KAOGC,EAPH,KASrBnjB,SAAS5C,KAAKqB,MAAM2D,WAAa,OAoLjC,IAlLA,IA+DMghB,EAAc,SAAC5e,EAAK7C,GACxB3B,SAAS5C,KAAKqB,MAAMgO,SAAW,SAC/BoW,EAAgBre,GAWhB,IATA,IAAM6e,EAAa1hB,EAAEiJ,OAAO0Y,QAAQ,iBAC9BC,EAAkB5hB,EAAEiJ,OAAO0Y,QAAQ,2BACnCE,EAAyBxjB,SAASyjB,uBACtC,0BAIIC,EAFgB1jB,SAAS2jB,eAAeC,aAAOhB,EAAc,SAChCiB,cAAc,SACdC,iBAAiB,iBAE3CC,EAAI,EAAGA,EAAI,GAAIA,IAClBL,EAAcK,KAChBL,EAAcK,GAAGtlB,MAAMJ,OAAS,QAElCmlB,EAAuBO,GAAGtlB,MAAM2L,QAAU,OAG5CmZ,EAAgB9kB,MAAM2L,QAAU,QAChCmZ,EAAgB9kB,MAAMka,UACpB,IAAiD,GAA3CqL,aAAexf,EAAK,CAAEyf,aAAc,IAAY,KAExD/Z,YAAW,WACTmZ,EAAW5kB,MAAMJ,OAASqF,OAAOwgB,YAAc,OAC9C,KAEHf,EAAmBS,aAAOpf,EAAK,YAAa,CAAE2f,OAAQpC,SA4ElDqC,EAAY,WAChBzB,EAAgB0B,aAAU3B,EAAc,KAEpC4B,EAAY,WAChB3B,EAAgB4B,aAAU7B,EAAc,KAKtC8B,EAAYC,aAAY3B,GACtB4B,EAAe,GACZhiB,EAAI,EAAGA,EAAI,GAAIA,IACtBgiB,EAAane,KAAKie,GAClBA,EAAYH,aAAUG,EAAW,GAGnC,IAAMG,EAAc,WAClB5B,EAAe6B,aAAS9B,EAAa,KAEjC+B,EAAc,WAClB9B,EAAe+B,aAAShC,EAAa,KAqBjCiC,EAAiB,SAAAtiB,GAoCrB,IAnCA,IAAMuiB,EAAaC,aAAaxiB,GAC1ByiB,EAAWC,aAAWH,GACtBI,EAAYC,aAAYL,EAAY,CAAEf,aAAc,IACpDqB,EAAUC,aAAUL,GA4BpBM,EAAO,GACTC,EAAO,GACPjhB,EAAM4gB,EACNM,EAAgB,GACblhB,GAAO8gB,GAAS,CACrB,IAAK,IAAI5iB,EAAI,EAAGA,EAAI,EAAGA,IACrBgjB,EAAgB9B,aAAOpf,EAPR,KAQfihB,EAAKlf,KACH,yBACEtI,UAAS,sBACN0nB,aAAYnhB,EAAKwgB,GAEdY,aAAUphB,EAAKoe,GACf,cACA,GAHA,eAKNnkB,MAAO,CACLJ,OAAQ,OACRqa,SAAU,QAEZ5V,IAAK0B,GAEL,0BACEvG,UAAU,SACVQ,MACyC,QAAvCmlB,aAAOiC,aAAQT,EAAW1iB,GAAI,MACS,QAAvCkhB,aAAOiC,aAAQT,EAAW1iB,GAAI,KAC1B,CAAEJ,MAAO,OAAQ8H,QAAS,OAAQ0b,UAAW,UAC7C,CAAE1b,QAAS,OAAQ0b,UAAW,WAGnCJ,KAIPlhB,EAAMqhB,aAAQrhB,EAAK,GAErBghB,EAAKjf,KACH,yBAAKtI,UAAU,SAAS6E,IAAK0B,GAC1BihB,IAGLA,EAAO,GAET,OACE,yBACExnB,UAAU,kBACVoE,QAAS,SAAAV,IAzEQ,WACnBghB,EAAgBlgB,GAEhB,IAAMsjB,EAAc/lB,SAASyjB,uBAAuB,eAAe,GAC7DuC,EAAkBhmB,SAASyjB,uBAC/B,mBACA,GAEFsC,EAAYtnB,MAAMwnB,QAAU,IAC5BF,EAAYtnB,MAAM8Q,OAAS,EAE3ByW,EAAgBvnB,MAAMwnB,QAAU,IAChCD,EAAgBvnB,MAAM2L,QAAU,QAChC4b,EAAgBvnB,MAAM8Q,OAAS,EAE/B0T,GAAoB,GAEpB/Y,YAAW,WACTlK,SACG2jB,eAAeC,aAAOnhB,EAAI,SAC1ByjB,eAAe,CAAEC,MAAO,SAAUhjB,SAAU,WAC/CO,OAAOR,SAAS,EAAGQ,OAAO0iB,eACzB,KAoDCC,KAGF,uBACEpoB,UAAU,WACVQ,MACEknB,aAAYljB,EAAI,IAAIiC,MAChB,CAAEpC,MAAO,oBACT,CAAEA,MAAO,UAGdshB,aAAOnhB,EAAI,OAAQ,CAAE0hB,OAAQpC,QAEhC,yBAAK9jB,UAAU,QAAQunB,KAM7B,OACE,yBAAKvnB,UAAU,WAAWQ,MAAO,CAAE6nB,OAAQ,SACzC,yBAAKroB,UAAU,eApHf,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,IACb,yBAAKA,UAAU,OAAOoE,QAASwiB,GAA/B,iBAIF,yBAAK5mB,UAAU,iBACb,8BAAO2lB,aAAOd,EATD,OAS0B,CAAEqB,OAAQpC,SAEnD,yBAAK9jB,UAAU,GAAGoE,QAASsiB,GACzB,yBAAK1mB,UAAU,QAAf,mBA4GF,yBACEQ,MAAO,CACL2L,QAAS,OACTmc,eAAgB,SAChBC,SAAU,OACVC,OAAQ,MACRrkB,WAAY,SAGbsiB,EAAaliB,KAAI,SAACC,EAAIC,GACrB,OACE,yBAAKzE,UAAU,yBAAyB6E,IAAKJ,GAC1CqiB,EAAetiB,SAM1B,6BAEI,yBACExE,UACE+kB,EAAoB,kBAAoB,mBAG1C,uBACE/kB,UAAU,eACVoE,QAAS,SAAAV,GACP,GAAKuhB,EAeE,CAELljB,SAAS5C,KAAKqB,MAAMgO,SAAW,OAc/B,IAZA,IAAM+W,EAAyBxjB,SAASyjB,uBACtC,0BAOIC,EAJgB1jB,SAAS2jB,eAC7BC,aAAOhB,EAAc,SAEYiB,cAAc,SACdC,iBACjC,iBAGOC,EAAI,EAAGA,EAAI,GAAIA,IAClBL,EAAcK,KAChBL,EAAcK,GAAGtlB,MAAMJ,OAAS,QAGpC8kB,GAAmB,GAEnBjZ,YAAW,WACT,IAAK,IAAIxH,EAAI,EAAGA,EAAI,GAAIA,IACtB8gB,EAAuB9gB,GAAGjE,MAAM2L,QAAU,QAC1CoZ,EAAuB9gB,GAAGjE,MAAMka,UAAY,OAClC,IAANjW,IACF8gB,EAAuB9gB,GAAGjE,MAAMka,UAAY,SAGhD3Y,SACG2jB,eAAeC,aAAOhB,EAAc,SACpCsD,eAAe,CAAEC,MAAO,SAAUhjB,SAAU,aAC9C,SAjDiB,CAEpB,IAAM4iB,EAAc/lB,SAASyjB,uBAC3B,eACA,GACIuC,EAAkBhmB,SAASyjB,uBAC/B,mBACA,GACFR,GAAoB,GAEpB8C,EAAYtnB,MAAMwnB,QAAU,IAC5BF,EAAYtnB,MAAM8Q,OAAS,EAE3ByW,EAAgBvnB,MAAMwnB,QAAU,IAChCD,EAAgBvnB,MAAM2L,QAAU,UAuCpC,0BAAMnM,UAAU,oBACd,8BAAOilB,GAAmBU,aAAOd,EAAa,WAhXzC,WAIjB,IAHA,IACM2C,EAAO,GACTL,EAAYC,aAAY3C,EAAc,CAAEuB,aAAc,IACjDvhB,EAAI,EAAGA,EAAI,EAAGA,IACrB+iB,EAAKlf,KACH,yBACEtI,UAAU,iBACV6E,IAAKJ,EACLjE,MACyC,QAAvCmlB,aAAOiC,aAAQT,EAAW1iB,GAAI,MACS,QAAvCkhB,aAAOiC,aAAQT,EAAW1iB,GAAI,KAC1B,CAAEJ,MAAO,WACT,IAGkC,QAAvCshB,aAAOiC,aAAQT,EAAW1iB,GAAI,KAC3B,eACAkhB,aAAOiC,aAAQT,EAAW1iB,GAjBjB,IAiBiC,CAAEyhB,OAAQpC,OAAM2E,MACxD,EACA,KAKZ,OACE,yBACEzoB,UAAU,WACVQ,MAAO,CACL2D,WAAY,qBACZ4T,UAAW,+BAGZyP,GAkVIkB,IAGL,yBAAK1oB,UAAS,mBACXymB,EAAaliB,KAAI,SAACC,EAAIC,GACrB,OACE,yBACEI,IAAKJ,EACLgE,GAAIkd,aAAOnhB,EAAI,QACfxE,UAAU,yBACVQ,MAEuB,KAApBmlB,aAAOnhB,EAAI,KACR,CAAEkW,UAAW,SACb,CAAEA,UAAW,UA1ZZiO,EA6ZOnkB,EA1ZxB,yBAAKxE,UAAU,wBACb,yBAAKA,UAAU,KACX2oB,GACA,yBAAK3oB,UAAU,OAAOoE,QAASiiB,GAA/B,iBAKJ,yBAAKrmB,UAAU,kBACb,8BACG2lB,aAAOgD,GAAalE,EAZV,OAYoC,CAAEyB,OAAQpC,UAG3D6E,GACA,yBAAK3oB,UAAU,GAAGoE,QAAS+hB,GACzB,yBAAKnmB,UAAU,QAAf,oBA4EU,SAAA2oB,GAYlB,IAXA,IAAM5B,EAAaC,aAAa2B,GAAalE,GACvCwC,EAAWC,aAAWH,GACtBI,EAAYC,aAAYL,EAAY,CAAEf,aAAc,IACpDqB,EAAUC,aAAUL,GAGpBM,EAAO,GACTC,EAAO,GACPjhB,EAAM4gB,EACNM,EAAgB,GAEblhB,GAAO8gB,GAAS,CACrB,IADsB,IAAD,WACZ5iB,GACPgjB,EAAgB9B,aAAOpf,EARR,KASf,IAAMqiB,EAAWriB,EACjBihB,EAAKlf,KACH,yBACEtI,UAAS,2BACN0nB,aAAYnhB,EAAKwgB,GAIdY,aAAUphB,EAAKoe,GACf,WACA,GALCM,EAEC,kBADA,YAMRzkB,OACyC,QAAvCmlB,aAAOiC,aAAQT,EAAW1iB,GAAI,MACS,QAAvCkhB,aAAOiC,aAAQT,EAAW1iB,GAAI,OAC1BijB,aAAYnhB,EAAKwgB,GACf,CAAE1iB,MAAO,UAAWjE,OAAQ,QAE9B,CAAEA,OAAQ,QAEhByE,IAAK0B,EACLnC,QAAS,SAAAV,IACNA,EAAEiJ,OAAOkc,UAAUC,SAAS,cAC1BplB,EAAEiJ,OAAOkc,UAAUC,SAAS,qBAC5BplB,EAAEiJ,OAAOkc,UAAUC,SAAS,mBAC7B3D,EAAYyD,EAAUllB,KAG1B,0BACE1D,UACG0nB,aAAYnhB,EAAKwgB,GAEd,SADA,yBAILU,KAIPlhB,EAAMqhB,aAAQrhB,EAAK,IAzCZ9B,EAAI,EAAGA,EAAI,EAAGA,IAAM,EAApBA,GA2CT8iB,EAAKjf,KACH,yBACEtI,UAAU,mBACV6E,IAAK0B,EACL/F,MAAO,CAAEJ,OAAQ,OAAQoO,SAAU,WAElCgZ,EACD,yBAAKxnB,UAAU,0BACb,2BAAI2lB,aAAOhB,EAAc,mBAAoB,CAAEuB,OAAQpC,OAAvD,eAIN0D,EAAO,GAET,OAAO,yBAAKxnB,UAAU,QAAQunB,GA0PjBwB,CAAYvkB,IA9ZN,IAAAmkB,SCvDjBK,I,OAAgBC,eAwBPC,GAtBH,WACV,OACE,kBAAC,IAAD,CAAe9b,QAAS4b,IACtB,kBAACG,EAAA,EAAD,KACE,yBAAKnpB,UAAU,OACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOopB,OAAK,EAACC,KAAK,eAAeC,UAAW9b,IAC5C,kBAAC,IAAD,CAAO6b,KAAK,OAAOC,UAAWC,IAC9B,kBAAC,IAAD,CAAOF,KAAK,eAAeC,UAAW9S,KACtC,kBAAC,IAAD,CAAO6S,KAAK,SAASC,UAAWrS,KAChC,kBAAC,IAAD,CAAOoS,KAAK,gBAAgBC,UAAW5Q,KACvC,kBAAC,IAAD,CAAO2Q,KAAK,aAAaC,UAAW3O,KACpC,kBAAC,IAAD,CAAO0O,KAAK,YAAYC,UAAW9E,KACnC,kBAAC,IAAD,CAAO6E,KAAK,eAAeC,UAAWhR,KACtC,kBAAC,IAAD,CAAUhU,GAAG,eCrBLklB,QACW,cAA7B/jB,OAAOC,SAAS+jB,UAEe,UAA7BhkB,OAAOC,SAAS+jB,UAEhBhkB,OAAOC,SAAS+jB,SAAS9S,MACvB,2DCZN+S,IAASC,OAAO,kBAAC,GAAD,MAAS5nB,SAAS2jB,eAAe,SD6H3C,kBAAmB9a,WACrBA,UAAUgf,cAAcC,MAAMxnB,MAAK,SAAAynB,GACjCA,EAAaC,iB","file":"static/js/main.d240badd.chunk.js","sourcesContent":["import { EN_SHORT_DAY_OF_WEEK } from \"./constants\";\r\nexport const numberDayNow =\r\n  new Date().getDay() === 0 ? 6 : new Date().getDay() - 1;\r\nlet numberDayYest;\r\n\r\nif (new Date().getDay() === 0) {\r\n  numberDayYest = 5;\r\n} else if (new Date().getDay() === 1) {\r\n  numberDayYest = 6;\r\n} else {\r\n  numberDayYest = new Date().getDay() - 2;\r\n}\r\n\r\nconst dayNameYest = EN_SHORT_DAY_OF_WEEK[numberDayYest].day;\r\nconst dayNameNow = EN_SHORT_DAY_OF_WEEK[numberDayNow].day;\r\n\r\nconst HtoMs = 3600000,\r\n  MtoMs = 60000;\r\n\r\nconst currentTimeMS =\r\n  new Date().getHours() * HtoMs + new Date().getMinutes() * MtoMs;\r\nconst curDay = EN_SHORT_DAY_OF_WEEK[numberDayNow].day;\r\n\r\nconst SetNewTimeObject = (data) => {\r\n  const timeObject = {};\r\n  EN_SHORT_DAY_OF_WEEK.forEach((e, i) => {\r\n    data.forEach((el, ind) => {\r\n      if (!timeObject[e.day]) {\r\n        timeObject[e.day] = \"Пусто\";\r\n      }\r\n      if (el.day) {\r\n        timeObject[el.day] = el;\r\n      }\r\n    });\r\n  });\r\n  return timeObject;\r\n};\r\n\r\nexport const isShowStreamNow = (item, setShowStream, setNextStreamTime) => {\r\n  if (item.streams[0]) {\r\n    let yesterdayStream, todayStream;\r\n\r\n    item.streams[0].schedules.forEach((el) => {\r\n      if (dayNameYest === el.day) {\r\n        yesterdayStream = el;\r\n      }\r\n      if (dayNameNow === el.day) {\r\n        todayStream = el;\r\n      }\r\n    });\r\n\r\n    const startYesterdayStreamMS =\r\n      yesterdayStream &&\r\n      yesterdayStream.start_time.split(\":\")[0] * HtoMs +\r\n        yesterdayStream.start_time.split(\":\")[1] * MtoMs;\r\n    const endYesterdayStreamMS =\r\n      yesterdayStream &&\r\n      yesterdayStream.end_time.split(\":\")[0] * HtoMs +\r\n        yesterdayStream.end_time.split(\":\")[1] * MtoMs;\r\n\r\n    const startTodayStreamMS =\r\n      todayStream &&\r\n      todayStream.start_time.split(\":\")[0] * HtoMs +\r\n        todayStream.start_time.split(\":\")[1] * MtoMs;\r\n    const endTodayStreamMS =\r\n      todayStream &&\r\n      todayStream.end_time.split(\":\")[0] * HtoMs +\r\n        todayStream.end_time.split(\":\")[1] * MtoMs;\r\n\r\n    if (\r\n      startYesterdayStreamMS > endYesterdayStreamMS &&\r\n      endYesterdayStreamMS > currentTimeMS\r\n    ) {\r\n      // идет видео за вчерашний день ещe\r\n      setShowStream(true);\r\n    } else if (\r\n      startTodayStreamMS > endTodayStreamMS &&\r\n      currentTimeMS > startTodayStreamMS\r\n    ) {\r\n      // если видео началось сегодня и закончилось завтра\r\n      setShowStream(true);\r\n    } else if (\r\n      startTodayStreamMS < endTodayStreamMS &&\r\n      currentTimeMS > startTodayStreamMS &&\r\n      currentTimeMS < endTodayStreamMS\r\n    ) {\r\n      // началось и закончилось сегодня\r\n      setShowStream(true);\r\n    } else {\r\n      setShowStream(false);\r\n\r\n      const sch = SetNewTimeObject(item.streams[0].schedules);\r\n\r\n      const sortedArr = [];\r\n      EN_SHORT_DAY_OF_WEEK.forEach((el, i) => {\r\n        sortedArr.push(sch[el.day]);\r\n      });\r\n\r\n      let isSetTime = false;\r\n\r\n      for (let i = 0; i < sortedArr.length; i++) {\r\n        const streamWillBeToday = sortedArr[i] && sortedArr[i].day === curDay;\r\n        if (streamWillBeToday) {\r\n          const todayStartStream =\r\n            sortedArr[i].start_time.split(\":\")[0] * HtoMs +\r\n            sortedArr[i].start_time.split(\":\")[1] * MtoMs;\r\n          if (currentTimeMS < todayStartStream) {\r\n            // console.log(\r\n            //   {\r\n            //     id: item.id,\r\n            //     day: \"сегодня\",\r\n            //     start_time: sortedArr[i].start_time\r\n            //   },\r\n            //   \"-----\"\r\n            // );\r\n            setNextStreamTime({\r\n              id: item.id,\r\n              day: \"сегодня\",\r\n              start_time: sortedArr[i].start_time,\r\n            });\r\n\r\n            isSetTime = true;\r\n          }\r\n        }\r\n      }\r\n      if (!isSetTime) {\r\n        for (let i = 0; i < sortedArr.length; i++) {\r\n          if (sortedArr[i] && i > numberDayNow) {\r\n            if (sortedArr[i].start_time) {\r\n              setNextStreamTime({\r\n                id: item.id,\r\n\r\n                day: sortedArr[i].day,\r\n                start_time: sortedArr[i].start_time,\r\n              });\r\n\r\n              isSetTime = true;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (!isSetTime) {\r\n        for (let i = 0; i < sortedArr.length; i++) {\r\n          if (sortedArr[i] && i < numberDayNow) {\r\n            if (sortedArr[i].start_time) {\r\n              // console.log({\r\n              //   id: item.id,\r\n              //   day: \"сегодня\",\r\n              //   start_time: sortedArr[i].start_time\r\n              // });\r\n              setNextStreamTime({\r\n                id: item.id,\r\n\r\n                day: sortedArr[i].day,\r\n                start_time: sortedArr[i].start_time,\r\n              });\r\n              isSetTime = true;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport const isWorkTimeNow = (item, setWorkTime, setIsWork) => {\r\n  let yesterdayWorkTime, todayWorkTime;\r\n\r\n  item.schedules.forEach((el) => {\r\n    if (dayNameYest === el.day) {\r\n      yesterdayWorkTime = el;\r\n    }\r\n    if (dayNameNow === el.day) {\r\n      todayWorkTime = el;\r\n    }\r\n  });\r\n\r\n  const endYesterdayMS =\r\n    yesterdayWorkTime &&\r\n    yesterdayWorkTime.end_time.split(\":\")[0] * HtoMs +\r\n      yesterdayWorkTime.end_time.split(\":\")[1] * MtoMs;\r\n  const startYesterdayMS =\r\n    yesterdayWorkTime &&\r\n    yesterdayWorkTime.start_time.split(\":\")[0] * HtoMs +\r\n      yesterdayWorkTime.start_time.split(\":\")[1] * MtoMs;\r\n  const endTodayMS =\r\n    todayWorkTime &&\r\n    todayWorkTime.end_time.split(\":\")[0] * HtoMs +\r\n      todayWorkTime.end_time.split(\":\")[1] * MtoMs;\r\n  const startTodayMS =\r\n    todayWorkTime &&\r\n    todayWorkTime.start_time.split(\":\")[0] * HtoMs +\r\n      todayWorkTime.start_time.split(\":\")[1] * MtoMs;\r\n\r\n  if (startYesterdayMS > endYesterdayMS && endYesterdayMS > currentTimeMS) {\r\n    // идет работа за вчерашний день ещe\r\n    setIsWork(true);\r\n    setWorkTime(\r\n      yesterdayWorkTime &&\r\n        yesterdayWorkTime.start_time.split(\":\")[0] +\r\n          \":\" +\r\n          yesterdayWorkTime.start_time.split(\":\")[1] +\r\n          \"-\" +\r\n          yesterdayWorkTime.end_time.split(\":\")[0] +\r\n          \":\" +\r\n          yesterdayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  } else if (startTodayMS > endTodayMS && currentTimeMS > startTodayMS) {\r\n    // если работа началось сегодня и закончилось завтра\r\n    setIsWork(true);\r\n    setWorkTime(\r\n      todayWorkTime &&\r\n        todayWorkTime.start_time.split(\":\")[0] +\r\n          \":\" +\r\n          todayWorkTime.start_time.split(\":\")[1] +\r\n          \"-\" +\r\n          todayWorkTime.end_time.split(\":\")[0] +\r\n          \":\" +\r\n          todayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  } else if (\r\n    startTodayMS < endTodayMS &&\r\n    currentTimeMS > startTodayMS &&\r\n    currentTimeMS < endTodayMS\r\n  ) {\r\n    // началось и закончилось сегодня\r\n    setIsWork(true);\r\n    setWorkTime(\r\n      todayWorkTime &&\r\n        todayWorkTime.start_time.split(\":\")[0] +\r\n          \":\" +\r\n          todayWorkTime.start_time.split(\":\")[1] +\r\n          \"-\" +\r\n          todayWorkTime.end_time.split(\":\")[0] +\r\n          \":\" +\r\n          todayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  } else {\r\n    setIsWork(false);\r\n    setWorkTime(\r\n      todayWorkTime &&\r\n        todayWorkTime.start_time.split(\":\")[0] +\r\n          \":\" +\r\n          todayWorkTime.start_time.split(\":\")[1] +\r\n          \"-\" +\r\n          todayWorkTime.end_time.split(\":\")[0] +\r\n          \":\" +\r\n          todayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  }\r\n};\r\n","const QUERY = (body, origin_data) => {\r\n  return Promise.resolve(\r\n    fetch(\"http://194.87.95.37/graphql\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      body: JSON.stringify(body),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: origin_data ? \"Bearer \" + origin_data : \"\"\r\n      }\r\n    })\r\n  );\r\n};\r\n\r\nexport default QUERY;\r\n","import React from \"react\";\r\n\r\nconst CustomImg = ({ name, className, alt, active, width, height }) => {\r\n  return (\r\n    <img\r\n      alt={alt}\r\n      className={className}\r\n      src={\r\n        active\r\n          ? `${process.env.PUBLIC_URL}/img/${name}_w.png`\r\n          : `${process.env.PUBLIC_URL}/img/${name}.png`\r\n      }\r\n      width={width}\r\n      height={height}\r\n    />\r\n  );\r\n};\r\n\r\nexport default CustomImg;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport smoothscroll from \"smoothscroll-polyfill\";\r\nimport { useSpring, animated } from \"react-spring\";\r\n\r\nimport QUERY from \"../../query\";\r\nimport CustomImg from \"../customImg/CustomImg\";\r\n\r\nimport \"./companyNav.css\";\r\n\r\nconst CompanyNav = ({ style, clickedType, currentPage, toSlideFixedNav }) => {\r\n  const [uniqueCompanyType, setUniqueCompanyType] = useState(\r\n    localStorage.getItem(\"uniqueCompanyType\")\r\n      ? JSON.parse(localStorage.getItem(\"uniqueCompanyType\"))\r\n      : []\r\n  );\r\n\r\n  const [isDown, setIsDown] = useState(false);\r\n  const [startX, setStartX] = useState();\r\n  const [scrollLeft, setScrollLeft] = useState();\r\n  const [clickedTypeLocal, setClickedTypeLocal] = useState();\r\n  const [hoveredBtn, setHoveredBtn] = useState();\r\n\r\n  const slideBtnMenu = useRef(null);\r\n\r\n  const supportsTouch = \"ontouchstart\" in document.documentElement;\r\n  smoothscroll.polyfill();\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {categories {id name slug}}`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setUniqueCompanyType(\r\n          localStorage.getItem(\"uniqueCompanyType\")\r\n            ? JSON.parse(localStorage.getItem(\"uniqueCompanyType\"))\r\n            : data.data.categories\r\n        );\r\n      })\r\n      .catch((err) => console.log(err, \"  ERR\"));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      uniqueCompanyType &&\r\n      uniqueCompanyType.length &&\r\n      !localStorage.getItem(\"uniqueCompanyType\")\r\n    ) {\r\n      localStorage.setItem(\r\n        \"uniqueCompanyType\",\r\n        JSON.stringify(uniqueCompanyType)\r\n      );\r\n    }\r\n  }, [uniqueCompanyType]);\r\n\r\n  const scrollBtnToCenter = (e) => {\r\n    e.preventDefault();\r\n    const btnPositionToCenter =\r\n      slideBtnMenu.current.offsetWidth / 2 -\r\n      (e.currentTarget.offsetLeft -\r\n        slideBtnMenu.current.scrollLeft +\r\n        e.currentTarget.offsetWidth / 2);\r\n\r\n    slideBtnMenu.current.scrollTo({\r\n      left: slideBtnMenu.current.scrollLeft - btnPositionToCenter,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  const isClickedAllBtn = () => {\r\n    return !clickedTypeLocal && !localStorage.getItem(\"filter_type\");\r\n  };\r\n\r\n  const isClickedTypeBtn = (name) => {\r\n    return localStorage.getItem(\"filter_type\") === name;\r\n  };\r\n\r\n  const animateProps = useSpring({\r\n    left: toSlideFixedNav ? -200 : 0,\r\n    config: {\r\n      duration: 100,\r\n    },\r\n  });\r\n\r\n  return (\r\n    <animated.div\r\n      className=\"overflowClass\"\r\n      style={{\r\n        ...style,\r\n        ...animateProps,\r\n      }}\r\n    >\r\n      <div\r\n        className={\"сompanyNav\"}\r\n        ref={slideBtnMenu}\r\n        onMouseDown={(e) => {\r\n          if (!supportsTouch) {\r\n            setIsDown(true);\r\n            setStartX(e.pageX - slideBtnMenu.current.offsetLeft);\r\n            setScrollLeft(slideBtnMenu.current.scrollLeft);\r\n          }\r\n        }}\r\n        onMouseLeave={() => {\r\n          if (!supportsTouch) {\r\n            setIsDown(false);\r\n          }\r\n        }}\r\n        onMouseUp={() => {\r\n          if (!supportsTouch) {\r\n            setIsDown(false);\r\n          }\r\n        }}\r\n        onMouseMove={(e) => {\r\n          if (!supportsTouch) {\r\n            if (!isDown) return;\r\n            e.preventDefault();\r\n            const x = e.pageX - slideBtnMenu.current.offsetLeft;\r\n            const walk = (x - startX) * 2;\r\n            slideBtnMenu.current.scrollLeft = scrollLeft - walk;\r\n          }\r\n        }}\r\n      >\r\n        <div\r\n          className={\r\n            isClickedAllBtn() ? \"activeBtn companyNavBlock\" : \"companyNavBlock\"\r\n          }\r\n          style={isClickedAllBtn() ? { background: \"#e32a6c\" } : {}}\r\n          onClick={(e) => {\r\n            clickedType();\r\n            setClickedTypeLocal();\r\n            localStorage.setItem(\"filter_type\", \"\");\r\n          }}\r\n        >\r\n          <Link\r\n            className={\r\n              isClickedAllBtn()\r\n                ? \"activeBtnText companyNavLink\"\r\n                : \"companyNavLink\"\r\n            }\r\n            style={isClickedAllBtn() ? { color: \"#fff\" } : {}}\r\n            to={currentPage}\r\n          >\r\n            <p className=\"allText\">Все</p>\r\n          </Link>\r\n        </div>\r\n        {uniqueCompanyType.map((el, i) => {\r\n          const slideBtn = React.createRef();\r\n          return (\r\n            <div\r\n              key={i}\r\n              ref={slideBtn}\r\n              className={\r\n                isClickedTypeBtn(el.name)\r\n                  ? \"activeBtn companyNavBlock\"\r\n                  : \"companyNavBlock\"\r\n              }\r\n              style={isClickedTypeBtn(el.name) ? { background: \"#e32a6c\" } : {}}\r\n              onClick={(e) => {\r\n                clickedType(el.name);\r\n                setClickedTypeLocal(el.name);\r\n                localStorage.setItem(\"filter_type\", el.name);\r\n                scrollBtnToCenter(e);\r\n              }}\r\n              onMouseOver={() => setHoveredBtn(el.name)}\r\n              onMouseOut={() => setHoveredBtn(\"\")}\r\n            >\r\n              <Link\r\n                className={\r\n                  isClickedTypeBtn(el.name)\r\n                    ? \"activeBtnText companyNavLink\"\r\n                    : \"companyNavLink\"\r\n                }\r\n                style={isClickedTypeBtn(el.name) ? { color: \"#fff\" } : {}}\r\n                to={currentPage}\r\n              >\r\n                {isClickedTypeBtn(el.name) ? (\r\n                  <CustomImg\r\n                    alt=\"Icon\"\r\n                    className=\"сompanyNavImg\"\r\n                    name={el.slug}\r\n                    active\r\n                    width=\"30\"\r\n                    height=\"30\"\r\n                  />\r\n                ) : hoveredBtn === el.name ? (\r\n                  <CustomImg\r\n                    alt=\"Icon\"\r\n                    className=\"сompanyNavImg\"\r\n                    name={el.slug}\r\n                    active\r\n                    width=\"30\"\r\n                    height=\"30\"\r\n                  />\r\n                ) : (\r\n                  <CustomImg\r\n                    alt=\"Icon\"\r\n                    className=\"сompanyNavImg\"\r\n                    name={el.slug}\r\n                    width=\"30\"\r\n                    height=\"30\"\r\n                  />\r\n                )}\r\n                <p className=\"сompanyNavText\">{el.name}</p>\r\n              </Link>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </animated.div>\r\n  );\r\n};\r\n\r\nexport default CompanyNav;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./typeNav.css\";\r\n\r\nconst TypeNav = ({ style }) => {\r\n  const pathname = window.location.pathname;\r\n  return (\r\n    <div className=\"TypeNav\" style={{ ...style }}>\r\n      <Link\r\n        className=\"typeNavText typeNavBlock\"\r\n        to={{ pathname: \"/home\" }}\r\n        style={\r\n          pathname === \"/home\" ? { color: \"#fff\", background: \"#e32a6c\" } : {}\r\n        }\r\n      >\r\n        <p>СПИСОК </p>\r\n      </Link>\r\n      <Link\r\n        className=\"typeNavText typeNavBlock\"\r\n        to={{\r\n          pathname: \"/map\"\r\n        }}\r\n        style={\r\n          pathname === \"/map\" ? { color: \"#fff\", background: \"#e32a6c\" } : {}\r\n        }\r\n      >\r\n        <p>КАРТА</p>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TypeNav;\r\n","export const API_KEY = \"AIzaSyAZQdg3dPHXD5Bt-Dgi85wNHG5G_MXpR7g\";\r\n\r\nexport const DAY_OF_WEEK = [\r\n  \"Понедельник\",\r\n  \"Вторник\",\r\n  \"Среда\",\r\n  \"Четверг\",\r\n  \"Пятница\",\r\n  \"Суббота\",\r\n  \"Воскресенье\",\r\n];\r\n\r\nexport const SHORT_DAY_OF_WEEK = [\"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\", \"Вс\"];\r\n\r\nexport const EN_SHORT_TO_RU_LONG = {\r\n  Mon: \"понедельник\",\r\n  Tue: \"вторник\",\r\n  Wed: \"среда\",\r\n  Thu: \"четверг\",\r\n  Fri: \"пятница\",\r\n  Sat: \"суббота\",\r\n  Sun: \"воскресенье\",\r\n};\r\nexport const EN_SHORT_TO_RU_LONG_V_P = {\r\n  Mon: \"понедельник\",\r\n  Tue: \"вторник\",\r\n  Wed: \"среду\",\r\n  Thu: \"четверг\",\r\n  Fri: \"пятницу\",\r\n  Sat: \"субботу\",\r\n  Sun: \"воскресенье\",\r\n};\r\nexport const EN_SHORT_TO_RU_SHORT = {\r\n  Mon: \"Пн\",\r\n  Tue: \"Вт\",\r\n  Wed: \"Ср\",\r\n  Thu: \"Чт\",\r\n  Fri: \"Пт\",\r\n  Sat: \"Сб\",\r\n  Sun: \"Вс\",\r\n};\r\n\r\nexport const EN_SHORT_DAY_OF_WEEK = [\r\n  {\r\n    day: \"Mon\",\r\n  },\r\n  {\r\n    day: \"Tue\",\r\n  },\r\n  {\r\n    day: \"Wed\",\r\n  },\r\n  {\r\n    day: \"Thu\",\r\n  },\r\n  {\r\n    day: \"Fri\",\r\n  },\r\n  {\r\n    day: \"Sat\",\r\n  },\r\n  {\r\n    day: \"Sun\",\r\n  },\r\n];\r\n","export const getDistanceFromLatLonInKm = (lat1, lon1, lat2, lon2) => {\r\n  const R = 6371; // Radius of the earth in km\r\n  const dLat = deg2rad(lat2 - lat1); // deg2rad below\r\n  const dLon = deg2rad(lon2 - lon1);\r\n  const a =\r\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos(deg2rad(lat1)) *\r\n      Math.cos(deg2rad(lat2)) *\r\n      Math.sin(dLon / 2) *\r\n      Math.sin(dLon / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  const d = R * c; // Distance in km\r\n  return d;\r\n};\r\n\r\nfunction deg2rad(deg) {\r\n  return deg * (Math.PI / 180);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport CustomImg from \"../customImg/CustomImg\";\r\nimport { EN_SHORT_TO_RU_LONG_V_P } from \"../../constants\";\r\nimport { isShowStreamNow, isWorkTimeNow } from \"../../calculateTime\";\r\nimport { getDistanceFromLatLonInKm } from \"../../getDistance\";\r\n\r\nimport \"./smallCompanyBlock.css\";\r\n\r\nconst SmallCompanyBlock = ({ item }) => {\r\n  const [showStream, setShowStream] = useState(false);\r\n  const [workTime, setWorkTime] = useState(false);\r\n  const [isWork, setIsWork] = useState(false);\r\n  const [curDistance, setCurDistance] = useState(null);\r\n  const [nextStreamTime, setNextStreamTime] = useState(false);\r\n  const [previewError, setPreviewError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    isShowStreamNow(item, setShowStream, setNextStreamTime);\r\n    isWorkTimeNow(item, setWorkTime, setIsWork);\r\n  }, [item]);\r\n\r\n  useEffect(() => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (pos) => {\r\n          setCurDistance(\r\n            getDistanceFromLatLonInKm(\r\n              pos.coords.latitude,\r\n              pos.coords.longitude,\r\n              item.coordinates.split(\",\")[0],\r\n              item.coordinates.split(\",\")[1]\r\n            )\r\n          );\r\n        },\r\n        (err) => {\r\n          console.log(err, \" GEOLOCATION ERROR SMALLCOMPANYBLOCK\");\r\n        }\r\n      );\r\n    } else {\r\n      console.log(\"Геолокация недоступна \");\r\n    }\r\n  }, []);\r\n\r\n  const whenWillBeTranslation = () => {\r\n    if (\r\n      nextStreamTime.start_time &&\r\n      nextStreamTime.day.toLowerCase() !== \"сегодня\"\r\n    ) {\r\n      return (\r\n        \"Трансляция начнется в \" +\r\n        EN_SHORT_TO_RU_LONG_V_P[nextStreamTime.day] +\r\n        \" в \" +\r\n        nextStreamTime.start_time\r\n      );\r\n    } else if (\r\n      nextStreamTime.start_time &&\r\n      nextStreamTime.day.toLowerCase() === \"сегодня\"\r\n    ) {\r\n      return \"Трансляция начнется сегодня в \" + nextStreamTime.start_time;\r\n    } else if (!nextStreamTime.start_time) {\r\n      return \"Нет предстоящих трансляций\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Link\r\n      to={{ pathname: `/company/${item.id}` }}\r\n      className=\"SmallCompanyBlock\"\r\n    >\r\n      <div className=\"imgContainer\">\r\n        {!!showStream &&\r\n          item.streams[0] &&\r\n          (!previewError ? (\r\n            <video\r\n              className=\"companyImg\"\r\n              src={item.streams[0].preview}\r\n              autoPlay\r\n              onError={(err) => setPreviewError(err)}\r\n            />\r\n          ) : (\r\n            <div className=\"companyImg\">\r\n              <p className=\"noPreviewText\">ERR</p>\r\n            </div>\r\n          ))}\r\n        {!showStream && (\r\n          <div className=\"companyImg\">\r\n            <p className=\"noPreviewText\">{whenWillBeTranslation()}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"description\">\r\n        <div className=\"topBlockText\">\r\n          <div className=\"companyNameWrap\">\r\n            <p className=\"companyName\">{item.name}</p>\r\n            <p className=\"companyType\">\r\n              {item.categories && item.categories[0] && item.categories[0].name}{\" \"}\r\n            </p>\r\n          </div>\r\n          <p className=\"companyTitle\">\"Супер пати всех студентов\"</p>\r\n        </div>\r\n        <div className=\"bottomBlockText\">\r\n          <div className=\"rowCompanyBlock\">\r\n            <div className=\"smallRowCompanyBlock\">\r\n              <CustomImg alt=\"eye\" className=\"eyeCompanyBlock\" name={\"eye\"} />\r\n              <p className=\"leftTextCompanyBlock\">25 752</p>\r\n            </div>\r\n            <div className=\"smallRowCompanyBlock\">\r\n              <span className=\"circle\"></span>\r\n              <p className=\"leftTextCompanyBlock\">255</p>\r\n            </div>\r\n          </div>\r\n          <p className=\"workTimeText\">{workTime}</p>\r\n        </div>\r\n      </div>\r\n      {/* Mobile */}\r\n      <div className=\"descriptionMobile\">\r\n        <p className=\"nameOfCompany\">{item.name}</p>\r\n        <div className=\"distanceFirst1 distanceFirstLeft1\">\r\n          <div className=\"distanceAndType\">\r\n            {curDistance && <span>{Number(curDistance).toFixed(2)} km</span>}\r\n            {!curDistance && \" 0 km.\"}\r\n            <span>\r\n              {item.categories && item.categories[0] && item.categories[0].name}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        {isWork && (\r\n          <p className=\"endTimeMobile\">\r\n            Открыто: до\r\n            <span> {workTime.split(\"-\")[1]}</span>\r\n          </p>\r\n        )}\r\n        {!isWork && <p className=\"endTimeMobile\">Закрыто</p>}\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default SmallCompanyBlock;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useSpring, animated } from \"react-spring\";\r\n\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./slideSideMenu.css\";\r\n\r\nconst SlideSideMenu = ({ isShowMenu }) => {\r\n  const [shomMenu, setShowMenu] = useState(false);\r\n  const [cookies, removeCookie] = useCookies([]);\r\n\r\n  const pathname = window.location.pathname;\r\n\r\n  useEffect(() => {\r\n    if (!isShowMenu) {\r\n      setTimeout(() => {\r\n        setShowMenu(false);\r\n      }, 500);\r\n    } else {\r\n      setShowMenu(true);\r\n    }\r\n  }, [isShowMenu]);\r\n\r\n  const logout = () => {\r\n    QUERY(\r\n      {\r\n        query: `mutation {logout{status message}}`,\r\n      },\r\n      cookies.origin_data\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          console.log(data, \" LOGOUT\");\r\n          removeCookie(\"origin_data\");\r\n          removeCookie(\"origin_id\");\r\n        } else {\r\n          console.log(data.errors, \" ERRORS LOGOUT\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err, \"  *******ERR LOGOUT\"));\r\n\r\n    removeCookie(\"origin_data\");\r\n    removeCookie(\"origin_id\");\r\n  };\r\n\r\n  const animateProps = useSpring({\r\n    right: isShowMenu ? 0 : -200,\r\n    config: { duration: 100 },\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className=\"SlideSideMenuWrap\"\r\n      style={shomMenu ? { display: \"block\" } : { display: \"none\" }}\r\n    >\r\n      <animated.div className=\"SlideSideMenu\" style={animateProps}>\r\n        <ul className=\"sideMenuUl\">\r\n          <li className=\"sideMenuLi\">\r\n            <Link\r\n              to=\"/home\"\r\n              style={pathname === \"/home\" ? { color: \"#e32a6c\" } : {}}\r\n            >\r\n              Главная\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link\r\n              to=\"/map\"\r\n              style={pathname === \"/map\" ? { color: \"#e32a6c\" } : {}}\r\n            >\r\n              Карта\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            {Number(cookies.origin_id) === 1 && (\r\n              <Link\r\n                to=\"/editCompany\"\r\n                style={pathname === \"/editCompany\" ? { color: \"#e32a6c\" } : {}}\r\n              >\r\n                К списку\r\n              </Link>\r\n            )}\r\n          </li>\r\n          <li>\r\n            {!Number(cookies.origin_id) && (\r\n              <Link\r\n                to=\"/login\"\r\n                style={pathname === \"/login\" ? { color: \"#e32a6c\" } : {}}\r\n              >\r\n                Вход\r\n              </Link>\r\n            )}\r\n            {!!Number(cookies.origin_id) && (\r\n              <Link onClick={logout} to=\"/login\">\r\n                Выход\r\n              </Link>\r\n            )}\r\n          </li>\r\n          <li>\r\n            {!Number(cookies.origin_id) && (\r\n              <Link\r\n                to=\"/registration\"\r\n                style={pathname === \"/registration\" ? { color: \"#e32a6c\" } : {}}\r\n              >\r\n                Регистрация\r\n              </Link>\r\n            )}\r\n          </li>\r\n        </ul>\r\n      </animated.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SlideSideMenu;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSpring, animated } from \"react-spring\";\r\n\r\nimport \"./bottomMenu.css\";\r\n\r\nconst BottomMenu = ({ isShowMenu }) => {\r\n  const pathname = window.location.pathname;\r\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n\r\n  !windowWidth && setWindowWidth(window.innerWidth);\r\n\r\n  useEffect(() => {\r\n    window.onresize = function (e) {\r\n      setWindowWidth(e.target.innerWidth);\r\n    };\r\n  });\r\n\r\n  const animateProps = useSpring({\r\n    left: isShowMenu ? -200 : 0,\r\n    config: {\r\n      duration: 100,\r\n    },\r\n  });\r\n\r\n  const clickedBtnStyle = {\r\n    color: \"#fff\",\r\n    background: \"#e32a6c\",\r\n  };\r\n\r\n  return (\r\n    <animated.div style={animateProps} className=\"BottomMenu\">\r\n      <Link to=\"/home\" style={pathname === \"/home\" ? clickedBtnStyle : {}}>\r\n        СПИСОК\r\n      </Link>\r\n      <Link to=\"/map\" style={pathname === \"/map\" ? clickedBtnStyle : {}}>\r\n        КАРТА\r\n      </Link>\r\n    </animated.div>\r\n  );\r\n};\r\n\r\nexport default BottomMenu;\r\n","import React from \"react\";\r\n\r\nimport \"./burger.css\";\r\n\r\nconst Burger = ({ showSlideSideMenu, showSideMenu }) => {\r\n  return (\r\n    <span\r\n      className={showSlideSideMenu ? \"activeburger\" : \"burger\"}\r\n      onClick={() => {\r\n        if (!showSlideSideMenu) showSideMenu();\r\n      }}\r\n    >\r\n      <span></span>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default Burger;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useSpring, animated } from \"react-spring\";\r\n\r\nimport Burger from \"../burger/Burger\";\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./header.css\";\r\n\r\nconst Header = ({\r\n  showSlideSideMenu,\r\n  showSideMenu,\r\n  isShowMenu,\r\n  burger,\r\n  arrow,\r\n  logo,\r\n}) => {\r\n  let history = useHistory();\r\n\r\n  const [cookies, removeCookie] = useCookies([]);\r\n\r\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n\r\n  const logout = () => {\r\n    QUERY(\r\n      {\r\n        query: `mutation { logout{status message} }`,\r\n      },\r\n      cookies.origin_data\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          removeCookie(\"origin_data\");\r\n          removeCookie(\"origin_id\");\r\n        } else {\r\n          console.log(data.errors, \" ERRORS LOGOUT\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err, \" ERR LOGOUT\"));\r\n\r\n    removeCookie(\"origin_data\");\r\n    removeCookie(\"origin_id\");\r\n  };\r\n\r\n  !windowWidth && setWindowWidth(window.innerWidth);\r\n  useEffect(() => {\r\n    window.onresize = function (e) {\r\n      setWindowWidth(e.target.innerWidth);\r\n    };\r\n  });\r\n\r\n  const animateProps = useSpring({\r\n    left: isShowMenu ? -200 : 0,\r\n    config: {\r\n      duration: 100,\r\n    },\r\n  });\r\n\r\n  return (\r\n    <animated.div className=\"headerContainer\" style={animateProps}>\r\n      <div className=\"header\">\r\n        {logo && (\r\n          <Link to=\"/home\">\r\n            <p className=\"party_live\">\r\n              PARTY<span className=\"live\">.LIVE</span>\r\n            </p>\r\n          </Link>\r\n        )}\r\n        {arrow && (\r\n          <div\r\n            className=\"arrowGoBack\"\r\n            onClick={() => {\r\n              history.goBack();\r\n            }}\r\n          ></div>\r\n        )}\r\n\r\n        <div className=\"rightHeaderMenu\">\r\n          {!Number(cookies.origin_id) && (\r\n            <div>\r\n              <Link to=\"/registration\" className=\"registrBtn\">\r\n                Регистрация\r\n              </Link>\r\n              <Link to=\"/login\" className=\"loginBtn\">\r\n                Вход\r\n              </Link>\r\n            </div>\r\n          )}\r\n          {!!Number(cookies.origin_id) && (\r\n            <div>\r\n              {Number(cookies.origin_id) === 1 && (\r\n                <Link\r\n                  to=\"/editCompany\"\r\n                  className=\"registrBtn\"\r\n                  style={\r\n                    window.location.pathname === \"/editCompany\"\r\n                      ? { color: \"#e32a6c\" }\r\n                      : {}\r\n                  }\r\n                >\r\n                  К списку\r\n                </Link>\r\n              )}\r\n              <Link onClick={logout} to=\"/login\" className=\"loginBtn\">\r\n                Выход\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {burger && (\r\n          <Burger\r\n            showSlideSideMenu={showSlideSideMenu}\r\n            showSideMenu={showSideMenu}\r\n          />\r\n        )}\r\n      </div>\r\n    </animated.div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nimport \"./loader.css\";\r\n\r\nconst Loader = () => (\r\n  <div className=\"loaderWrap\">\r\n    <div className=\"lds-roller\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSpring, animated } from \"react-spring\";\r\n\r\nimport CompanyNav from \"../../components/companyNav/CompanyNav\";\r\nimport TypeNav from \"../../components/typeNav/TypeNav\";\r\nimport SmallCompanyBlock from \"../../components/smallCompanyBlock/SmallCompanyBlock\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./home.css\";\r\n\r\nconst Home = () => {\r\n  const [DATA, setDATA] = useState([]);\r\n  const [companyData, setCompanyData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [windowWidth, setWindowWidth] = useState();\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n        places {\r\n          id name address description logo menu actions coordinates\r\n          streams{url name id preview schedules{id day start_time end_time}}\r\n          schedules {id day start_time end_time}\r\n          categories {id name}\r\n        }\r\n      }`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setIsLoading(false);\r\n        setCompanyData(data.data.places);\r\n        setDATA(data.data.places);\r\n      })\r\n      .catch((err) => console.log(err, \"HOME DATA ERR\"));\r\n  }, []);\r\n\r\n  const clickedType = (type) => {\r\n    if (type) {\r\n      const filteredData = DATA.filter((el) => {\r\n        if (el.categories && el.categories[0]) {\r\n          return el.categories[0].name.toUpperCase() === type.toUpperCase();\r\n        }\r\n      });\r\n      setCompanyData(filteredData);\r\n    } else {\r\n      setCompanyData(DATA);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"filter_type\") && !isLoading && DATA.length) {\r\n      const filterName = localStorage.getItem(\"filter_type\");\r\n      clickedType(filterName);\r\n    }\r\n  }, [DATA]);\r\n\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  !windowWidth && setWindowWidth(window.innerWidth);\r\n\r\n  useEffect(() => {\r\n    window.onresize = function (e) {\r\n      setWindowWidth(e.target.innerWidth);\r\n      hideSideMenu();\r\n    };\r\n  });\r\n\r\n  const animateProps = useSpring({\r\n    right: isShowMenu ? 200 : 0,\r\n    config: { duration: 100 },\r\n  });\r\n\r\n  return (\r\n    <div\r\n      onClick={(e) => {\r\n        if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu)\r\n          hideSideMenu();\r\n      }}\r\n    >\r\n      <div>\r\n        <Header\r\n          isShowMenu={isShowMenu}\r\n          logo\r\n          burger\r\n          showSlideSideMenu={showSlideSideMenu}\r\n          showSideMenu={showSideMenu}\r\n        />\r\n        <animated.div className=\"homeContentWrap\" style={animateProps}>\r\n          <div className=\"navContainer\">\r\n            <CompanyNav\r\n              currentPage=\"/home\"\r\n              toSlideFixedNav={isShowMenu}\r\n              clickedType={(type) => clickedType(type)}\r\n            />\r\n            <TypeNav />\r\n          </div>\r\n          <div className=\"homeContent\">\r\n            {!!companyData.length &&\r\n              companyData.map((el, i) => (\r\n                <SmallCompanyBlock item={el} key={i} />\r\n              ))}\r\n            {!companyData.length && isLoading && <Loader />}\r\n            {!companyData.length && !isLoading && (\r\n              <div className=\"noOneCompany\">Нет заведений</div>\r\n            )}\r\n          </div>\r\n        </animated.div>\r\n\r\n        <BottomMenu isShowMenu={isShowMenu} />\r\n      </div>\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n\r\n// =================================================\r\n// const [isLogin, setIsLogin] = useState(false);\r\n\r\n// const requestBody = {\r\n//   query: `\r\n//     mutation {\r\n//       login (input: {\r\n//           username: \"admin@example.com\",\r\n//           password: \"password\"\r\n//       }) {\r\n//         access_token\r\n//         refresh_token\r\n//         expires_in\r\n//         token_type\r\n//         user {\r\n//           id\r\n//           name\r\n//           email\r\n//         }\r\n//       }\r\n//   }`\r\n// };\r\n// useEffect(() => {\r\n//   if (myContext.token) {\r\n//     fetch(\"http://194.87.95.37/graphql\", {\r\n//       method: \"POST\",\r\n//       body: JSON.stringify(requestBodyCreateNew),\r\n//       headers: {\r\n//         \"Content-Type\": \"application/json\",\r\n//         Authorization: \"Bearer \" + myContext.token\r\n//       }\r\n//     })\r\n//       .then(res => {\r\n//         if (res.status !== 200 && res.status !== 201) {\r\n//           throw new Error(\"Failed!!!\");\r\n//         }\r\n//         return res.json();\r\n//       })\r\n//       .then(data => {\r\n//         console.log(data, \" DATA ------2\");\r\n//       })\r\n//       .catch(err => {\r\n//         console.log(err, \"------------- ERRRRRRR\");\r\n//       });\r\n//   } else {\r\n//     console.log(\"ТОКЕНА НЕТ!!!!\");\r\n//   }\r\n// }, []);\r\n\r\n// ЭТО СОРТИРОВКА\r\n// const getSecondsTime = (year, month, day, hours, minutes) => {\r\n//   return Number(new Date(year, month, day, hours, minutes).getTime());\r\n// };\r\n\r\n// const current_time = new Date().getTime();\r\n// const year = new Date().getFullYear(),\r\n//   month = new Date().getMonth(),\r\n//   day = new Date().getDate();\r\n\r\n// const quickWorkTimeSort = object => {\r\n//   if (object.length <= 1) {\r\n//     return object;\r\n//   } else {\r\n//     const left = [],\r\n//       right = [];\r\n\r\n//     object.forEach((el, i) => {\r\n//       const startTime =\r\n//         +el.work_time[0].split(\":\")[0] * 3600 +\r\n//         +el.work_time[0].split(\":\")[1] * 60;\r\n//       let endTime =\r\n//         +el.work_time[1].split(\":\")[0] * 3600 +\r\n//         +el.work_time[1].split(\":\")[1] * 60;\r\n\r\n//       // ПОШЕЛ СЛЕДУЮЩИЙ ДЕНЬ (найти подругому)\r\n//       if (startTime > endTime) {\r\n//         //ПОЛУЧЕНИЕ СЛЕДУЮЩЕГО ДНЯ В СЕКУНДАХ\r\n//         const dayNow = new Date(year, month, day);\r\n//         const nextDay = new Date(dayNow);\r\n//         nextDay.setDate(dayNow.getDate() + 1);\r\n//         const fullEndTomorrowTime = nextDay.getTime() + endTime; // ВРЕМЯ КОНЦА РАБОТЫ ЗАВТРАШНИМ ДНЕМ\r\n\r\n//         if (\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.work_time[0].split(\":\")[0],\r\n//             +el.work_time[0].split(\":\")[1]\r\n//           ) <= Number(current_time) &&\r\n//           Number(fullEndTomorrowTime) > Number(current_time)\r\n//         ) {\r\n//           left.push(el);\r\n//         } else {\r\n//           right.push(el);\r\n//         }\r\n//       } else {\r\n//         // ВСЕ ПРОИСХОДИТ В ОДИН ДЕНЬ\r\n//         if (\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.work_time[0].split(\":\")[0],\r\n//             +el.work_time[0].split(\":\")[1]\r\n//           ) <= Number(current_time) &&\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.work_time[1].split(\":\")[0],\r\n//             +el.work_time[1].split(\":\")[1]\r\n//           ) > Number(current_time)\r\n//         ) {\r\n//           left.push(el);\r\n//         } else {\r\n//           right.push(el);\r\n//         }\r\n//       }\r\n//     });\r\n//     return [...left, ...right];\r\n//   }\r\n// };\r\n\r\n// const quickStreemTimeSort = object => {\r\n//   if (object.length <= 1) {\r\n//     return object;\r\n//   } else {\r\n//     const left = [],\r\n//       right = [];\r\n\r\n//     object.forEach((el, i) => {\r\n//       const startTime =\r\n//         +el.streem_time[0].split(\":\")[0] * 3600 +\r\n//         +el.streem_time[0].split(\":\")[1] * 60;\r\n//       let endTime =\r\n//         +el.streem_time[1].split(\":\")[0] * 3600 +\r\n//         +el.streem_time[1].split(\":\")[1] * 60;\r\n\r\n//       // ПОШЕЛ СЛЕДУЮЩИЙ ДЕНЬ (найти подругому)\r\n//       if (startTime > endTime) {\r\n//         //ПОЛУЧЕНИЕ СЛЕДУЮЩЕГО ДНЯ В СЕКУНДАХ\r\n//         const dayNow = new Date(year, month, day);\r\n//         const nextDay = new Date(dayNow);\r\n//         nextDay.setDate(dayNow.getDate() + 1);\r\n//         const fullEndTomorrowTime = nextDay.getTime() + endTime; // ВРЕМЯ КОНЦА РАБОТЫ ЗАВТРАШНИМ ДНЕМ\r\n\r\n//         if (\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.streem_time[0].split(\":\")[0],\r\n//             +el.streem_time[0].split(\":\")[1]\r\n//           ) <= Number(current_time) &&\r\n//           Number(fullEndTomorrowTime) > Number(current_time)\r\n//         ) {\r\n//           left.push(el);\r\n//         } else {\r\n//           right.push(el);\r\n//         }\r\n//       } else {\r\n//         // ВСЕ ПРОИСХОДИТ В ОДИН ДЕНЬ\r\n//         if (\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.streem_time[0].split(\":\")[0],\r\n//             +el.streem_time[0].split(\":\")[1]\r\n//           ) <= Number(current_time) &&\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.streem_time[1].split(\":\")[0],\r\n//             +el.streem_time[1].split(\":\")[1]\r\n//           ) > Number(current_time)\r\n//         ) {\r\n//           left.push(el);\r\n//         } else {\r\n//           right.push(el);\r\n//         }\r\n//       }\r\n//     });\r\n//     return [...left, ...right];\r\n//   }\r\n// };\r\n","export const styles = [\r\n  {\r\n    featureType: \"all\",\r\n    elementType: \"labels.text.fill\",\r\n    stylers: [\r\n      {\r\n        color: \"#7c93a3\"\r\n      },\r\n      {\r\n        lightness: \"-10\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"administrative.country\",\r\n    elementType: \"geometry\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"administrative.country\",\r\n    elementType: \"geometry.stroke\",\r\n    stylers: [\r\n      {\r\n        color: \"#a0a4a5\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"administrative.province\",\r\n    elementType: \"geometry.stroke\",\r\n    stylers: [\r\n      {\r\n        color: \"#62838e\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"landscape\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      },\r\n      {\r\n        lightness: \"-29\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"landscape\",\r\n    elementType: \"geometry.fill\",\r\n    stylers: [\r\n      {\r\n        color: \"#dde3e3\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"landscape.man_made\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"landscape.man_made\",\r\n    elementType: \"geometry\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"landscape.man_made\",\r\n    elementType: \"geometry.stroke\",\r\n    stylers: [\r\n      {\r\n        color: \"#3f4a51\"\r\n      },\r\n      {\r\n        weight: \"0.30\"\r\n      },\r\n      {\r\n        visibility: \"on\"\r\n      },\r\n      {\r\n        lightness: \"74\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.attraction\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.business\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.government\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.medical\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.park\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.place_of_worship\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.school\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.sports_complex\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        saturation: \"-100\"\r\n      },\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road\",\r\n    elementType: \"geometry.stroke\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.highway\",\r\n    elementType: \"geometry.fill\",\r\n    stylers: [\r\n      {\r\n        color: \"#bbcacf\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.highway\",\r\n    elementType: \"geometry.stroke\",\r\n    stylers: [\r\n      {\r\n        lightness: \"0\"\r\n      },\r\n      {\r\n        color: \"#bbcacf\"\r\n      },\r\n      {\r\n        weight: \"0.50\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.highway\",\r\n    elementType: \"labels\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.highway\",\r\n    elementType: \"labels.text\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.highway.controlled_access\",\r\n    elementType: \"geometry.fill\",\r\n    stylers: [\r\n      {\r\n        color: \"#ffffff\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.highway.controlled_access\",\r\n    elementType: \"geometry.stroke\",\r\n    stylers: [\r\n      {\r\n        color: \"#a9b4b8\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.arterial\",\r\n    elementType: \"labels.icon\",\r\n    stylers: [\r\n      {\r\n        invert_lightness: true\r\n      },\r\n      {\r\n        saturation: \"-7\"\r\n      },\r\n      {\r\n        lightness: \"3\"\r\n      },\r\n      {\r\n        gamma: \"1.80\"\r\n      },\r\n      {\r\n        weight: \"0.01\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.local\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"transit\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"transit.station.bus\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"water\",\r\n    elementType: \"geometry.fill\",\r\n    stylers: [\r\n      {\r\n        color: \"#a3c7df\"\r\n      }\r\n    ]\r\n  }\r\n];\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport GooggleMapReact from \"google-map-react\";\r\nimport useSupercluster from \"use-supercluster\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSpring, animated } from \"react-spring\";\r\n\r\nimport CustomImg from \"../../components/customImg/CustomImg\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Header from \"../../components/header/Header\";\r\nimport { EN_SHORT_TO_RU_LONG_V_P, API_KEY } from \"../../constants\";\r\nimport QUERY from \"../../query\";\r\nimport { isShowStreamNow, isWorkTimeNow } from \"../../calculateTime\";\r\nimport TypeNav from \"../../components/typeNav/TypeNav\";\r\nimport CompanyNav from \"../../components/companyNav/CompanyNav\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nimport { styles } from \"../../components/googleMap/GoogleMapStyles\";\r\nimport \"./map.css\";\r\n\r\nconst Marker = ({ children }) => children;\r\n\r\nconst createMapOptions = () => {\r\n  return { styles: styles };\r\n};\r\n\r\nconst MapComponent = (props) => {\r\n  const [DATA, setDATA] = useState([]);\r\n  const [markers, setMarkers] = useState([]);\r\n  const mapRef = useRef();\r\n  const [zoom, setZoom] = useState(12);\r\n  const [bounds, setBounds] = useState(null);\r\n  const [windowWidth, setWindowWidth] = useState();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [mouseMapCoordinates, setMouseMapCoordinates] = useState({});\r\n  const [previewError, setPreviewError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query{\r\n          places{id name coordinates\r\n          streams{url name id preview schedules{id day start_time end_time}}\r\n          schedules{id day start_time end_time}\r\n          categories{id name slug}}\r\n        }`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setIsLoading(false);\r\n        setMarkers(data.data.places);\r\n        setDATA(data.data.places);\r\n      })\r\n      .catch((err) => console.log(err, \"MAP  ERR\"));\r\n  }, []);\r\n\r\n  const points = markers.map((el, i) => {\r\n    return {\r\n      type: \"Feature\",\r\n      item: el,\r\n      properties: {\r\n        cluster: false,\r\n        crimeId: i,\r\n        category: el.categories[0] && el.categories[0].name,\r\n      },\r\n      geometry: {\r\n        type: \"Point\",\r\n        coordinates: [\r\n          +el.coordinates.split(\",\")[1],\r\n          +el.coordinates.split(\",\")[0],\r\n        ],\r\n      },\r\n    };\r\n  });\r\n\r\n  const { clusters } = useSupercluster({\r\n    points,\r\n    bounds,\r\n    zoom,\r\n    options: {\r\n      radius: 190,\r\n      maxZoom: 20,\r\n    },\r\n  });\r\n\r\n  const clickedType = (type) => {\r\n    if (type) {\r\n      const filteredData = DATA.filter((el) => {\r\n        if (el.categories && el.categories[0]) {\r\n          return el.categories[0].name.toUpperCase() === type.toUpperCase();\r\n        }\r\n      });\r\n      setMarkers(filteredData);\r\n    } else {\r\n      setMarkers(DATA);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"filter_type\") && !isLoading && DATA.length) {\r\n      const filterName = localStorage.getItem(\"filter_type\");\r\n      clickedType(filterName);\r\n    }\r\n  }, [DATA]);\r\n\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n  const [referrer, setReferrer] = useState(\"\");\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    setTimeout(() => {\r\n      document.body.style.overflow = \"visible\";\r\n    }, 400);\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  !windowWidth && setWindowWidth(window.innerWidth);\r\n\r\n  useEffect(() => {\r\n    window.onresize = function (e) {\r\n      setWindowWidth(e.target.innerWidth);\r\n      hideSideMenu();\r\n    };\r\n  });\r\n\r\n  const [defaultCenter, setDefaultCenter] = useState();\r\n\r\n  if (navigator.geolocation && !defaultCenter) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      (pos) => {\r\n        setDefaultCenter({\r\n          lat: pos.coords.latitude,\r\n          lng: pos.coords.longitude,\r\n        });\r\n      },\r\n      (err) => console.log(err, \" GEOLOCATION MAP ERROR\")\r\n    );\r\n  } else {\r\n    console.log(\"Геолокация недоступна\");\r\n  }\r\n\r\n  const mouseDownHandler = ({ clientX, clientY }) =>\r\n    setMouseMapCoordinates({\r\n      clientX,\r\n      clientY,\r\n    });\r\n  const mouseUpHandler = (e, data) => {\r\n    if (\r\n      +mouseMapCoordinates.clientX === +e.clientX &&\r\n      +mouseMapCoordinates.clientY === +e.clientY\r\n    ) {\r\n      setReferrer(`/company/${data}`);\r\n    }\r\n  };\r\n\r\n  const animateProps = useSpring({\r\n    left: isShowMenu ? -200 : 0,\r\n    config: { duration: 100 },\r\n  });\r\n\r\n  return (\r\n    <div\r\n      onClick={(e) => {\r\n        if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu)\r\n          hideSideMenu();\r\n      }}\r\n    >\r\n      <Header\r\n        isShowMenu={isShowMenu}\r\n        logo\r\n        arrow\r\n        burger\r\n        showSlideSideMenu={showSlideSideMenu}\r\n        showSideMenu={showSideMenu}\r\n      />\r\n      <div className=\"navContainerMap\">\r\n        <CompanyNav\r\n          style={{ zIndex: 1 }}\r\n          currentPage=\"/map\"\r\n          clickedType={clickedType}\r\n          toSlideFixedNav={isShowMenu}\r\n        />\r\n        <TypeNav style={{ zIndex: 1 }} />\r\n      </div>\r\n      {isLoading && <Loader />}\r\n      {!isLoading && (\r\n        <animated.div className=\"mapContainer\" style={animateProps}>\r\n          <GooggleMapReact\r\n            options={createMapOptions}\r\n            style={{\r\n              height: \"100%\",\r\n              width: \"100%\",\r\n            }}\r\n            bootstrapURLKeys={{\r\n              key: API_KEY,\r\n            }}\r\n            defaultCenter={\r\n              defaultCenter || {\r\n                lat: 53.904577,\r\n                lng: 27.557328,\r\n              }\r\n            }\r\n            defaultZoom={12}\r\n            yesIWantToUseGoogleMapApiInternals\r\n            onGoogleApiLoaded={({ map }) => {\r\n              mapRef.current = map;\r\n            }}\r\n            onChange={({ zoom, bounds }) => {\r\n              setZoom(zoom);\r\n              setBounds([\r\n                bounds.nw.lng,\r\n                bounds.se.lat,\r\n                bounds.se.lng,\r\n                bounds.nw.lat,\r\n              ]);\r\n            }}\r\n          >\r\n            {defaultCenter && (\r\n              <Marker lat={defaultCenter.lat} lng={defaultCenter.lng}>\r\n                <CustomImg\r\n                  alt=\"me\"\r\n                  className=\"eye\"\r\n                  name={\"dancer\"}\r\n                  width=\"32\"\r\n                  height=\"32\"\r\n                />\r\n              </Marker>\r\n            )}\r\n\r\n            {clusters.map((cluster) => {\r\n              const [longitude, latitude] = cluster.geometry.coordinates;\r\n              const {\r\n                cluster: isCluster,\r\n                point_count: pointCount,\r\n              } = cluster.properties;\r\n\r\n              //ЗАМЕНА НА ЦИФРЫ\r\n              if (isCluster) {\r\n                return (\r\n                  <Marker\r\n                    key={cluster.properties.cluster_id}\r\n                    lat={latitude}\r\n                    lng={longitude}\r\n                  >\r\n                    <div className=\"clusterMarker\">\r\n                      <p> {pointCount}</p>\r\n                    </div>\r\n                  </Marker>\r\n                );\r\n              }\r\n\r\n              //БЕЗ ЗАМЕНЫ НА ЦИФРЫ\r\n              let streamTime = \"\",\r\n                workTime = \"\",\r\n                isWork = false,\r\n                nextStreamTime = \"\";\r\n\r\n              const setShowStream = (time) => (streamTime = time);\r\n              const setWorkTime = (time) => (workTime = time);\r\n              const setIsWork = (bool) => (isWork = bool);\r\n              const setNextStreamTime = (time) => (nextStreamTime = time);\r\n\r\n              isShowStreamNow(cluster.item, setShowStream, setNextStreamTime);\r\n              isWorkTimeNow(cluster.item, setWorkTime, setIsWork);\r\n\r\n              return (\r\n                <Marker\r\n                  key={cluster.properties.crimeId}\r\n                  lat={latitude}\r\n                  lng={longitude}\r\n                >\r\n                  <Link\r\n                    onMouseDown={(e) => {\r\n                      !(\"ontouchstart\" in document.documentElement) &&\r\n                        mouseDownHandler(e);\r\n                    }}\r\n                    onMouseUp={(e) => {\r\n                      !(\"ontouchstart\" in document.documentElement) &&\r\n                        mouseUpHandler(e, cluster.item.id);\r\n                    }}\r\n                    onTouchStart={(e) => {\r\n                      mouseDownHandler(\r\n                        {\r\n                          clientX: e.nativeEvent.changedTouches[0].clientX,\r\n                          clientY: e.nativeEvent.changedTouches[0].clientY,\r\n                        },\r\n                        cluster.item.id\r\n                      );\r\n                    }}\r\n                    onTouchEnd={(e) => {\r\n                      mouseUpHandler(\r\n                        {\r\n                          clientX: e.nativeEvent.changedTouches[0].clientX,\r\n                          clientY: e.nativeEvent.changedTouches[0].clientY,\r\n                        },\r\n                        cluster.item.id\r\n                      );\r\n                    }}\r\n                    to={{\r\n                      pathname: referrer\r\n                        ? `/company/${cluster.item.id}`\r\n                        : `/map`,\r\n                    }}\r\n                  >\r\n                    <div className=\"mapMarkerWrap\">\r\n                      <div className=\"mapMarker\">\r\n                        {!!streamTime &&\r\n                          (!previewError ? (\r\n                            <video\r\n                              className=\"companyImg\"\r\n                              src={cluster.item.streams[0].preview}\r\n                              autoPlay\r\n                              onError={(err) => setPreviewError(err)}\r\n                            />\r\n                          ) : (\r\n                            <div className=\"companyImg mapNoTranslationWrap\">\r\n                              <p className=\"mapNoTranslationText\">ERR</p>\r\n                            </div>\r\n                          ))}\r\n                        {!streamTime && (\r\n                          <div className=\"companyImg mapNoTranslationWrap\">\r\n                            <p className=\"mapNoTranslationText\">\r\n                              {nextStreamTime.start_time &&\r\n                                nextStreamTime.day.toLowerCase() !==\r\n                                  \"сегодня\" &&\r\n                                \"Начало трансляции в \" +\r\n                                  EN_SHORT_TO_RU_LONG_V_P[nextStreamTime.day] +\r\n                                  \" в \" +\r\n                                  nextStreamTime.start_time}\r\n                              {nextStreamTime.start_time &&\r\n                                nextStreamTime.day.toLowerCase() ===\r\n                                  \"сегодня\" &&\r\n                                \"Трансляция начнется сегодня в \" +\r\n                                  nextStreamTime.start_time}\r\n                              {!nextStreamTime.start_time &&\r\n                                \"Нет предстоящих трансляций\"}\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <p className=\"mapMarkerName\">\r\n                        {cluster.item.name}\r\n                        <span className=\"openedTo\">\r\n                          {isWork && <span> Открыто:{workTime} </span>}\r\n                          {!isWork && <span> Закрыто </span>}\r\n                        </span>\r\n                      </p>\r\n                      <div className=\"arrow\"></div>\r\n                    </div>\r\n                  </Link>\r\n                </Marker>\r\n              );\r\n            })}\r\n          </GooggleMapReact>\r\n        </animated.div>\r\n      )}\r\n\r\n      <BottomMenu isShowMenu={isShowMenu} />\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapComponent;\r\n","import React, { useState } from \"react\";\r\nimport { Map, Marker, GoogleApiWrapper } from \"google-maps-react\";\r\nimport GooglePlacesAutocomplete from \"react-google-places-autocomplete\";\r\nimport \"react-google-places-autocomplete/dist/assets/index.css\";\r\n\r\nimport { API_KEY } from \"../../constants\";\r\nimport CustomImg from \"../customImg/CustomImg\";\r\n\r\nimport { styles } from \"./GoogleMapStyles.js\";\r\nimport \"./googleMap.css\";\r\n\r\nconst LoadingContainer = (props) => <div></div>;\r\n\r\nconst MapContainer = ({\r\n  google,\r\n  togglePopupGoogleMap,\r\n  initialCenterMap, //изначальный центр карты или центр минска\r\n  chooseNewAddress, //выбор адреса (street latLng)\r\n  isNewAddress, //функционал для выбора адреса\r\n  styleContainerMap,\r\n  closeBtn, //крестик\r\n}) => {\r\n  const initialCenter = initialCenterMap || {\r\n    lat: 53.904241,\r\n    lng: 27.556932,\r\n  }; // Минск\r\n\r\n  const initialZoom = 12;\r\n\r\n  const [streetName, setStreetName] = useState(\"\");\r\n  const [latLng, setLatLng] = useState(\"\");\r\n  const [toCenter, setToCenter] = useState(null);\r\n\r\n  const geocoder = new google.maps.Geocoder();\r\n\r\n  const getStreetFromLatLng = (location) => {\r\n    setTimeout(() => {\r\n      geocoder.geocode(\r\n        {\r\n          location: location,\r\n        },\r\n        (results, status) => {\r\n          if (status === \"OK\") {\r\n            if (results[0]) {\r\n              setStreetName(results[0].formatted_address);\r\n              getLatLngFromStreet(results[0].formatted_address);\r\n            } else {\r\n            }\r\n          } else {\r\n            getStreetFromLatLng(location);\r\n          }\r\n        }\r\n      );\r\n    }, 300);\r\n  };\r\n\r\n  const getLatLngFromStreet = (street, fromInput) => {\r\n    geocoder.geocode({ address: street }, function (results, status) {\r\n      if (status === google.maps.GeocoderStatus.OK) {\r\n        const latLng = {\r\n          lat: results[0].geometry.location.lat(),\r\n          lng: results[0].geometry.location.lng(),\r\n        };\r\n        setLatLng(latLng);\r\n        fromInput && setToCenter(latLng);\r\n      } else {\r\n      }\r\n    });\r\n  };\r\n\r\n  const onReady = (mapProps, map) => {};\r\n  const mapClicked = (mapProps, map, e) => {};\r\n  const onDragend = (mapProps, map, e) => {\r\n    getStreetFromLatLng({\r\n      lat: map.center.lat(),\r\n      lng: map.center.lng(),\r\n    });\r\n  };\r\n  const onMarkerClick = (props, marker, e) => {};\r\n\r\n  const onPlaceSelected = (place) => {\r\n    setStreetName(place.description);\r\n    getLatLngFromStreet(place.description, true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"MapContainerStyle\" style={styleContainerMap}>\r\n      <Map\r\n        scrollwheel={true}\r\n        className=\"myMap\"\r\n        google={google}\r\n        onReady={onReady}\r\n        onClick={mapClicked}\r\n        onDragend={isNewAddress && onDragend}\r\n        zoom={initialZoom}\r\n        initialCenter={initialCenter}\r\n        center={toCenter}\r\n        styles={styles}\r\n      >\r\n        <Marker\r\n          onClick={onMarkerClick}\r\n          name={\"Place\"}\r\n          title={\"Current location\"}\r\n          position={initialCenter}\r\n          // icon={{\r\n          //   url: \"/path/to/custom_icon.png\",\r\n          //   anchor: new google.maps.Point(32, 32),\r\n          //   scaledSize: new google.maps.Size(64, 64)\r\n          // }}\r\n        />\r\n      </Map>\r\n\r\n      {isNewAddress && (\r\n        <CustomImg alt=\"!\" className=\"pointPosition\" name={\"location\"} />\r\n      )}\r\n      {isNewAddress && (\r\n        <div className=\"inputBtnsWrap\">\r\n          <GooglePlacesAutocomplete\r\n            onSelect={onPlaceSelected}\r\n            placeholder=\"Введите адрес\"\r\n            initialValue={streetName}\r\n          />\r\n          <div className=\"newAddressBtnWrap\">\r\n            <div\r\n              className=\"chooseNewAddressBtn\"\r\n              onClick={() => {\r\n                if (streetName && latLng) {\r\n                  chooseNewAddress(streetName, latLng);\r\n                }\r\n              }}\r\n            >\r\n              СОХРАНИТЬ\r\n            </div>\r\n            <div className=\"cancelNewAddressBtn\" onClick={togglePopupGoogleMap}>\r\n              ОТМЕНА\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {closeBtn && (\r\n        <div className=\"closeBtn\" onClick={togglePopupGoogleMap}>\r\n          &#215;\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: API_KEY,\r\n  language: \"ru\",\r\n  LoadingContainer: LoadingContainer,\r\n})(MapContainer);\r\n","import React from \"react\";\r\n\r\nimport \"./popup.css\";\r\n\r\nconst Popup = ({ children, togglePopup, style, wrpaStyle }) => {\r\n  return (\r\n    <div\r\n      className=\"popup\"\r\n      onClick={e => {\r\n        if (e.target.className === \"popup\") {\r\n          togglePopup();\r\n        }\r\n      }}\r\n      style={wrpaStyle}\r\n    >\r\n      <div className=\"popup_inner\" style={style}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Popup;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport ReactAwesomePlayer from \"react-awesome-player\";\r\n\r\nconst VideoPlayer = ({ src }) => {\r\n  const options = {\r\n    poster: \"\",\r\n    fluid: true,\r\n    sources: [\r\n      {\r\n        type: \"application/x-mpegURL\",\r\n        src: src,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const videoRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    videoRef.current.video.style.height = \"100%\";\r\n  }, []);\r\n\r\n  const loadeddata = () => {};\r\n  const canplay = () => {};\r\n  const canplaythrough = () => {};\r\n  const play = () => {};\r\n  const pause = () => {};\r\n  const waiting = () => {};\r\n  const playing = () => {};\r\n  const ended = () => {};\r\n  const error = (err) => console.log(err, \"stream error\");\r\n\r\n  return (\r\n    <div>\r\n      <ReactAwesomePlayer\r\n        ref={videoRef}\r\n        options={options}\r\n        loadeddata={loadeddata}\r\n        canplay={canplay}\r\n        canplaythrough={canplaythrough}\r\n        play={play}\r\n        pause={pause}\r\n        waiting={waiting}\r\n        playing={playing}\r\n        ended={ended}\r\n        error={error}\r\n        onError={(err) => console.log(err, \"ERRRRRR video\")}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoPlayer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSpring, animated } from \"react-spring\";\r\n\r\nimport CustomImg from \"../../components/customImg/CustomImg\";\r\nimport GoogleMap from \"../../components/googleMap/GoogleMap\";\r\nimport Popup from \"../../components/popup/Popup\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport VideoPlayer from \"../../components/videoPlayer/VideoPlayer\";\r\nimport {\r\n  isShowStreamNow,\r\n  isWorkTimeNow,\r\n  numberDayNow,\r\n} from \"../../calculateTime\";\r\nimport { getDistanceFromLatLonInKm } from \"../../getDistance\";\r\nimport QUERY from \"../../query\";\r\nimport { DAY_OF_WEEK, EN_SHORT_TO_RU_LONG_V_P } from \"../../constants\";\r\n\r\nimport \"./company.css\";\r\n\r\nconst Company = (props) => {\r\n  const [showPopup, setShowPopap] = useState(false);\r\n  const [DATA, setDATA] = useState(null);\r\n\r\n  const [showStream, setShowStream] = useState(false);\r\n  const [nextStreamTime, setNextStreamTime] = useState(false);\r\n  const [workTime, setWorkTime] = useState(false);\r\n  const [isWork, setIsWork] = useState(false);\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [curDistance, setCurDistance] = useState(null);\r\n  const [mouseMapCoordinates, setMouseMapCoordinates] = useState({});\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"uniqueCompanyType\")) {\r\n      localStorage.setItem(\"uniqueCompanyType\", \"\");\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (DATA) {\r\n      isShowStreamNow(DATA.place, setShowStream, setNextStreamTime);\r\n      isWorkTimeNow(DATA.place, setWorkTime, setIsWork);\r\n    }\r\n  }, [DATA]);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n        place (id: ${props.match.params.id}) {\r\n          id name address description\r\n          streams{url name id preview schedules{id day start_time end_time}}\r\n          categories{name slug} coordinates\r\n          schedules {day start_time end_time} user {id name email}\r\n        }\r\n      }`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setIsLoading(false);\r\n        setDATA(data.data);\r\n      })\r\n      .catch((err) => console.log(err, \"  ONE PLACE\"));\r\n  }, []);\r\n\r\n  const togglePopup = () => {\r\n    showPopup ? setShowPopap(false) : setShowPopap(true);\r\n  };\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  !windowWidth && setWindowWidth(window.innerWidth);\r\n\r\n  useEffect(() => {\r\n    window.onresize = function (e) {\r\n      setWindowWidth(e.target.innerWidth);\r\n      hideSideMenu();\r\n    };\r\n  });\r\n\r\n  if (navigator.geolocation && DATA) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      (pos) => {\r\n        setCurDistance(\r\n          getDistanceFromLatLonInKm(\r\n            pos.coords.latitude,\r\n            pos.coords.longitude,\r\n            DATA.place.coordinates.split(\",\")[0],\r\n            DATA.place.coordinates.split(\",\")[1]\r\n          )\r\n        );\r\n      },\r\n      (err) => console.log(err, \" GEOLOCATION COMPANY ERROR \")\r\n    );\r\n  } else {\r\n    console.log(\"Геолокация недоступна \");\r\n  }\r\n\r\n  const mouseDownMapHandler = (e) => {\r\n    setMouseMapCoordinates({\r\n      clientX: e.clientX,\r\n      clientY: e.clientY,\r\n    });\r\n  };\r\n\r\n  const mouseUpMapHandler = (e) => {\r\n    if (\r\n      +mouseMapCoordinates.clientX === +e.clientX &&\r\n      +mouseMapCoordinates.clientY === +e.clientY\r\n    ) {\r\n      togglePopup();\r\n    }\r\n  };\r\n\r\n  const whenIsTranslation = () => {\r\n    if (nextStreamTime.start_time) {\r\n      return (\r\n        \"Трансляция начнется в \" +\r\n        EN_SHORT_TO_RU_LONG_V_P[nextStreamTime.day] +\r\n        \" в \" +\r\n        nextStreamTime.start_time\r\n      );\r\n    } else if (!nextStreamTime.start_time) {\r\n      return \"Нет предстоящих трансляций\";\r\n    }\r\n  };\r\n\r\n  const animateProps = useSpring({\r\n    right: isShowMenu ? 200 : 0,\r\n    config: { duration: 100 },\r\n  });\r\n\r\n  return (\r\n    <div\r\n      onClick={(e) => {\r\n        if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n          hideSideMenu();\r\n        }\r\n      }}\r\n    >\r\n      <Header\r\n        logo\r\n        burger\r\n        arrow\r\n        isShowMenu={isShowMenu}\r\n        showSlideSideMenu={showSlideSideMenu}\r\n        showSideMenu={showSideMenu}\r\n      />\r\n      <animated.div\r\n        className=\"Company\"\r\n        style={animateProps}\r\n        onClick={(e) => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu)\r\n            hideSideMenu();\r\n        }}\r\n      >\r\n        <div className=\"bigCompanyHeaderDesc\">\r\n          <Link to=\"/home\"> &#60; На главную</Link>\r\n        </div>\r\n        {DATA && (\r\n          <div className=\"flex\">\r\n            <div className=\"shadowBlock\">\r\n              <div className=\"videoBlock\">\r\n                {showStream && (\r\n                  <div>\r\n                    <div className=\"yesVideo\">\r\n                      <VideoPlayer src={DATA.place.streams[0].url} />\r\n                    </div>\r\n                    <div className=\"rowCompanyBlockStreamDesc\">\r\n                      <div className=\"rowCompanyBlockStreamInner\">\r\n                        <CustomImg\r\n                          alt=\"eye\"\r\n                          className=\"eyeCompanyBlock\"\r\n                          name={\"eye\"}\r\n                        />\r\n                        <p className=\"leftTextCompanyBlock\">25 752</p>\r\n                      </div>\r\n                      <div className=\"rowCompanyBlockStreamInner\">\r\n                        <span className=\"circle\"></span>\r\n                        <p className=\"leftTextCompanyBlock\">255</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {!showStream && (\r\n                  <div className=\"noVideo\">{whenIsTranslation()}</div>\r\n                )}\r\n                <p className=\"videoDescription\">\r\n                  <span>{DATA.place.name}</span> - {DATA.place.description}\r\n                </p>\r\n              </div>\r\n              <div className=\"desc\">\r\n                <div className=\"mobileDescription\">\r\n                  <h3>\r\n                    <span className=\"mobileCompanyType\">\r\n                      {DATA.place.categories[0] &&\r\n                        DATA.place.categories[0].name}{\" \"}\r\n                      \"\r\n                    </span>\r\n                    {DATA.place.name}\r\n                    <span className=\"mobileCompanyType\">\"</span>\r\n                  </h3>\r\n                  <p className=\"typeOfPati\">\"Супер пати всех студентов\"</p>\r\n                  <p className=\"dayOfWeek\">{DAY_OF_WEEK[numberDayNow]}</p>\r\n                  <p className=\"distance\">\r\n                    {curDistance && (\r\n                      <span>{Number(curDistance).toFixed(2)} km</span>\r\n                    )}\r\n                    {!curDistance && \" 0 km\"}\r\n                  </p>\r\n                </div>\r\n                <p className=\"mobileOpenedTo\">\r\n                  {isWork && <span>Открыто: до {workTime.split(\"-\")[1]}</span>}\r\n                  {!isWork && \"Закрыто\"}\r\n                </p>\r\n                <div className=\"timeBlocksDesc\">\r\n                  <div className=\"timeBlock\">\r\n                    <CustomImg\r\n                      alt=\"clock\"\r\n                      name={\"clock\"}\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                    />\r\n                    <p className=\"rightTimeBlock\">\r\n                      <span>Время работы:</span>\r\n                      <span>{workTime || \"Выходной\"}</span>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"timeBlock streamTime\">\r\n                    <CustomImg\r\n                      alt=\"camera\"\r\n                      name={\"camera\"}\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                    />\r\n                    <p className=\"rightTimeBlock\">\r\n                      <span> Стрим:</span>\r\n                      <span>\r\n                        {showStream ? \" Стрим идет\" : \" Стрим не идет\"}\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"timeBlock\">\r\n                    <CustomImg\r\n                      alt=\"location\"\r\n                      name={\"location1\"}\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                    />\r\n                    <p className=\"rightTimeBlock\">\r\n                      <span>Адрес: </span>\r\n                      <span>{DATA.place.address}</span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"smallMapWrapDesc\">\r\n                  <div\r\n                    className=\"smallMap\"\r\n                    onMouseDown={mouseDownMapHandler}\r\n                    onMouseUp={mouseUpMapHandler}\r\n                  >\r\n                    <GoogleMap\r\n                      togglePopupGoogleMap={togglePopup}\r\n                      styleContainerMap={{ height: \"85px\" }}\r\n                      initialCenterMap={\r\n                        DATA.place.coordinates\r\n                          ? {\r\n                              lat: Number(DATA.place.coordinates.split(\",\")[0]),\r\n                              lng: Number(DATA.place.coordinates.split(\",\")[1]),\r\n                            }\r\n                          : null\r\n                      }\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"type\">\r\n                {DATA.place.categories[0] && DATA.place.categories[0].name}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"smallMapWrapMobile\">\r\n              <div\r\n                className=\"smallMap\"\r\n                onMouseDown={mouseDownMapHandler}\r\n                onMouseUp={mouseUpMapHandler}\r\n              >\r\n                <GoogleMap\r\n                  togglePopupGoogleMap={togglePopup}\r\n                  styleContainerMap={{ height: \"200px\" }}\r\n                  initialCenterMap={\r\n                    DATA.place.coordinates\r\n                      ? {\r\n                          lat: Number(DATA.place.coordinates.split(\",\")[0]),\r\n                          lng: Number(DATA.place.coordinates.split(\",\")[1]),\r\n                        }\r\n                      : null\r\n                  }\r\n                />\r\n              </div>\r\n              <p className=\"smallMapLocation\">\r\n                {DATA ? DATA.place.address : \"\"}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {!DATA && isLoading && <Loader />}\r\n        {showPopup && (\r\n          <Popup togglePopup={togglePopup}>\r\n            <GoogleMap\r\n              togglePopupGoogleMap={togglePopup}\r\n              styleContainerMap={{ width: \"100vw\" }}\r\n              closeBtn\r\n              initialCenterMap={\r\n                DATA.place.coordinates\r\n                  ? {\r\n                      lat: Number(DATA.place.coordinates.split(\",\")[0]),\r\n                      lng: Number(DATA.place.coordinates.split(\",\")[1]),\r\n                    }\r\n                  : null\r\n              }\r\n            />\r\n          </Popup>\r\n        )}\r\n      </animated.div>\r\n      <BottomMenu isShowMenu={isShowMenu} />\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Company;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useSpring, animated } from \"react-spring\";\r\n\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./auth.css\";\r\n\r\nconst Login = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n  const [isLogin, setIsLogin] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isForgetPass, setIsForgetPass] = useState(false);\r\n  const [allValidationError, setAllValidationError] = useState(\"\");\r\n\r\n  const loginRef = useRef(null);\r\n  const [cookies, setCookie, removeCookie] = useCookies([]);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"uniqueCompanyType\")) {\r\n      localStorage.setItem(\"uniqueCompanyType\", \"\");\r\n    }\r\n  }, []);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function (e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const userLogin = (email, password) => {\r\n    QUERY({\r\n      query: `mutation {\r\n        login (input: {username: \"${email}\", password: \"${password}\"}) \r\n        {access_token refresh_token expires_in token_type user {id name email}}\r\n      }`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          setCookie(\"origin_data\", data.data.login.access_token);\r\n          setCookie(\"origin_id\", data.data.login.user.id);\r\n\r\n          for (let i = 0; i < loginRef.current.children.length - 1; i++) {\r\n            loginRef.current.children[i].style.boxShadow = \"none\";\r\n          }\r\n\r\n          setAllValidationError(\"\");\r\n          setIsLogin(data.data.login.user.id);\r\n        } else {\r\n          removeCookie(\"origin_data\");\r\n          removeCookie(\"origin_id\");\r\n\r\n          setAllValidationError(\"Неверный логин либо пароль\");\r\n\r\n          for (let i = 0; i < loginRef.current.children.length - 1; i++) {\r\n            loginRef.current.children[i].style.boxShadow =\r\n              \"0 0 1px 1px rgb(255, 54, 54)\";\r\n          }\r\n          setIsLogin(false);\r\n          console.log(data.errors[0], \"LOGIN ERR\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        removeCookie(\"origin_data\");\r\n        removeCookie(\"origin_id\");\r\n\r\n        setIsLogin(false);\r\n        console.log(err, \"LOGIN ERR\");\r\n      });\r\n  };\r\n\r\n  const animateProps = useSpring({\r\n    right: isShowMenu ? 200 : 0,\r\n    config: { duration: 100 },\r\n  });\r\n\r\n  if (Number(isLogin) === 1 || Number(cookies.origin_id) === 1) {\r\n    return <Redirect to=\"/editCompany\" />;\r\n  } else if (\r\n    Number(isLogin) ||\r\n    (Number(cookies.origin_id) && Number(cookies.origin_id) !== 1)\r\n  ) {\r\n    return \"Обычный юзер\";\r\n  } else {\r\n    return (\r\n      <div className=\"loginWrapper\">\r\n        <Header\r\n          isShowMenu={isShowMenu}\r\n          logo\r\n          burger\r\n          showSlideSideMenu={showSlideSideMenu}\r\n          showSideMenu={showSideMenu}\r\n        />\r\n        <animated.div\r\n          className=\"Login\"\r\n          onClick={(e) => {\r\n            if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n              hideSideMenu();\r\n            }\r\n          }}\r\n          style={animateProps}\r\n        >\r\n          <div className=\"authBlock\">\r\n            <h4>{!isForgetPass ? \"АВТОРИЗАЦИЯ\" : \"ВОССТАНОВЛЕНИЕ ПАРОЛЯ\"}</h4>\r\n            <form\r\n              ref={loginRef}\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n                !isForgetPass && userLogin(email, password);\r\n              }}\r\n            >\r\n              <input\r\n                type=\"text\"\r\n                name=\"email\"\r\n                placeholder=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n              {!isForgetPass && (\r\n                <>\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                  />\r\n                  <input type=\"submit\" value=\"ВОЙТИ\" />\r\n                </>\r\n              )}\r\n              {isForgetPass && <p className=\"btnSubmit\">ОТПРАВИТЬ</p>}\r\n            </form>\r\n            <p\r\n              className=\"forgetPass\"\r\n              onClick={() => setIsForgetPass((prev) => !prev)}\r\n            >\r\n              {!isForgetPass ? \"  Забыли пароль?\" : \" Уже есть аккаунт?\"}\r\n              <span className=\"errorField\">\r\n                {!isForgetPass && allValidationError}\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <SlideSideMenu isShowMenu={isShowMenu} />\r\n        </animated.div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { useSpring, animated } from \"react-spring\";\r\n\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./editCompany.css\";\r\n\r\nconst EditCompany = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n  const [scriptErr, setScriptErr] = useState({});\r\n  const [cookies] = useCookies([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [places, setPlaces] = useState([]);\r\n\r\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n  !windowWidth && setWindowWidth(window.innerWidth);\r\n  useEffect(() => {\r\n    window.onresize = function (e) {\r\n      setWindowWidth(e.target.innerWidth);\r\n    };\r\n  });\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function (e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n            places {id name  categories{name slug} streams{url preview}}\r\n          }`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          setIsLoading(false);\r\n          setPlaces(data.data.places);\r\n        } else {\r\n          console.log(data.errors, \"EDIT ERROR\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err, \"EDIT ERROR\"));\r\n  }, []);\r\n\r\n  const animateProps = useSpring({\r\n    right: isShowMenu ? 200 : 0,\r\n    config: { duration: 100 },\r\n  });\r\n\r\n  if (!Number(cookies.origin_id)) {\r\n    return <Redirect to=\"/login\" />;\r\n  } else if (Number(cookies.origin_id) !== 1) {\r\n    return <Redirect to=\"/home\" />;\r\n  } else {\r\n    return (\r\n      <div\r\n        onClick={(e) => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu)\r\n            hideSideMenu();\r\n        }}\r\n      >\r\n        <Header\r\n          isShowMenu={isShowMenu}\r\n          logo\r\n          burger\r\n          arrow\r\n          showSlideSideMenu={showSlideSideMenu}\r\n          showSideMenu={showSideMenu}\r\n        />\r\n        {!isLoading && (\r\n          <animated.div className=\"editCompanyContent\" style={animateProps}>\r\n            <h3>СПИСОК ЗАВЕДЕНИЙ</h3>\r\n            <table>\r\n              <tbody>\r\n                {places &&\r\n                  places.length &&\r\n                  places.map(({ id, name, categories, streams }, i) => {\r\n                    return (\r\n                      <tr key={id}>\r\n                        <td className=\"name\">\r\n                          <Link to={`/admin/${id}`}>{name}</Link>\r\n                        </td>\r\n                        <td className=\"enName\">{id}</td>\r\n                        <td className=\"typeCompany\">\r\n                          {categories[0] &&\r\n                            categories[0].name &&\r\n                            categories[0].name.toLowerCase()}\r\n                        </td>\r\n                        <td className=\"enName\">\r\n                          {streams[0] && streams[0].preview ? (\r\n                            <div>\r\n                              {(scriptErr[i] && scriptErr[i]) || \"Ok\"}\r\n                              <video\r\n                                type=\"application/x-mpegURL\"\r\n                                onError={() => {\r\n                                  setScriptErr((prev) => ({\r\n                                    ...prev,\r\n                                    [i]: \"Err\",\r\n                                  }));\r\n                                }}\r\n                                style={{ display: \"none\" }}\r\n                                className=\"companyImg\"\r\n                                src={streams[0] && streams[0].preview}\r\n                                autoPlay\r\n                              />\r\n                            </div>\r\n                          ) : (\r\n                            \"-\"\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n              </tbody>\r\n            </table>\r\n          </animated.div>\r\n        )}\r\n        {isLoading && <Loader />}\r\n        <SlideSideMenu isShowMenu={isShowMenu} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default EditCompany;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useSpring, animated } from \"react-spring\";\r\n\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./auth.css\";\r\n\r\nconst Registration = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [rePassword, setRePassword] = useState(\"\");\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n  const [cookies, setCookie, removeCookie] = useCookies([]);\r\n  const [allValidationError, setAllValidationError] = useState(null);\r\n  const [oneValidationError, setOneValidationError] = useState(null);\r\n\r\n  const register = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"uniqueCompanyType\")) {\r\n      localStorage.setItem(\"uniqueCompanyType\", \"\");\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (allValidationError) {\r\n      const nameFirstErrInput = Object.keys(allValidationError)[0].split(\r\n        \".\"\r\n      )[1];\r\n\r\n      for (let i = 0; i < register.current.children.length; i++) {\r\n        register.current.children[i].style.boxShadow = \"none\";\r\n      }\r\n\r\n      register.current.children[nameFirstErrInput].style.boxShadow =\r\n        \"0 0 1px 1px rgb(255, 54, 54)\";\r\n\r\n      setOneValidationError(\r\n        allValidationError[`input.${nameFirstErrInput}`][0]\r\n      );\r\n    }\r\n  }, [allValidationError]);\r\n\r\n  window.onresize = function (e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const registration = () => {\r\n    QUERY({\r\n      query: `mutation {\r\n        register (input: {\r\n          name: \"${name}\", email: \"${email}\",\r\n          password: \"${password}\" password_confirmation: \"${rePassword}\"\r\n        }) {\r\n          status\r\n          tokens{access_token refresh_token expires_in token_type\r\n          user{id name email }\r\n         }}\r\n      }`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          setCookie(\"origin_data\", data.data.register.tokens.access_token);\r\n          setCookie(\"origin_id\", data.data.register.tokens.user.id);\r\n\r\n          setName(\"\");\r\n          setEmail(\"\");\r\n          setPassword(\"\");\r\n          setRePassword(\"\");\r\n          setIsSuccess(true);\r\n        } else {\r\n          removeCookie(\"origin_data\");\r\n          removeCookie(\"origin_id\");\r\n          setAllValidationError(data.errors[0].extensions.validation);\r\n          console.log(data.errors, \"REGISER ERR\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        removeCookie(\"origin_data\");\r\n        removeCookie(\"origin_id\");\r\n        console.log(err, \"  *****************ERR\");\r\n      });\r\n  };\r\n\r\n  const animateProps = useSpring({\r\n    right: isShowMenu ? 200 : 0,\r\n    config: { duration: 100 },\r\n  });\r\n\r\n  if (!!Number(cookies.origin_id)) {\r\n    return <Redirect to=\"/home\" />;\r\n  } else {\r\n    return (\r\n      <div>\r\n        <Header\r\n          isShowMenu={isShowMenu}\r\n          logo\r\n          burger\r\n          showSlideSideMenu={showSlideSideMenu}\r\n          showSideMenu={showSideMenu}\r\n        />\r\n        <animated.div\r\n          className=\"Login\"\r\n          onClick={(e) => {\r\n            if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n              hideSideMenu();\r\n            }\r\n          }}\r\n          style={animateProps}\r\n        >\r\n          <div className=\"authBlock\">\r\n            {!isSuccess && (\r\n              <>\r\n                <h4>РЕГИСТРАЦИЯ</h4>\r\n                <form\r\n                  ref={register}\r\n                  onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    registration();\r\n                  }}\r\n                >\r\n                  <input\r\n                    type=\"name\"\r\n                    name=\"name\"\r\n                    placeholder=\"Имя\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                  />\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"email\"\r\n                    placeholder=\"E-mail\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                  />\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"Пароль\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                  />\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"re_password\"\r\n                    placeholder=\"Повтор пароля\"\r\n                    value={rePassword}\r\n                    onChange={(e) => setRePassword(e.target.value)}\r\n                  />\r\n                  <input type=\"submit\" value=\"Зарегистрироваться\" />\r\n                </form>\r\n                <Link className=\"forgetPass\" to=\"/login\">\r\n                  Уже есть аккаунт?\r\n                  <p className=\"errorField\"> {oneValidationError}</p>\r\n                </Link>\r\n              </>\r\n            )}\r\n            {isSuccess && (\r\n              <>\r\n                <h4>ПОЗДРАВЛЯЕМ!</h4>\r\n                <p className=\"successText\">Вы успешно прошли регистрацию!</p>\r\n                <Link to=\"/home\" className=\"btnSubmit\">\r\n                  ПЕРЕЙТИ НА ГЛАВНУЮ\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n          <SlideSideMenu isShowMenu={isShowMenu} />\r\n        </animated.div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Registration;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst TimePicker = ({ timePickerName, setTime, realTimeInPicker }) => {\r\n  const [hours, setHours] = useState(realTimeInPicker.split(\":\")[0]);\r\n  const [minutes, setMinutes] = useState(realTimeInPicker.split(\":\")[1]);\r\n\r\n  const clickHandlerTop = (e, max) => {\r\n    e.target.nextSibling.innerText = +e.target.nextSibling.innerText + 1;\r\n    if (+e.target.nextSibling.innerText === max) {\r\n      e.target.nextSibling.innerText = 0;\r\n    }\r\n    if (+e.target.nextSibling.innerText < 10) {\r\n      e.target.nextSibling.innerText = \"0\" + e.target.nextSibling.innerText;\r\n    }\r\n    if (max === 24) {\r\n      setHours(e.target.nextSibling.innerText);\r\n    } else {\r\n      setMinutes(e.target.nextSibling.innerText);\r\n    }\r\n  };\r\n\r\n  const clickHandlerBottom = (e, max) => {\r\n    if (+e.target.previousSibling.innerText === 0) {\r\n      e.target.previousSibling.innerText = max;\r\n    }\r\n    e.target.previousSibling.innerText =\r\n      +e.target.previousSibling.innerText - 1;\r\n\r\n    if (e.target.previousSibling.innerText < 10) {\r\n      e.target.previousSibling.innerText =\r\n        \"0\" + e.target.previousSibling.innerText;\r\n    }\r\n    if (max === 24) {\r\n      setHours(e.target.previousSibling.innerText);\r\n    } else {\r\n      setMinutes(e.target.previousSibling.innerText);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTime(hours, minutes);\r\n  }, [hours, minutes]);\r\n\r\n  return (\r\n    <div className=\"timePickerWrap\">\r\n      <p className=\"timePickerName\">{timePickerName}</p>\r\n      <div className=\"timePicker\">\r\n        <div className=\"timePickerHoursWrap\">\r\n          <span\r\n            className=\"topArrow\"\r\n            onClick={(e) => {\r\n              clickHandlerTop(e, 24);\r\n            }}\r\n          ></span>\r\n          <p className=\"timePickerHours\">\r\n            {realTimeInPicker && realTimeInPicker.split(\":\")[0]}\r\n          </p>\r\n          <span\r\n            className=\"bottomArrow\"\r\n            onClick={(e) => {\r\n              clickHandlerBottom(e, 24);\r\n            }}\r\n          ></span>\r\n        </div>\r\n        <p className=\"twoDots\">:</p>\r\n        <div className=\"timePickerMinutesWrap\">\r\n          <span\r\n            className=\"topArrow\"\r\n            onClick={(e) => {\r\n              clickHandlerTop(e, 60);\r\n            }}\r\n          ></span>\r\n          <p className=\"timePickerMinutes\">\r\n            {realTimeInPicker && realTimeInPicker.split(\":\")[1]}\r\n          </p>\r\n          <span\r\n            className=\"bottomArrow\"\r\n            onClick={(e) => {\r\n              clickHandlerBottom(e, 60);\r\n            }}\r\n          ></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimePicker;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport ReactCrop from \"react-image-crop\";\r\nimport Dropzone from \"react-dropzone\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { useSpring, animated } from \"react-spring\";\r\n\r\nimport CustomImg from \"../../components/customImg/CustomImg\";\r\nimport GoogleMap from \"../../components/googleMap/GoogleMap\";\r\nimport VideoPlayer from \"../../components/videoPlayer/VideoPlayer\";\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport Popup from \"../../components/popup/Popup\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport QUERY from \"../../query\";\r\nimport TimePicker from \"./TimePicker\";\r\nimport { EN_SHORT_DAY_OF_WEEK, EN_SHORT_TO_RU_SHORT } from \"../../constants\";\r\nimport { numberDayNow } from \"../../calculateTime\";\r\nimport {\r\n  image64toCanvasRef,\r\n  extractImageFileExtensionFromBase64,\r\n  downloadBase64File,\r\n} from \"./EncodeToBase64\";\r\n\r\nimport \"./reactCrop.css\";\r\nimport \"./admin.css\";\r\n\r\nconst descriptionLengthWrap = {\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  fontSize: \"10px\",\r\n  marginTop: \"10px\",\r\n};\r\n\r\nconst Admin = (props) => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n  const [DATA, setDATA] = useState([]);\r\n  const [showPopupDatePicker, setShowPopapDatePicker] = useState(false);\r\n  const [showPopupGoogleMap, setShowPopapGoogleMap] = useState(false);\r\n  const [startTimePicker, setStartTimePicker] = useState(\"00:00\");\r\n  const [endTimePicker, setEndTimePicker] = useState(\"00:00\");\r\n  const [startRealTimeInPicker, setStartRealTimeInPicker] = useState();\r\n  const [endRealTimeInPicker, setEndRealTimeInPicker] = useState();\r\n  const [isEmptyTime, setIsEmptyTime] = useState(true);\r\n  const [enumWeekName, setEnumWeekName] = useState(\"\");\r\n  const [isSetWorkTimeDPick, setIsSetWorkTimeDPick] = useState(false);\r\n  const [streamAddressData, setStreamAddressData] = useState(\"\");\r\n  const [clickedTime, setClickedTime] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [uniqueCompanyType, setUniqueCompanyType] = useState();\r\n  const [hoveredBtn, setHoveredBtn] = useState(\"\");\r\n  const [nameOfCompany, setNameOfCompany] = useState(\"\");\r\n  const [pseudonimOfCompany, setPseudonimOfCompany] = useState(\"\");\r\n  const [typeOfCompany, setTypeOfCompany] = useState(\"\");\r\n  const [typeOfCompanyId, setTypeOfCompanyId] = useState(\"\");\r\n  const [descOfCompany, setDescOfCompany] = useState(\"\");\r\n  const [currentImage, setCurrentImage] = useState(null);\r\n\r\n  const [cookies] = useCookies([]);\r\n\r\n  useEffect(() => {\r\n    if (cookies.origin_data) {\r\n      refreshData();\r\n    }\r\n\r\n    QUERY({ query: `query {categories { id name slug } }` })\r\n      .then((res) => res.json())\r\n      .then((data) => setUniqueCompanyType(data.data.categories))\r\n      .catch((err) => console.log(err, \"UNIQUE ADMIN ERR\"));\r\n  }, []);\r\n\r\n  const chooseNewAddress = (streetName, latLng) => {\r\n    if (cookies.origin_data) {\r\n      const stringLatLng = \"\" + latLng.lat + \",\" + latLng.lng;\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n          updatePlace(\r\n            input:{\r\n              id:\"${props.match.params.id}\"\r\n              address : \"${streetName}\"\r\n              coordinates: \"${stringLatLng}\"\r\n            }\r\n          ){id address coordinates}\r\n        }`,\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (!data.errors) {\r\n            togglePopupGoogleMap();\r\n            refreshData();\r\n          } else {\r\n          }\r\n        })\r\n        .catch((err) => console.log(err, \"ADMIN UPDATEPLACE ERR\"));\r\n    }\r\n  };\r\n\r\n  const refreshData = () => {\r\n    QUERY({\r\n      query: `query {\r\n      place (id:\"${props.match.params.id}\") {\r\n        id name address description logo menu actions coordinates\r\n        streams{url name id preview schedules{id day start_time end_time}}\r\n        schedules {id day start_time end_time}\r\n        categories {id name}\r\n      }\r\n  }`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          setIsLoading(false);\r\n          setDATA(data.data.place);\r\n        } else {\r\n          console.log(data.errors, \"REFRESH ERRORS\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err, \"REFRESH ERR\"));\r\n  };\r\n\r\n  const setAsDayOf = (id) => {\r\n    if (cookies.origin_data) {\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n            deleteSchedule(id:\"${id || clickedTime.id}\"){\r\n              id day start_time end_time\r\n            }\r\n          }`,\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (!data.errors) {\r\n            refreshData();\r\n          } else {\r\n            console.log(data.errors, \"DELETESCHEDULE ERRORS\");\r\n          }\r\n        })\r\n        .catch((err) => console.log(err, \"  DELETESCHEDULE ERR\"));\r\n    }\r\n  };\r\n\r\n  const updateStream = (name) => {\r\n    if (cookies.origin_data) {\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n            updateStream (\r\n              input:{\r\n                id:\"${DATA.streams[0].id}\"\r\n                url :\"https://partycamera.org/${name}/index.m3u8\"\r\n                preview : \"http://partycamera.org:80/${name}/preview.mp4\"\r\n              }\r\n            ) { id name url }\r\n          }`,\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (!data.errors) {\r\n            refreshData();\r\n          } else {\r\n            console.log(data.errors, \"UPDATESTREAM ERRORS\");\r\n          }\r\n        })\r\n        .catch((err) => console.log(err, \"UPDATESTREAM ERR\"));\r\n    }\r\n  };\r\n\r\n  const createStream = (name) => {\r\n    if (cookies.origin_data) {\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n              createStream(\r\n                input:{\r\n                  name: \"${DATA.name}\"\r\n                  url :\"https://partycamera.org/${name}/index.m3u8\"\r\n                  preview : \"http://partycamera.org:80/${name}/preview.mp4\"\r\n                  place:{connect:\"${props.match.params.id}\"}                  \r\n                }) {id name url}\r\n            }`,\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (!data.errors) {\r\n            refreshData();\r\n          } else {\r\n            console.log(data.errors, \"CREATE STREAM ERRORS\");\r\n          }\r\n        })\r\n        .catch((err) => console.log(err, \"CREATE STREAM ERR\"));\r\n    }\r\n  };\r\n\r\n  const setStreamTimeOfOneDay = () => {\r\n    if (cookies.origin_data) {\r\n      if (DATA.streams[0] && !isEmptyTime) {\r\n        // не пустое время стрима и стрим уже существет\r\n        QUERY(\r\n          {\r\n            query: `mutation {\r\n              updateStream (\r\n                input:{\r\n                  id:\"${DATA.streams[0].id}\"\r\n                  schedules:{\r\n                    update:[\r\n                       {\r\n                        id: ${clickedTime.id}\r\n                        start_time: \"${startTimePicker}\"\r\n                        end_time: \"${endTimePicker}\"\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              ) {\r\n                id name url\r\n                }\r\n            }`,\r\n          },\r\n          cookies.origin_data\r\n        )\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            if (!data.errors) {\r\n              refreshData();\r\n            } else {\r\n              console.log(data.errors, \" ERRORS\");\r\n            }\r\n          })\r\n          .catch((err) => console.log(err, \" ERR\"));\r\n      }\r\n      if (DATA.streams[0] && isEmptyTime) {\r\n        // пустое время стрима и стрим уже существет\r\n        QUERY(\r\n          {\r\n            query: `mutation {\r\n              updateStream (\r\n                input:{\r\n                  id:\"${DATA.streams[0].id}\"\r\n                  schedules:{\r\n                    create:[\r\n                       {\r\n                        day: ${enumWeekName}\r\n                        start_time: \"${startTimePicker}\"\r\n                        end_time: \"${endTimePicker}\"\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              ) {\r\n                id name url\r\n                }\r\n            }`,\r\n          },\r\n          cookies.origin_data\r\n        )\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            if (!data.errors) {\r\n              refreshData();\r\n              console.log(data, \"FETCH data\");\r\n            } else {\r\n              console.log(data.errors, \" ERRORS\");\r\n            }\r\n          })\r\n          .catch((err) => console.log(err, \" ERR\"));\r\n      }\r\n    }\r\n  };\r\n\r\n  const setWorkTimeOfOneDay = () => {\r\n    if (cookies.origin_data) {\r\n      if (isEmptyTime) {\r\n        //СОЗДАТЬ время работы заведения\r\n        QUERY(\r\n          {\r\n            query: `mutation {\r\n              updatePlace(\r\n                input:{\r\n                  id:\"${props.match.params.id}\"\r\n                  schedules:{\r\n                    create:{\r\n                      day: ${enumWeekName} start_time: \"${startTimePicker}\" end_time: \"${endTimePicker}\"\r\n                    }\r\n                  }\r\n                }\r\n              ){id}\r\n            }`,\r\n          },\r\n          cookies.origin_data\r\n        )\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            if (!data.errors) {\r\n              refreshData();\r\n            } else {\r\n              console.log(data.errors, \" ERRORS\");\r\n            }\r\n          })\r\n          .catch((err) => console.log(err, \"  ERR\"));\r\n      }\r\n\r\n      if (!isEmptyTime) {\r\n        //ИЗМЕНИТЬ время работы заведения\r\n        QUERY(\r\n          {\r\n            query: `mutation {\r\n          updateSchedule(\r\n            input:{\r\n              id:\"${clickedTime.id}\" start_time: \"${startTimePicker}\" end_time: \"${endTimePicker}\"\r\n            }\r\n          ){id}\r\n        }`,\r\n          },\r\n          cookies.origin_data\r\n        )\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            if (!data.errors) {\r\n              refreshData();\r\n            } else {\r\n              console.log(data.errors, \" ERRORS\");\r\n            }\r\n          })\r\n          .catch((err) => console.log(err, \" ERR\"));\r\n      }\r\n    }\r\n  };\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function (e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const accordionHandler = (e) => {\r\n    if (e.target.nextSibling.style.maxHeight) {\r\n      e.target.nextSibling.style.maxHeight = null;\r\n      e.target.firstElementChild.style.transform = \"rotate(0deg)\";\r\n    } else {\r\n      e.target.nextSibling.style.maxHeight =\r\n        e.target.nextSibling.scrollHeight + \"px\";\r\n      e.target.firstElementChild.style.transform = \"rotate(180deg)\";\r\n    }\r\n  };\r\n\r\n  const togglePopupDatePicker = () => {\r\n    showPopupDatePicker\r\n      ? setShowPopapDatePicker(false)\r\n      : setShowPopapDatePicker(true);\r\n  };\r\n\r\n  const togglePopupGoogleMap = () => {\r\n    showPopupGoogleMap\r\n      ? setShowPopapGoogleMap(false)\r\n      : setShowPopapGoogleMap(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (showPopupDatePicker || showPopupGoogleMap) {\r\n      document.body.style.overflow = \"hidden\";\r\n    } else {\r\n      document.body.style.overflow = \"auto\";\r\n    }\r\n  }, [showPopupDatePicker, showPopupGoogleMap]);\r\n\r\n  const setStartTime = (h, m) => {\r\n    setStartTimePicker(\"\" + h + \":\" + m);\r\n  };\r\n  const setEndTime = (h, m) => {\r\n    setEndTimePicker(\"\" + h + \":\" + m);\r\n  };\r\n\r\n  const SetNewTimeObject = (data) => {\r\n    const timeObject = {};\r\n    EN_SHORT_DAY_OF_WEEK.forEach((e, i) => {\r\n      data.forEach((el, ind) => {\r\n        if (!timeObject[e.day]) {\r\n          timeObject[e.day] = \"Пусто\";\r\n        }\r\n        if (el.day) {\r\n          timeObject[el.day] = el;\r\n        }\r\n      });\r\n    });\r\n    return timeObject;\r\n  };\r\n\r\n  const [leftMenuSettings, setLeftMenuSettings] = useState(\r\n    localStorage.getItem(\"opened_li_admin\")\r\n      ? JSON.parse(localStorage.getItem(\"opened_li_admin\"))\r\n      : [\r\n          {\r\n            name: \"ПРОФИЛЬ ЗАВЕДЕНИЯ\",\r\n            img: \"barIcon\",\r\n            altImg: \"profile\",\r\n            clicked: true,\r\n          },\r\n          {\r\n            name: \"ГРАФИК РАБОТЫ\",\r\n            img: \"clocklite\",\r\n            altImg: \"work\",\r\n            clicked: false,\r\n          },\r\n          {\r\n            name: \"ГРАФИК ТРАНСЛЯЦИЙ\",\r\n            img: \"video-camera\",\r\n            altImg: \"camera\",\r\n            clicked: false,\r\n          },\r\n          {\r\n            name: \"СТРИМ\",\r\n            img: \"streaming\",\r\n            altImg: \"stream\",\r\n            clicked: false,\r\n          },\r\n        ]\r\n  );\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"opened_li_admin\", JSON.stringify(leftMenuSettings));\r\n  }, [leftMenuSettings]);\r\n\r\n  useEffect(() => {\r\n    DATA.description && setDescOfCompany(DATA.description);\r\n  }, [DATA.description]);\r\n\r\n  const descOfCompanyLimit = 300;\r\n\r\n  const updatePlaceData = () => {\r\n    if (cookies.origin_data) {\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n            updatePlace(\r\n              input:{\r\n                id:\"${props.match.params.id}\"\r\n                name:\"${nameOfCompany || DATA.name}\"\r\n                description:\"${descOfCompany || DATA.description}\"\r\n                ${\r\n                  typeOfCompanyId &&\r\n                  `categories:{\r\n                    disconnect:\"${DATA.categories[0].id}\"\r\n                    connect:\"${typeOfCompanyId}\"}`\r\n                }\r\n               \r\n              }\r\n            ){id}\r\n          }`,\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (!data.errors) {\r\n            console.log(\"SUCCESS\");\r\n          } else {\r\n            console.log(data.errors, \" ERRORS\");\r\n          }\r\n        })\r\n        .catch((err) => console.log(err, \"  *******ERR\"));\r\n    }\r\n  };\r\n\r\n  document.body.style.background = \"#fff\";\r\n\r\n  const [crop, setCrop] = useState({ aspect: 1 / 1 });\r\n  const [imgSrc, setImgSrc] = useState(null);\r\n  const [naturalImageSize, setNaturalImageSize] = useState({});\r\n  const [currentImageSize, setCurrentImageSize] = useState({});\r\n  const [imgSrcExt, setImgSrcExt] = useState(null);\r\n  const imagePreviewCanvas = useRef(null);\r\n\r\n  const imageMaxSize = 10000000000;\r\n  const acceptedFileTypes =\r\n    \"image/x-png, image/png, image/jpg, image/jpeg, image/gif\";\r\n  const acceptedFileTypesArray = acceptedFileTypes\r\n    .split(\",\")\r\n    .map((item) => item.trim());\r\n\r\n  const onCropComplete = (crop) => {\r\n    const canvasRef = imagePreviewCanvas.current;\r\n\r\n    image64toCanvasRef(\r\n      canvasRef,\r\n      imgSrc,\r\n      crop,\r\n      naturalImageSize,\r\n      currentImageSize\r\n    );\r\n  };\r\n\r\n  function submitBlob() {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", currentImage);\r\n\r\n    fetch(\"/api/places/9/image\", {\r\n      method: \"POST\",\r\n      body: formData,\r\n      headers: {\r\n        Authorization: \"Bearer \" + cookies.origin_data,\r\n      },\r\n    })\r\n      .then((res) => console.log(res, \"FFFFFFFFFFFf\"))\r\n      .catch((err) => console.log(err, \"ERRRRR!!!\"));\r\n  }\r\n\r\n  const downloadImgFromCanvas = () => {\r\n    if (imgSrc && imgSrcExt) {\r\n      const canvasRef = imagePreviewCanvas.current;\r\n      const imageData64 = canvasRef.toDataURL(\"image/\" + imgSrcExt);\r\n\r\n      const myFileName = \"preview.\" + imgSrcExt;\r\n\r\n      if (imageData64.length > 8) {\r\n        downloadBase64File(imageData64, myFileName);\r\n        handeleClearToDefault();\r\n        submitBlob();\r\n      } else {\r\n        alert(\"Нужно обрезать изображение\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handeleClearToDefault = () => {\r\n    const canvasRef = imagePreviewCanvas.current;\r\n    const ctx = canvasRef.getContext(\"2d\");\r\n    ctx.clearRect(0, 0, canvasRef.width, canvasRef.height);\r\n    setImgSrc(null);\r\n    setImgSrcExt(null);\r\n  };\r\n\r\n  const verifyFile = (files) => {\r\n    if (files && files.length > 0) {\r\n      const currentFile = files[0];\r\n\r\n      setCurrentImage(currentFile);\r\n      const currentFileType = currentFile.type;\r\n      const currentFileSize = currentFile.size;\r\n      if (currentFileSize > imageMaxSize) {\r\n        alert(\"слишком большой размер файла\");\r\n        return false;\r\n      }\r\n      if (!acceptedFileTypesArray.includes(currentFileType)) {\r\n        alert(\"поддерживаются только изображения\");\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const handleOnDrop = (files, rejectedFiles) => {\r\n    if (rejectedFiles && rejectedFiles.length > 0) {\r\n      console.log(rejectedFiles, \"---rejectedFiles\");\r\n      verifyFile(rejectedFiles);\r\n    }\r\n    if (files && files.length > 0) {\r\n      const isVerified = verifyFile(files);\r\n      if (isVerified) {\r\n        // Base64data\r\n        const currentFile = files[0];\r\n        const myFileItemReader = new FileReader();\r\n\r\n        myFileItemReader.onloadend = function (theFile) {\r\n          var image = new Image();\r\n          image.onload = function () {\r\n            setNaturalImageSize({ width: this.width, height: this.height });\r\n          };\r\n          image.src = theFile.target.result;\r\n        };\r\n\r\n        myFileItemReader.addEventListener(\r\n          \"load\",\r\n          (theFile) => {\r\n            const myResult = myFileItemReader.result;\r\n            setImgSrc(myResult);\r\n            setImgSrcExt(extractImageFileExtensionFromBase64(myResult));\r\n          },\r\n          false\r\n        );\r\n        myFileItemReader.readAsDataURL(currentFile);\r\n      }\r\n    }\r\n  };\r\n\r\n  const isWorkTimeOrDayOff = (oneDay) => {\r\n    if (oneDay && oneDay.id) {\r\n      return oneDay.start_time + \" - \" + oneDay.end_time;\r\n    } else {\r\n      return \"Выходной\";\r\n    }\r\n  };\r\n\r\n  const isSetAsDayOff = (oneDay) => {\r\n    if (oneDay && oneDay.id) {\r\n      return \"Сделать выходным\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  };\r\n\r\n  const renderCustomTypeImg = (slug, active) => {\r\n    return (\r\n      <CustomImg\r\n        alt=\"Icon\"\r\n        className=\"сompanyNavImg\"\r\n        name={slug}\r\n        active={active ? true : false}\r\n        width=\"30\"\r\n        height=\"30\"\r\n      />\r\n    );\r\n  };\r\n\r\n  const animateProps = useSpring({\r\n    right: isShowMenu ? 200 : 0,\r\n    config: { duration: 100 },\r\n  });\r\n\r\n  if (!Number(cookies.origin_id)) {\r\n    return <Redirect to=\"/login\" />;\r\n  } else {\r\n    return (\r\n      <div>\r\n        <div\r\n          onClick={(e) => {\r\n            if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n              hideSideMenu();\r\n            }\r\n          }}\r\n        >\r\n          <animated.div\r\n            className=\"Admin\"\r\n            style={animateProps}\r\n            onClick={(e) => {\r\n              if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu)\r\n                hideSideMenu();\r\n            }}\r\n          >\r\n            <Header\r\n              isShowMenu={isShowMenu}\r\n              logo\r\n              burger\r\n              arrow\r\n              showSlideSideMenu={showSlideSideMenu}\r\n              showSideMenu={showSideMenu}\r\n            />\r\n            {isLoading && <Loader />}\r\n            {!isLoading && (\r\n              <div className=\"adminWrapper\">\r\n                {/* __________________DESCTOP__________________ */}\r\n                <div className=\"leftAdminMenuDesctop\">\r\n                  <div className=\"leftAdminMenu\">\r\n                    <ul>\r\n                      {leftMenuSettings.map((el, id) => {\r\n                        return (\r\n                          <li\r\n                            key={id}\r\n                            className={\r\n                              el.clicked\r\n                                ? \"clickedLeftAdminBtn\"\r\n                                : \"LeftAdminBtn\"\r\n                            }\r\n                            onClick={() => {\r\n                              setLeftMenuSettings((prev) => {\r\n                                let newArr = [...prev];\r\n                                newArr.forEach((el) => (el.clicked = false));\r\n                                newArr[id] = {\r\n                                  ...newArr[id],\r\n                                  clicked: true,\r\n                                };\r\n                                return newArr;\r\n                              });\r\n                            }}\r\n                          >\r\n                            {el.img && (\r\n                              <CustomImg\r\n                                alt={el.altImg}\r\n                                className=\"eyeCompanyBlock\"\r\n                                name={el.img}\r\n                              />\r\n                            )}\r\n                            {el.name}\r\n                          </li>\r\n                        );\r\n                      })}\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n                <div className=\"adminContentDesctop\">\r\n                  {leftMenuSettings.map((el, i) => {\r\n                    if (el.clicked && i === 0) {\r\n                      return (\r\n                        <div key={i}>\r\n                          {imgSrc ? (\r\n                            <div className=\"cropWrapper\">\r\n                              <ReactCrop\r\n                                src={imgSrc}\r\n                                crop={crop}\r\n                                onChange={(newCrop) => setCrop(newCrop)}\r\n                                onComplete={(crop) => onCropComplete(crop)}\r\n                                onImageLoaded={({ width, height }) =>\r\n                                  setCurrentImageSize({\r\n                                    width,\r\n                                    height,\r\n                                  })\r\n                                }\r\n                              />\r\n                              <br />\r\n                              <span onClick={downloadImgFromCanvas}>\r\n                                Скачать\r\n                              </span>\r\n                              <span onClick={handeleClearToDefault}>\r\n                                Очистить\r\n                              </span>\r\n                              <canvas\r\n                                className=\"cropCanvasImage\"\r\n                                ref={imagePreviewCanvas}\r\n                              ></canvas>\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"previewPhoto\">\r\n                              <p>Загрузить фото</p>\r\n                              <p>250 X 250</p>\r\n                            </div>\r\n                          )}\r\n                          {/* !!!!!!!!!!!!!!!!!!!!!!\r\n                          <input\r\n                            type=\"file\"\r\n                            onChange={(data) => {\r\n                              let reader = new FileReader();\r\n                              let file = data.target.files[0];\r\n                              console.log(file, \"ssss\");\r\n                              reader.onloadend = () => {\r\n                                submitBlob(reader.result);\r\n                              };\r\n                              submitBlob(reader.result);\r\n                            }}\r\n                          /> */}\r\n                          <Dropzone\r\n                            multiple={false}\r\n                            accept={acceptedFileTypes}\r\n                            maxSize={imageMaxSize}\r\n                            onDrop={(acceptedFiles, rejectedFiles) =>\r\n                              handleOnDrop(acceptedFiles, rejectedFiles)\r\n                            }\r\n                          >\r\n                            {({ getRootProps, getInputProps }) => {\r\n                              return (\r\n                                <section>\r\n                                  <div\r\n                                    className=\"changePhotoBlock\"\r\n                                    {...getRootProps()}\r\n                                  >\r\n                                    <input\r\n                                      className=\"changePhotoInput\"\r\n                                      {...getInputProps()}\r\n                                    />\r\n                                    <p className=\"changePhoto\">\r\n                                      Сменить фото профиля\r\n                                    </p>\r\n                                  </div>\r\n                                </section>\r\n                              );\r\n                            }}\r\n                          </Dropzone>\r\n                          <div className=\"profileDataDesc\">\r\n                            <div className=\"inputBlockWrap\">\r\n                              <p>Название заведения:</p>\r\n                              <input\r\n                                type=\"text\"\r\n                                placeholder={DATA.name}\r\n                                value={nameOfCompany}\r\n                                onChange={(e) =>\r\n                                  setNameOfCompany(e.target.value)\r\n                                }\r\n                              />\r\n                            </div>\r\n                            <div className=\"inputBlockWrap\">\r\n                              <p>Псевдоним:</p>\r\n                              <input\r\n                                type=\"text\"\r\n                                placeholder={DATA.name}\r\n                                value={pseudonimOfCompany}\r\n                                onChange={(e) =>\r\n                                  setPseudonimOfCompany(e.target.value)\r\n                                }\r\n                              />\r\n                            </div>\r\n                            <div className=\"bigInputBlockWrap\">\r\n                              <p>Категория:</p>\r\n                              <div className=\"categoryBtnWrap\">\r\n                                {!!uniqueCompanyType &&\r\n                                  uniqueCompanyType.map((el, i) => {\r\n                                    return (\r\n                                      <span\r\n                                        className=\"categoryBtn\"\r\n                                        key={i}\r\n                                        style={\r\n                                          el &&\r\n                                          el.name &&\r\n                                          typeOfCompany &&\r\n                                          typeOfCompany === el.name\r\n                                            ? {\r\n                                                background: \"#e32a6c\",\r\n                                                color: \"#fff\",\r\n                                              }\r\n                                            : !typeOfCompany &&\r\n                                              DATA.categories &&\r\n                                              DATA.categories[0] &&\r\n                                              el &&\r\n                                              el.name &&\r\n                                              DATA.categories[0].name ===\r\n                                                el.name\r\n                                            ? {\r\n                                                background: \"#e32a6c\",\r\n                                                color: \"#fff\",\r\n                                              }\r\n                                            : {}\r\n                                        }\r\n                                        onClick={() => {\r\n                                          setTypeOfCompany(el.name);\r\n                                          setTypeOfCompanyId(el.id);\r\n                                        }}\r\n                                        onMouseOver={() =>\r\n                                          setHoveredBtn(el.name)\r\n                                        }\r\n                                        onMouseOut={() => setHoveredBtn(\"\")}\r\n                                      >\r\n                                        {typeOfCompany &&\r\n                                        typeOfCompany === el.name\r\n                                          ? renderCustomTypeImg(el.slug, true)\r\n                                          : !typeOfCompany &&\r\n                                            DATA.categories &&\r\n                                            DATA.categories[0] &&\r\n                                            DATA.categories[0].name === el.name\r\n                                          ? renderCustomTypeImg(el.slug, true)\r\n                                          : hoveredBtn === el.name\r\n                                          ? renderCustomTypeImg(el.slug, true)\r\n                                          : renderCustomTypeImg(el.slug, false)}\r\n                                        {el.name}\r\n                                      </span>\r\n                                    );\r\n                                  })}\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"inputBlockWrap\">\r\n                              <p className=\"addressText\">Адрес заведения:</p>\r\n                              <div className=\"addressBlockWrapp\">\r\n                                <input type=\"text\" value={DATA.address} />\r\n                                <p\r\n                                  className=\"chooseAddressDesc\"\r\n                                  onClick={() => togglePopupGoogleMap()}\r\n                                >\r\n                                  ВЫБРАТЬ АДРЕС НА КАРТЕ\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"inputBlockWrap\">\r\n                              <p>Описание:</p>\r\n                              <div style={descriptionLengthWrap}>\r\n                                <span\r\n                                  style={\r\n                                    descOfCompany.length === descOfCompanyLimit\r\n                                      ? {\r\n                                          color: \"red\",\r\n                                          paddingLeft: \"10px\",\r\n                                          textAlign: \"end\",\r\n                                        }\r\n                                      : {\r\n                                          color: \"green\",\r\n                                          paddingLeft: \"10px\",\r\n                                          textAlign: \"end\",\r\n                                        }\r\n                                  }\r\n                                >\r\n                                  {descOfCompany.length} / {descOfCompanyLimit}\r\n                                </span>\r\n                                <textarea\r\n                                  className=\"descTextarea\"\r\n                                  maxLength={descOfCompanyLimit}\r\n                                  value={descOfCompany}\r\n                                  onChange={(e) =>\r\n                                    setDescOfCompany(e.target.value)\r\n                                  }\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                            <p\r\n                              className=\"saveBtnProfile\"\r\n                              onClick={() => updatePlaceData()}\r\n                            >\r\n                              СОХРАНИТЬ\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    }\r\n                    if (el.clicked && i === 1) {\r\n                      return (\r\n                        <div key={i} className=\"workTimeTableWrap\">\r\n                          <h3>ГРАФИК РАБОТЫ</h3>\r\n                          <table className=\"tableWorkDesc\">\r\n                            <tbody>\r\n                              {DATA.schedules &&\r\n                                EN_SHORT_DAY_OF_WEEK.map((el, i) => {\r\n                                  const oneDay = SetNewTimeObject(\r\n                                    DATA.schedules\r\n                                  )[el.day];\r\n                                  return (\r\n                                    <tr key={i}>\r\n                                      <td>{EN_SHORT_TO_RU_SHORT[el.day]}</td>\r\n                                      <td\r\n                                        style={\r\n                                          numberDayNow === i\r\n                                            ? {\r\n                                                fontWeight: \"bold\",\r\n                                              }\r\n                                            : {}\r\n                                        }\r\n                                        className=\"timeTd\"\r\n                                        onClick={() => {\r\n                                          if (oneDay && oneDay.id) {\r\n                                            setIsEmptyTime(false); //не пустое время\r\n                                            setEnumWeekName(\"\"); //день недели для отправки запроса\r\n                                            setStartRealTimeInPicker(\r\n                                              oneDay.start_time\r\n                                            );\r\n                                            setEndRealTimeInPicker(\r\n                                              oneDay.end_time\r\n                                            );\r\n                                            togglePopupDatePicker();\r\n                                            setClickedTime(oneDay); //объект для отправки запроса\r\n                                            setIsSetWorkTimeDPick(true);\r\n                                          } else {\r\n                                            setIsEmptyTime(true);\r\n                                            setEnumWeekName(el.day);\r\n                                            setStartRealTimeInPicker(\"00:00\");\r\n                                            setEndRealTimeInPicker(\"00:00\");\r\n                                            togglePopupDatePicker();\r\n                                            setIsSetWorkTimeDPick(true);\r\n                                          }\r\n                                        }}\r\n                                      >\r\n                                        {isWorkTimeOrDayOff(oneDay)}\r\n                                      </td>\r\n                                      <td\r\n                                        className=\"doAsDayOfTd\"\r\n                                        onClick={() => setAsDayOf(oneDay.id)}\r\n                                      >\r\n                                        {isSetAsDayOff(oneDay)}\r\n                                      </td>\r\n                                    </tr>\r\n                                  );\r\n                                })}\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      );\r\n                    }\r\n\r\n                    if (el.clicked && i === 2) {\r\n                      return (\r\n                        <div className=\"workTimeTableWrap\">\r\n                          <h3>ГРАФИК ТРАНСЛЯЦИЙ</h3>\r\n                          <table className=\"tableWorkDesc\">\r\n                            <tbody>\r\n                              {DATA.streams &&\r\n                                EN_SHORT_DAY_OF_WEEK.map((el, i) => {\r\n                                  const oneDay = SetNewTimeObject(\r\n                                    DATA.streams[0]\r\n                                      ? DATA.streams[0].schedules\r\n                                      : []\r\n                                  )[el.day];\r\n                                  return (\r\n                                    <tr key={i}>\r\n                                      <td>{EN_SHORT_TO_RU_SHORT[el.day]}</td>\r\n                                      <td\r\n                                        style={\r\n                                          numberDayNow === i\r\n                                            ? {\r\n                                                fontWeight: \"bold\",\r\n                                              }\r\n                                            : {}\r\n                                        }\r\n                                        className=\"timeTd\"\r\n                                        onClick={() => {\r\n                                          if (!DATA.streams[0]) {\r\n                                            alert(\"Стрим еще не создан\");\r\n                                          } else {\r\n                                            if (oneDay && oneDay.id) {\r\n                                              setIsEmptyTime(false); //не пустое время\r\n                                              setEnumWeekName(\"\");\r\n                                              setStartRealTimeInPicker(\r\n                                                oneDay.start_time\r\n                                              );\r\n                                              setEndRealTimeInPicker(\r\n                                                oneDay.end_time\r\n                                              );\r\n                                              togglePopupDatePicker();\r\n                                              setClickedTime(oneDay);\r\n                                              setIsSetWorkTimeDPick(false);\r\n                                            } else {\r\n                                              setIsEmptyTime(true); //пустое время\r\n                                              setEnumWeekName(el.day);\r\n                                              setStartRealTimeInPicker(\"00:00\");\r\n                                              setEndRealTimeInPicker(\"00:00\");\r\n                                              togglePopupDatePicker();\r\n                                              setIsSetWorkTimeDPick(false);\r\n                                            }\r\n                                          }\r\n                                        }}\r\n                                      >\r\n                                        {isWorkTimeOrDayOff(oneDay)}\r\n                                      </td>\r\n                                      <td\r\n                                        className=\"doAsDayOfTd\"\r\n                                        onClick={() => setAsDayOf(oneDay.id)}\r\n                                      >\r\n                                        {isSetAsDayOff(oneDay)}\r\n                                      </td>\r\n                                    </tr>\r\n                                  );\r\n                                })}\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      );\r\n                    }\r\n                    if (el.clicked && i === 3) {\r\n                      return (\r\n                        <div key={i} className=\"streamAdminBlock\">\r\n                          <h3>СТРИМ</h3>\r\n                          {!!DATA.streams && DATA.streams[0] && (\r\n                            <div className=\"videoWrapAdminDesctop\">\r\n                              <VideoPlayer\r\n                                src={\r\n                                  DATA.streams &&\r\n                                  DATA.streams[0] &&\r\n                                  DATA.streams[0].url\r\n                                }\r\n                              />\r\n                            </div>\r\n                          )}\r\n                          <div className=\"chooseStreamAddressDesc\">\r\n                            <div className=\"cameraAddressWrapper\">\r\n                              <span className=\"cameraAddresLable\">\r\n                                Адрес камеры:\r\n                              </span>\r\n                              <input\r\n                                className=\"streamAddress\"\r\n                                placeholder={\r\n                                  (DATA.streams &&\r\n                                    DATA.streams[0] &&\r\n                                    DATA.streams[0].url &&\r\n                                    DATA.streams[0].url) ||\r\n                                  \"Введите адрес стрима\"\r\n                                }\r\n                                value={streamAddressData}\r\n                                onInput={(e) =>\r\n                                  setStreamAddressData(e.target.value)\r\n                                }\r\n                              />\r\n                            </div>\r\n                            <div\r\n                              className=\"chooseStreamAddressSaveBtn\"\r\n                              onClick={() => {\r\n                                if (streamAddressData) {\r\n                                  if (!DATA.streams[0]) {\r\n                                    createStream(streamAddressData);\r\n                                  } else {\r\n                                    updateStream(streamAddressData);\r\n                                  }\r\n                                } else {\r\n                                  alert(\"Заполните поле\");\r\n                                }\r\n                              }}\r\n                            >\r\n                              Сохранить\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    }\r\n                  })}\r\n                </div>\r\n                {/* __________________MOBILE__________________ */}\r\n                <div className=\"adminContentMobile\">\r\n                  {!!DATA.streams && DATA.streams[0] && (\r\n                    <div className=\"videoWrapAdminMobile\">\r\n                      <VideoPlayer\r\n                        src={\r\n                          DATA.streams && DATA.streams[0] && DATA.streams[0].url\r\n                        }\r\n                      />\r\n                    </div>\r\n                  )}\r\n                  <div className=\"adminMenuContainer\">\r\n                    <div className=\"menuBlockWrap profile\">\r\n                      <div\r\n                        className=\"menuBlock\"\r\n                        onClick={(e) => accordionHandler(e)}\r\n                      >\r\n                        Профиль заведения\r\n                        <span className=\"rotateArrow\"></span>\r\n                      </div>\r\n                      <div className=\"drDownWrap\">\r\n                        <div className=\"uploadFileContainer\">\r\n                          <div className=\"uploadFile\">\r\n                            {imgSrc ? (\r\n                              <div className=\"cropWrapper\">\r\n                                <ReactCrop\r\n                                  src={imgSrc}\r\n                                  crop={crop}\r\n                                  onChange={(newCrop) => setCrop(newCrop)}\r\n                                  onComplete={(crop) => onCropComplete(crop)}\r\n                                  onImageLoaded={({ width, height }) =>\r\n                                    setCurrentImageSize({\r\n                                      width,\r\n                                      height,\r\n                                    })\r\n                                  }\r\n                                />\r\n                                <br />\r\n                                {/* <span onClick={downloadImgFromCanvas}>\r\n                                  Скачать\r\n                                </span>\r\n                                <span onClick={handeleClearToDefault}>\r\n                                  Очистить\r\n                                </span> */}\r\n                                <canvas\r\n                                  className=\"cropCanvasImage\"\r\n                                  ref={imagePreviewCanvas}\r\n                                ></canvas>\r\n                              </div>\r\n                            ) : (\r\n                              <div className=\"previewPhoto\">\r\n                                <p>Загрузить фото</p>\r\n                                <p>250 X 250</p>\r\n                              </div>\r\n                            )}\r\n                            <Dropzone\r\n                              multiple={false}\r\n                              accept={acceptedFileTypes}\r\n                              maxSize={imageMaxSize}\r\n                              onDrop={(acceptedFiles, rejectedFiles) =>\r\n                                handleOnDrop(acceptedFiles, rejectedFiles)\r\n                              }\r\n                            >\r\n                              {({ getRootProps, getInputProps }) => {\r\n                                return (\r\n                                  <section>\r\n                                    <div\r\n                                      className=\"changePhotoBlock\"\r\n                                      {...getRootProps()}\r\n                                    >\r\n                                      <input\r\n                                        className=\"changePhotoInput\"\r\n                                        {...getInputProps()}\r\n                                      />\r\n                                      <p className=\"changePhoto\">\r\n                                        Сменить фото профиля\r\n                                      </p>\r\n                                    </div>\r\n                                  </section>\r\n                                );\r\n                              }}\r\n                            </Dropzone>\r\n                          </div>\r\n                        </div>\r\n                        {/* ================================================= */}\r\n                        <div className=\"profileDataDesc\">\r\n                          <div className=\"inputBlockWrap\">\r\n                            <p>Название заведения:</p>\r\n                            <input\r\n                              type=\"text\"\r\n                              placeholder={DATA.name}\r\n                              value={nameOfCompany}\r\n                              onChange={(e) => setNameOfCompany(e.target.value)}\r\n                            />\r\n                          </div>\r\n                          <div className=\"inputBlockWrap\">\r\n                            <p>Псевдоним:</p>\r\n                            <input\r\n                              type=\"text\"\r\n                              placeholder={DATA.name}\r\n                              value={pseudonimOfCompany}\r\n                              onChange={(e) =>\r\n                                setPseudonimOfCompany(e.target.value)\r\n                              }\r\n                            />\r\n                          </div>\r\n                          <div className=\"bigInputBlockWrap\">\r\n                            <p>Категория:</p>\r\n                            <div className=\"categoryBtnWrap\">\r\n                              {!!uniqueCompanyType &&\r\n                                uniqueCompanyType.map((el, i) => {\r\n                                  return (\r\n                                    <span\r\n                                      className=\"categoryBtn\"\r\n                                      key={i}\r\n                                      style={\r\n                                        el &&\r\n                                        el.name &&\r\n                                        typeOfCompany &&\r\n                                        typeOfCompany === el.name\r\n                                          ? {\r\n                                              background: \"#e32a6c\",\r\n                                              color: \"#fff\",\r\n                                            }\r\n                                          : !typeOfCompany &&\r\n                                            DATA.categories &&\r\n                                            DATA.categories[0] &&\r\n                                            el &&\r\n                                            el.name &&\r\n                                            DATA.categories[0].name === el.name\r\n                                          ? {\r\n                                              background: \"#e32a6c\",\r\n                                              color: \"#fff\",\r\n                                            }\r\n                                          : {}\r\n                                      }\r\n                                      onClick={() => {\r\n                                        setTypeOfCompany(el.name);\r\n                                        setTypeOfCompanyId(el.id);\r\n                                      }}\r\n                                      onMouseOver={() => setHoveredBtn(el.name)}\r\n                                      onMouseOut={() => setHoveredBtn(\"\")}\r\n                                    >\r\n                                      {typeOfCompany &&\r\n                                      typeOfCompany === el.name\r\n                                        ? renderCustomTypeImg(el.slug, true)\r\n                                        : !typeOfCompany &&\r\n                                          DATA.categories &&\r\n                                          DATA.categories[0] &&\r\n                                          DATA.categories[0].name === el.name\r\n                                        ? renderCustomTypeImg(el.slug, true)\r\n                                        : hoveredBtn === el.name\r\n                                        ? renderCustomTypeImg(el.slug, true)\r\n                                        : renderCustomTypeImg(el.slug, false)}\r\n                                      {el.name}\r\n                                    </span>\r\n                                  );\r\n                                })}\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"inputBlockWrap\">\r\n                            <p className=\"addressTextMobile\">\r\n                              Адрес заведения:\r\n                            </p>\r\n                            <div className=\"mobileAddresColumn\">\r\n                              <input type=\"text\" value={DATA.address} />\r\n                              <p\r\n                                className=\"chooseAddressDesc\"\r\n                                onClick={() => togglePopupGoogleMap()}\r\n                              >\r\n                                ВЫБРАТЬ АДРЕС НА КАРТЕ\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"inputBlockWrap\">\r\n                            <p>Описание:</p>\r\n                            <textarea\r\n                              className=\"descTextarea\"\r\n                              maxLength={descOfCompanyLimit}\r\n                              value={descOfCompany}\r\n                              onChange={(e) => setDescOfCompany(e.target.value)}\r\n                            />\r\n                          </div>\r\n                          <p\r\n                            className=\"saveBtnProfile\"\r\n                            onClick={() => updatePlaceData()}\r\n                          >\r\n                            СОХРАНИТЬ\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"menuBlockWrap workSchedule\">\r\n                      <div\r\n                        className=\"menuBlock\"\r\n                        onClick={(e) => accordionHandler(e)}\r\n                      >\r\n                        График работы\r\n                        <span className=\"rotateArrow\"></span>\r\n                      </div>\r\n                      <div className=\"drDownWrap\">\r\n                        <table>\r\n                          <tbody>\r\n                            {DATA.schedules &&\r\n                              EN_SHORT_DAY_OF_WEEK.map((el, i) => {\r\n                                const oneDay = SetNewTimeObject(DATA.schedules)[\r\n                                  el.day\r\n                                ];\r\n                                return (\r\n                                  <tr key={i}>\r\n                                    <td>{EN_SHORT_TO_RU_SHORT[el.day]}</td>\r\n                                    <td\r\n                                      onClick={() => {\r\n                                        if (oneDay && oneDay.id) {\r\n                                          setIsEmptyTime(false); //не пустое время\r\n                                          setEnumWeekName(\"\"); //день недели для отправки запроса\r\n                                          setStartRealTimeInPicker(\r\n                                            oneDay.start_time\r\n                                          );\r\n                                          setEndRealTimeInPicker(\r\n                                            oneDay.end_time\r\n                                          );\r\n                                          togglePopupDatePicker();\r\n                                          setClickedTime(oneDay); //объект для отправки запроса\r\n                                          setIsSetWorkTimeDPick(true);\r\n                                        } else {\r\n                                          setIsEmptyTime(true);\r\n                                          setEnumWeekName(el.day);\r\n                                          setStartRealTimeInPicker(\"00:00\");\r\n                                          setEndRealTimeInPicker(\"00:00\");\r\n                                          togglePopupDatePicker();\r\n                                          setIsSetWorkTimeDPick(true);\r\n                                        }\r\n                                      }}\r\n                                    >\r\n                                      {isWorkTimeOrDayOff(oneDay)}\r\n                                    </td>\r\n                                  </tr>\r\n                                );\r\n                              })}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"menuBlockWrap streamSchedule\">\r\n                      <div\r\n                        className=\"menuBlock\"\r\n                        onClick={(e) => accordionHandler(e)}\r\n                      >\r\n                        График трансляций\r\n                        <span className=\"rotateArrow\"></span>\r\n                      </div>\r\n                      <div className=\"drDownWrap\">\r\n                        <div className=\"chooseStreamAddress\">\r\n                          <input\r\n                            className=\"streamAddress\"\r\n                            placeholder={\r\n                              (DATA.streams &&\r\n                                DATA.streams[0] &&\r\n                                DATA.streams[0].url &&\r\n                                DATA.streams[0].url) ||\r\n                              \"Введите адрес стрима\"\r\n                            }\r\n                            value={streamAddressData}\r\n                            onInput={(e) =>\r\n                              setStreamAddressData(e.target.value)\r\n                            }\r\n                          />\r\n                          <div\r\n                            className=\"chooseStreamAddressSaveBtn\"\r\n                            onClick={() => {\r\n                              if (streamAddressData) {\r\n                                if (!DATA.streams[0]) {\r\n                                  createStream(streamAddressData);\r\n                                } else {\r\n                                  updateStream(streamAddressData);\r\n                                }\r\n                              } else {\r\n                                alert(\"Заполните поле\");\r\n                              }\r\n                            }}\r\n                          >\r\n                            Сохранить\r\n                          </div>\r\n                        </div>\r\n                        <table>\r\n                          <tbody>\r\n                            {DATA.streams &&\r\n                              EN_SHORT_DAY_OF_WEEK.map((el, i) => {\r\n                                const oneDay = SetNewTimeObject(\r\n                                  DATA.streams[0]\r\n                                    ? DATA.streams[0].schedules\r\n                                    : []\r\n                                )[el.day];\r\n                                return (\r\n                                  <tr key={i}>\r\n                                    <td>{EN_SHORT_TO_RU_SHORT[el.day]}</td>\r\n                                    <td\r\n                                      onClick={() => {\r\n                                        if (!DATA.streams[0]) {\r\n                                          alert(\"Стрим еще не создан\");\r\n                                        } else {\r\n                                          if (oneDay && oneDay.id) {\r\n                                            setIsEmptyTime(false); //не пустое время\r\n                                            setEnumWeekName(\"\");\r\n                                            setStartRealTimeInPicker(\r\n                                              oneDay.start_time\r\n                                            );\r\n                                            setEndRealTimeInPicker(\r\n                                              oneDay.end_time\r\n                                            );\r\n                                            togglePopupDatePicker();\r\n                                            setClickedTime(oneDay);\r\n                                            setIsSetWorkTimeDPick(false);\r\n                                          } else {\r\n                                            setIsEmptyTime(true); //пустое время\r\n                                            setEnumWeekName(el.day);\r\n                                            setStartRealTimeInPicker(\"00:00\");\r\n                                            setEndRealTimeInPicker(\"00:00\");\r\n                                            togglePopupDatePicker();\r\n                                            setIsSetWorkTimeDPick(false);\r\n                                          }\r\n                                        }\r\n                                      }}\r\n                                    >\r\n                                      {isWorkTimeOrDayOff(oneDay)}\r\n                                    </td>\r\n                                  </tr>\r\n                                );\r\n                              })}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </animated.div>\r\n\r\n          <SlideSideMenu isShowMenu={isShowMenu} />\r\n          {showPopupDatePicker && (\r\n            <Popup\r\n              togglePopup={togglePopupDatePicker}\r\n              wrpaStyle={{ alignItems: \"flex-end\" }}\r\n            >\r\n              <div className=\"popupWrapper\">\r\n                <span\r\n                  className=\"closePopupBtn\"\r\n                  onClick={togglePopupDatePicker}\r\n                ></span>\r\n                <div className=\"TimePickerContainer\">\r\n                  <TimePicker\r\n                    realTimeInPicker={startRealTimeInPicker}\r\n                    timePickerName=\"\"\r\n                    setTime={setStartTime}\r\n                  />\r\n                  <span className=\"space\"></span>\r\n                  <TimePicker\r\n                    realTimeInPicker={endRealTimeInPicker}\r\n                    timePickerName=\"\"\r\n                    setTime={setEndTime}\r\n                  />\r\n                </div>\r\n                <p\r\n                  className=\"makeAsDayOffMobile\"\r\n                  onClick={() => {\r\n                    setAsDayOf();\r\n                    togglePopupDatePicker();\r\n                  }}\r\n                >\r\n                  Сделать выходным\r\n                </p>\r\n                <div\r\n                  className=\"saveBtn\"\r\n                  onClick={() => {\r\n                    togglePopupDatePicker();\r\n                    isSetWorkTimeDPick && setWorkTimeOfOneDay();\r\n                    !isSetWorkTimeDPick && setStreamTimeOfOneDay();\r\n                  }}\r\n                >\r\n                  Сохранить\r\n                </div>\r\n              </div>\r\n            </Popup>\r\n          )}\r\n          {showPopupGoogleMap && (\r\n            <Popup\r\n              togglePopup={togglePopupGoogleMap}\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n              }}\r\n            >\r\n              <GoogleMap\r\n                initialCenterMap={\r\n                  DATA.coordinates\r\n                    ? {\r\n                        lat: Number(DATA.coordinates.split(\",\")[0]),\r\n                        lng: Number(DATA.coordinates.split(\",\")[1]),\r\n                      }\r\n                    : null\r\n                }\r\n                togglePopupGoogleMap={togglePopupGoogleMap}\r\n                chooseNewAddress={chooseNewAddress}\r\n                isNewAddress\r\n              />\r\n            </Popup>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Admin;\r\n","// Convert a Base64-encoded string to a File object\r\nexport function base64StringtoFile(base64String, filename) {\r\n  var arr = base64String.split(\",\"),\r\n    mime = arr[0].match(/:(.*?);/)[1],\r\n    bstr = atob(arr[1]),\r\n    n = bstr.length,\r\n    u8arr = new Uint8Array(n);\r\n  while (n--) {\r\n    u8arr[n] = bstr.charCodeAt(n);\r\n  }\r\n  return new File([u8arr], filename, { type: mime });\r\n}\r\n\r\nexport function downloadBase64File(base64Data, filename) {\r\n  var element = document.createElement(\"a\");\r\n  element.setAttribute(\"href\", base64Data);\r\n  element.setAttribute(\"download\", filename);\r\n  element.style.display = \"none\";\r\n  document.body.appendChild(element);\r\n  element.click();\r\n  document.body.removeChild(element);\r\n}\r\n\r\nexport function extractImageFileExtensionFromBase64(base64Data) {\r\n  return base64Data.substring(\r\n    \"data:image/\".length,\r\n    base64Data.indexOf(\";base64\")\r\n  );\r\n}\r\n\r\nexport function image64toCanvasRef(\r\n  canvasRef,\r\n  image64,\r\n  pixelCrop,\r\n  naturalSize,\r\n  currentSize\r\n) {\r\n  const widthDifference = (naturalSize.width / currentSize.width).toFixed(2);\r\n  const heightDifference = (naturalSize.height / currentSize.height).toFixed(2);\r\n\r\n  const canvas = canvasRef;\r\n  canvas.width = pixelCrop.width * heightDifference;\r\n  canvas.height = pixelCrop.height * widthDifference;\r\n  const ctx = canvas.getContext(\"2d\");\r\n  const image = new Image();\r\n  image.src = image64;\r\n  image.onload = function () {\r\n    ctx.drawImage(\r\n      image,\r\n      pixelCrop.x * widthDifference,\r\n      pixelCrop.y * heightDifference,\r\n      pixelCrop.width * widthDifference,\r\n      pixelCrop.height * heightDifference,\r\n      0,\r\n      0,\r\n      pixelCrop.width * widthDifference,\r\n      pixelCrop.height * heightDifference\r\n    );\r\n  };\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  format,\r\n  addMonths,\r\n  subMonths,\r\n  startOfWeek,\r\n  addDays,\r\n  startOfMonth,\r\n  endOfMonth,\r\n  endOfWeek,\r\n  isSameMonth,\r\n  isSameDay,\r\n  addYears,\r\n  subYears,\r\n  startOfYear,\r\n  getWeekOfMonth\r\n} from \"date-fns\";\r\n\r\nimport \"./calendar.css\";\r\n\r\nimport { ru } from \"date-fns/locale\";\r\nimport buildLocalizeFn from \"date-fns/locale/_lib/buildLocalizeFn\";\r\n\r\nconst monthValues = {\r\n  narrow: [\"Я\", \"Ф\", \"М\", \"А\", \"М\", \"И\", \"И\", \"А\", \"С\", \"О\", \"Н\", \"Д\"],\r\n  abbreviated: [\r\n    \"янв.\",\r\n    \"фев.\",\r\n    \"март\",\r\n    \"апр.\",\r\n    \"май\",\r\n    \"июнь\",\r\n    \"июль\",\r\n    \"авг.\",\r\n    \"сент.\",\r\n    \"окт.\",\r\n    \"нояб.\",\r\n    \"дек.\"\r\n  ],\r\n  wide: [\r\n    \"январь\",\r\n    \"февраль\",\r\n    \"март\",\r\n    \"апрель\",\r\n    \"май\",\r\n    \"июнь\",\r\n    \"июль\",\r\n    \"август\",\r\n    \"сентябрь\",\r\n    \"октябрь\",\r\n    \"ноябрь\",\r\n    \"декабрь\"\r\n  ]\r\n};\r\n\r\nru.localize.month = buildLocalizeFn({\r\n  values: monthValues,\r\n  defaultWidth: \"wide\",\r\n  defaultFormattingWidth: \"wide\"\r\n});\r\n\r\nconst Calendar = () => {\r\n  const [currentMonth, setCurrentMonth] = useState(new Date());\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n\r\n  const [currentYear, setCurrentYear] = useState(new Date());\r\n  const [showTopFixedBlock, setShowTopFixedBloc] = useState(false);\r\n\r\n  const [choosedDayMonth, setChoosedDayMonth] = useState(false);\r\n\r\n  document.body.style.background = \"#fff\";\r\n\r\n  const renderHeader = allMonths => {\r\n    const dateFormat = \"MMMM\";\r\n    return (\r\n      <div className=\"monthNameBigCalendar\">\r\n        <div className=\"\">\r\n          {!allMonths && (\r\n            <div className=\"icon\" onClick={prevMonth}>\r\n              chevron_left\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col col-center\">\r\n          <span>\r\n            {format(allMonths || currentMonth, dateFormat, { locale: ru })}\r\n          </span>\r\n        </div>\r\n        {!allMonths && (\r\n          <div className=\"\" onClick={nextMonth}>\r\n            <div className=\"icon\">chevron_right</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderDays = () => {\r\n    const dateFormat = \"E\";\r\n    const days = [];\r\n    let startDate = startOfWeek(currentMonth, { weekStartsOn: 1 });\r\n    for (let i = 0; i < 7; i++) {\r\n      days.push(\r\n        <div\r\n          className=\"col col-center\"\r\n          key={i}\r\n          style={\r\n            format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n            format(addDays(startDate, i), \"E\") === \"Sun\"\r\n              ? { color: \"#f86262\" }\r\n              : {}\r\n          }\r\n        >\r\n          {format(addDays(startDate, i), \"E\") === \"Sat\"\r\n            ? \"Сб\"\r\n            : format(addDays(startDate, i), dateFormat, { locale: ru }).slice(\r\n                0,\r\n                2\r\n              )}\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div\r\n        className=\"days row\"\r\n        style={{\r\n          background: \"rgb(243, 242, 242)\",\r\n          boxShadow: \"0 0 1px 0 rgba(0,0,0,0.05)\"\r\n        }}\r\n      >\r\n        {days}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const onDateClick = (day, e) => {\r\n    document.body.style.overflow = \"hidden\";\r\n    setSelectedDate(day);\r\n\r\n    const currentRow = e.target.closest(\".animationRow\");\r\n    const currentCalendar = e.target.closest(\".animationMonthCalendar\");\r\n    const animationMonthCalendar = document.getElementsByClassName(\r\n      \"animationMonthCalendar\"\r\n    );\r\n    const curCalendarId = document.getElementById(format(selectedDate, \"MMMM\"));\r\n    const calendarBody = curCalendarId.querySelector(\".body\");\r\n    const animationRows = calendarBody.querySelectorAll(\".animationRow\");\r\n\r\n    for (let j = 0; j < 12; j++) {\r\n      if (animationRows[j]) {\r\n        animationRows[j].style.height = \"50px\";\r\n      }\r\n      animationMonthCalendar[j].style.display = \"none\";\r\n    }\r\n\r\n    currentCalendar.style.display = \"block\";\r\n    currentCalendar.style.marginTop =\r\n      100 - getWeekOfMonth(day, { weekStartsOn: 1 }) * 50 + \"px\";\r\n\r\n    setTimeout(() => {\r\n      currentRow.style.height = window.innerHeight + \"px\";\r\n    }, 350);\r\n\r\n    setChoosedDayMonth(format(day, \"MMMM yyyy\", { locale: ru }));\r\n  };\r\n\r\n  const renderCells = allMonths => {\r\n    const monthStart = startOfMonth(allMonths || currentMonth);\r\n    const monthEnd = endOfMonth(monthStart);\r\n    const startDate = startOfWeek(monthStart, { weekStartsOn: 1 });\r\n    const endDate = endOfWeek(monthEnd);\r\n\r\n    const dateFormat = \"d\";\r\n    const rows = [];\r\n    let days = [];\r\n    let day = startDate;\r\n    let formattedDate = \"\";\r\n\r\n    while (day <= endDate) {\r\n      for (let i = 0; i < 7; i++) {\r\n        formattedDate = format(day, dateFormat);\r\n        const cloneDay = day;\r\n        days.push(\r\n          <div\r\n            className={`col cell outline ${\r\n              !isSameMonth(day, monthStart)\r\n                ? !choosedDayMonth\r\n                  ? \"disabled\"\r\n                  : \"disabledOpacity\"\r\n                : isSameDay(day, selectedDate)\r\n                ? \"selected\"\r\n                : \"\"\r\n            }`}\r\n            style={\r\n              format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n              format(addDays(startDate, i), \"E\") === \"Sun\"\r\n                ? isSameMonth(day, monthStart)\r\n                  ? { color: \"#f86262\", height: \"50px\" }\r\n                  : { height: \"50px\" }\r\n                : { height: \"50px\" }\r\n            }\r\n            key={day}\r\n            onClick={e => {\r\n              !e.target.classList.contains(\"disabled\") &&\r\n                !e.target.classList.contains(\"disabledOpacity\") &&\r\n                !e.target.classList.contains(\"numberDisabled\") &&\r\n                onDateClick(cloneDay, e);\r\n            }}\r\n          >\r\n            <span\r\n              className={\r\n                !isSameMonth(day, monthStart)\r\n                  ? \"number numberDisabled\"\r\n                  : \"number\"\r\n              }\r\n            >\r\n              {formattedDate}\r\n            </span>\r\n          </div>\r\n        );\r\n        day = addDays(day, 1);\r\n      }\r\n      rows.push(\r\n        <div\r\n          className=\"row animationRow\"\r\n          key={day}\r\n          style={{ height: \"50px\", overflow: \"hidden\" }}\r\n        >\r\n          {days}\r\n          <div className=\"calendarDayDescription\">\r\n            <p>{format(selectedDate, \"EEEE d MMMM yyyy\", { locale: ru })} г.</p>\r\n          </div>\r\n        </div>\r\n      );\r\n      days = [];\r\n    }\r\n    return <div className=\"body\">{rows}</div>;\r\n  };\r\n\r\n  const nextMonth = () => {\r\n    setCurrentMonth(addMonths(currentMonth, 1));\r\n  };\r\n  const prevMonth = () => {\r\n    setCurrentMonth(subMonths(currentMonth, 1));\r\n  };\r\n\r\n  // ==================IOS START======================\r\n  //ALL MONTHS\r\n  let yearStart = startOfYear(currentYear);\r\n  const monthsOfYear = [];\r\n  for (let i = 0; i < 12; i++) {\r\n    monthsOfYear.push(yearStart);\r\n    yearStart = addMonths(yearStart, 1);\r\n  }\r\n\r\n  const nextIosYear = () => {\r\n    setCurrentYear(addYears(currentYear, 1));\r\n  };\r\n  const prevIosYear = () => {\r\n    setCurrentYear(subYears(currentYear, 1));\r\n  };\r\n\r\n  const renderIosHeader = () => {\r\n    const dateFormat = \"yyyy\";\r\n    return (\r\n      <div className=\"headerIos rowIos \">\r\n        <div className=\"\">\r\n          <div className=\"icon\" onClick={prevIosYear}>\r\n            chevron_left\r\n          </div>\r\n        </div>\r\n        <div className=\"headerIosYear\">\r\n          <span>{format(currentYear, dateFormat, { locale: ru })}</span>\r\n        </div>\r\n        <div className=\"\" onClick={nextIosYear}>\r\n          <div className=\"icon\">chevron_right</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderIosCells = el => {\r\n    const monthStart = startOfMonth(el);\r\n    const monthEnd = endOfMonth(monthStart);\r\n    const startDate = startOfWeek(monthStart, { weekStartsOn: 1 });\r\n    const endDate = endOfWeek(monthEnd);\r\n\r\n    const clickOnMonth = () => {\r\n      setCurrentMonth(el);\r\n\r\n      const iosCalendar = document.getElementsByClassName(\"iosCalendar\")[0];\r\n      const bigCalendarWrap = document.getElementsByClassName(\r\n        \"bigCalendarWrap\"\r\n      )[0];\r\n\r\n      iosCalendar.style.opacity = \"0\";\r\n      iosCalendar.style.zIndex = 0;\r\n\r\n      bigCalendarWrap.style.opacity = \"1\";\r\n      bigCalendarWrap.style.display = \"block\";\r\n      bigCalendarWrap.style.zIndex = 1;\r\n\r\n      setShowTopFixedBloc(true);\r\n\r\n      setTimeout(() => {\r\n        document\r\n          .getElementById(format(el, \"MMMM\"))\r\n          .scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n        window.scrollTo(0, window.pageYOffset);\r\n      }, 500);\r\n    };\r\n\r\n    const dateFormat = \"d\";\r\n    const rows = [];\r\n    let days = [];\r\n    let day = startDate;\r\n    let formattedDate = \"\";\r\n    while (day <= endDate) {\r\n      for (let i = 0; i < 7; i++) {\r\n        formattedDate = format(day, dateFormat);\r\n        days.push(\r\n          <div\r\n            className={`col cellIos ${\r\n              !isSameMonth(day, monthStart)\r\n                ? \"disabledIos\"\r\n                : isSameDay(day, selectedDate)\r\n                ? \"selectedIos\"\r\n                : \"\"\r\n            }`}\r\n            style={{\r\n              height: \"18px\",\r\n              fontSize: \"10px\"\r\n            }}\r\n            key={day}\r\n          >\r\n            <span\r\n              className=\"number\"\r\n              style={\r\n                format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n                format(addDays(startDate, i), \"E\") === \"Sun\"\r\n                  ? { color: \"#999\", display: \"flex\", alignSelf: \"center\" }\r\n                  : { display: \"flex\", alignSelf: \"center\" }\r\n              }\r\n            >\r\n              {formattedDate}\r\n            </span>\r\n          </div>\r\n        );\r\n        day = addDays(day, 1);\r\n      }\r\n      rows.push(\r\n        <div className=\"rowIos\" key={day}>\r\n          {days}\r\n        </div>\r\n      );\r\n      days = [];\r\n    }\r\n    return (\r\n      <div\r\n        className=\"iosCalendarWrap\"\r\n        onClick={e => {\r\n          clickOnMonth();\r\n        }}\r\n      >\r\n        <p\r\n          className=\"iosMonth\"\r\n          style={\r\n            isSameMonth(el, new Date())\r\n              ? { color: \"rgb(248, 98, 98)\" }\r\n              : { color: \"black\" }\r\n          }\r\n        >\r\n          {format(el, \"MMMM\", { locale: ru })}\r\n        </p>\r\n        <div className=\"body\">{rows}</div>\r\n      </div>\r\n    );\r\n  };\r\n  // ==================IOS END====================\r\n\r\n  return (\r\n    <div className=\"calendar\" style={{ border: \"none\" }}>\r\n      <div className=\"iosCalendar\">\r\n        {renderIosHeader()}\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            flexWrap: \"wrap\",\r\n            margin: \"5px\",\r\n            background: \"#fff\"\r\n          }}\r\n        >\r\n          {monthsOfYear.map((el, i) => {\r\n            return (\r\n              <div className=\"animationCalendarBlock\" key={i}>\r\n                {renderIosCells(el)}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <div>\r\n        {\r\n          <div\r\n            className={\r\n              showTopFixedBlock ? \"fixedBlocksShow\" : \"fixedBlocksHide\"\r\n            }\r\n          >\r\n            <p\r\n              className=\"topArrowWrap\"\r\n              onClick={e => {\r\n                if (!choosedDayMonth) {\r\n                  // CLICK по    < 2020 >\r\n                  const iosCalendar = document.getElementsByClassName(\r\n                    \"iosCalendar\"\r\n                  )[0];\r\n                  const bigCalendarWrap = document.getElementsByClassName(\r\n                    \"bigCalendarWrap\"\r\n                  )[0];\r\n                  setShowTopFixedBloc(false);\r\n\r\n                  iosCalendar.style.opacity = \"1\";\r\n                  iosCalendar.style.zIndex = 1;\r\n\r\n                  bigCalendarWrap.style.opacity = \"0\";\r\n                  bigCalendarWrap.style.display = \"none\";\r\n                } else {\r\n                  // CLICK по    < январь 2020\r\n                  document.body.style.overflow = \"auto\";\r\n\r\n                  const animationMonthCalendar = document.getElementsByClassName(\r\n                    \"animationMonthCalendar\"\r\n                  );\r\n\r\n                  const curCalendarId = document.getElementById(\r\n                    format(selectedDate, \"MMMM\")\r\n                  );\r\n                  const calendarBody = curCalendarId.querySelector(\".body\");\r\n                  const animationRows = calendarBody.querySelectorAll(\r\n                    \".animationRow\"\r\n                  );\r\n\r\n                  for (let j = 0; j < 12; j++) {\r\n                    if (animationRows[j]) {\r\n                      animationRows[j].style.height = \"50px\";\r\n                    }\r\n                  }\r\n                  setChoosedDayMonth(false);\r\n\r\n                  setTimeout(() => {\r\n                    for (let i = 0; i < 12; i++) {\r\n                      animationMonthCalendar[i].style.display = \"block\";\r\n                      animationMonthCalendar[i].style.marginTop = 10 + \"px\";\r\n                      if (i === 0) {\r\n                        animationMonthCalendar[i].style.marginTop = 100 + \"px\";\r\n                      }\r\n                    }\r\n                    document\r\n                      .getElementById(format(selectedDate, \"MMMM\"))\r\n                      .scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n                  }, 400);\r\n                }\r\n              }}\r\n            >\r\n              <span className=\"topArrowCalendar\">\r\n                <span>{choosedDayMonth || format(currentYear, \"yyyy\")}</span>\r\n              </span>\r\n            </p>\r\n            {renderDays()}\r\n          </div>\r\n        }\r\n        <div className={`bigCalendarWrap`}>\r\n          {monthsOfYear.map((el, i) => {\r\n            return (\r\n              <div\r\n                key={i}\r\n                id={format(el, \"MMMM\")}\r\n                className=\"animationMonthCalendar\"\r\n                style={\r\n                  ({ margin: \"10px\" },\r\n                  +format(el, \"M\") === 1\r\n                    ? { marginTop: \"100px\" }\r\n                    : { marginTop: \"10px\" })\r\n                }\r\n              >\r\n                {renderHeader(el)}\r\n                {renderCells(el)}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calendar;\r\n","import React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\nimport { CookiesProvider } from \"react-cookie\";\n\nimport Home from \"./pages/home/Home\";\nimport Map from \"./pages/map/Map\";\nimport Company from \"./pages/company/Company\";\nimport Login from \"./pages/auth/Login\";\nimport EditCompany from \"./pages/editCompany/EditCompany\";\nimport Registration from \"./pages/auth/Registration\";\nimport Admin from \"./pages/admin/Admin\";\nimport Calendar from \"./components/calendar/Calendar\";\n\nimport \"./App.css\";\n\nconst customHistory = createBrowserHistory();\n\nconst App = () => {\n  return (\n    <BrowserRouter history={customHistory}>\n      <CookiesProvider>\n        <div className=\"App\">\n          <Switch>\n            <Route exact path=\"/home/:type?\" component={Home} />\n            <Route path=\"/map\" component={Map} />\n            <Route path=\"/company/:id\" component={Company} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/registration\" component={Registration} />\n            <Route path=\"/admin/:id\" component={Admin} />\n            <Route path=\"/calendar\" component={Calendar} />\n            <Route path=\"/editCompany\" component={EditCompany} />\n            <Redirect to=\"/home\" />\n          </Switch>\n        </div>\n      </CookiesProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}