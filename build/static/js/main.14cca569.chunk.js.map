{"version":3,"sources":["constants.js","query.js","components/customImg/CustomImg.js","components/companyNav/CompanyNav.js","components/typeNav/TypeNav.js","calculateTime.js","getDistance.js","components/smallCompanyBlock/SmallCompanyBlock.js","components/smallCompanyBlock/ClearedBlock.js","components/slideSideMenu/SlideSideMenu.js","components/bottomMenu/BottomMenu.js","components/burger/Burger.js","components/header/Header.js","components/footer/Footer.js","pages/home/Home.js","components/loader/Loader.js","components/googleMap/GoogleMapStyles.js","pages/map/Map.js","components/googleMap/GoogleMap.js","components/popup/Popup.js","components/videoPlayer/VideoPlayer.js","pages/company/Company.js","pages/auth/Login.js","pages/editCompany/EditCompany.js","pages/auth/Registration.js","pages/admin/Sidebar.js","pages/admin/Stream.js","pages/admin/StreamMobile.js","pages/admin/TimePicker.js","pages/admin/DatePickerPopup.js","pages/admin/GoogleMapPopup.js","pages/admin/DescriptionPopup.js","pages/admin/CropperMobile.js","pages/admin/UploadFilePopup.js","pages/admin/ChooseTypePopup.js","pages/admin/LeftMenu.js","pages/admin/Admin.js","components/calendar/Calendar.js","App.js","serviceWorker.js","index.js"],"names":["API_KEY","SHORT_DAY_OF_WEEK","EN_SHORT_TO_RU_LONG","Mon","Tue","Wed","Thu","Fri","Sat","Sun","EN_SHORT_TO_NUMBER","EN_SHORT_TO_RU_LONG_V_P","EN_SHORT_TO_RU_SHORT","EN_SHORT_DAY_OF_WEEK","day","queryPath","QUERY","body","origin_data","Promise","resolve","fetch","method","mode","JSON","stringify","headers","Authorization","SpriteWrap","styled","div","SpriteImg","img","frame","CustomImg","name","className","alt","active","width","height","onMouseEnter","onMouseOut","onClick","style","src","process","CutScroll","CompanyNavStyle","CompanyNavLink","Link","CompanyNavBtn","CustomImgStyle","AllText","p","CompNavText","CompanyNav","clickedType","currentPage","toSlideFixedNav","useState","sessionStorage","getItem","parse","uniqueCompanyType","setUniqueCompanyType","isDown","setIsDown","startX","setStartX","scrollLeft","setScrollLeft","clickedTypeLocal","setClickedTypeLocal","hoveredBtn","setHoveredBtn","slideBtnMenu","useRef","supportsTouch","document","documentElement","smoothscroll","polyfill","useEffect","length","setItem","isClickedAllBtn","isClickedTypeBtn","query","then","res","json","data","categories","catch","err","console","log","querySelectorAll","forEach","el","i","getAttribute","btnPositionToCenter","current","offsetWidth","offsetLeft","scrollTo","left","SwipeFixedElSpring","useSpring","config","duration","btnClick","e","id","preventDefault","currentTarget","behavior","scrollBtnToCenter","as","animated","ref","onMouseDown","pageX","mouseDownEvent","onMouseLeave","onMouseUp","onMouseMove","walk","mouseMoveEvent","backgroundColor","color","to","map","slideBtn","React","createRef","data-name","key","background","onMouseOver","borderRadius","slug","numberDayYest","TypeNavStyle","Block","clickedStyle","TypeNav","pathname","window","location","numberDayNow","Date","getDay","dayNameYest","dayNameNow","currentTimeMS","getHours","getMinutes","curDay","SetNewTimeObject","timeObject","ind","isShowStreamNow","item","setShowStream","setNextStreamTime","see_you_tomorrow","streams","yesterdayStream","todayStream","schedules","startYesterdayStreamMS","start_time","split","endYesterdayStreamMS","end_time","startTodayStreamMS","endTodayStreamMS","STobject","sortedArr","push","isSetTime","todayStartStream","isWorkTimeNow","setWorkTime","setIsWork","yesterdayWorkTime","todayWorkTime","setNextWorkTime","endYesterdayMS","startYesterdayMS","endTodayMS","startTodayMS","streamWillBeToday","deg2rad","deg","Math","PI","getDistanceFromLatLonInKm","lat1","lon1","lat2","lon2","dLat","dLon","a","sin","cos","atan2","sqrt","SmallCompBlock","Desctop","PreviewBlockD","NoTranslationD","bg","TransparentBgD","DescriptionD","TopDescriptionBlockD","IconToCenter","HoverTooltip","CustomImgStyleD","CompanyNameD","MiddleDescriptionBlockD","WorkTimeWrapD","CircleD","isWork","IsOpenedD","LocationWrapD","LocationStyleD","span","TooltipTypeD","Mobile","PreviewBlockM","NoTranslationM","TransparentBgM","DescriptionM","TopDescriptionBlockM","CustomImgStyleM","CompanyNameM","DistanceM","BottomDescriptionBlockM","WorkTimeDistanceWrapM","CircleRowM","IsOpenedM","blik","keyframes","FilmCircleWrap","CircleTranslation","SmallCompanyBlock","isLocation","showStream","workTime","curDistance","setCurDistance","nextStreamTime","nextWorkTime","ismobileStream","setIsmobileStream","date","dataArr","join","toNewDateFormat","toLocaleDateString","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","coordinates","whenWillBeTranslation","toLowerCase","whenWillBeOpen","toUpperCase","slice","locationAddress","address","replace","backgroundUrl","isShowStream","noTranslationBg","profile_image","isWorkText","dayWhenWillBeOpen","timeWhenWillBeOpen","backgroundImage","preview","marginLeft","marginTop","previousSibling","opacity","mouseEnter","mouseOut","toFixed","ClearedBlock","SideMenuWrap","shomMenu","SideMenu","SideMenuList","ul","ListLink","SlideSideMenu","isShowMenu","setShowMenu","useCookies","cookies","removeCookie","setTimeout","SwipeMenuSpring","right","clicked","Number","origin_id","errors","BottomMenuStyle","border","MenuText","Button","BottomMenu","swipeFixedElementSpring","BurgerStyle","BurgerLine","ActiveBurger","ActiveBurgerLine","Burger","showSlideSideMenu","showSideMenu","HeaderContainer","HeaderStyle","PartyLive","Live","GoBackArrow","RightHeaderMenu","HeaderBTN","props","Header","burger","arrow","logo","history","useHistory","goBack","FooterContainer","Footer","HomeContentWrap","NavContainer","HomeContent","Home","DATA","setDATA","setIsLocation","typeId","setTypeId","hasMorePages","setHasMorePages","lastItem","setLastItem","setTotal","howMachLoad","setHowMachLoad","setShowSlideSideMenu","setIsShowMenu","hideSideMenu","overflow","loadContent","isFirst","searchString","places","paginatorInfo","total","loadContentDebounce","useCallback","debounce","onresize","SwipePageSpring","findLocation","scrollHandler","target","scrollHeight","scrollTop","innerHeight","prev","addEventListener","removeEventListener","minHeight","hide","Array","fill","LoaderWrap","Roller","anim","Roll","Loader","styles","featureType","elementType","stylers","lightness","visibility","weight","saturation","invert_lightness","gamma","Marker","children","createMapOptions","NavContainerMap","MapContainer","YouAreHere","ClusterMarker","MarkerArrow","MarkerWrapp","MarkerInner","PreviewBlock","TranslationBlock","NoTranslation","TransparentBg","MarkerDesc","MarkerName","BottomMarkerText","IsOpened","Row","Circle","Opened","MapComponent","mapRef","markers","setMarkers","zoom","setZoom","bounds","setBounds","isLoading","setIsLoading","mouseMapCoordinates","setMouseMapCoordinates","referrer","setReferrer","currentCenterOfMap","setCurrentCenterOfMap","defaultCenter","setDefaultCenter","gMapDefaultCenter","setGMapDefaultCenter","dateNow","reverse","points","filter","disabled","type","properties","cluster","crimeId","category","geometry","clusters","useSupercluster","options","radius","maxZoom","center","lat","lng","mouseDownHandler","clientX","clientY","mouseUpHandler","zIndex","bootstrapURLKeys","defaultZoom","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","onChange","nw","se","onChangeMap","dancerClick","isCluster","pointCount","point_count","cluster_id","streamTime","time","bool","isStartTime","streamNotTodayText","streamTodayText","closed","isWillOpen","willOpen","whenWillOpen","markerMouseDown","markerMouseUp","onTouchStart","nativeEvent","changedTouches","onTouchEnd","mobile_stream","display","MapHeader","MapHeaderBtn","CloseBTN","MapContainerStyle","PointPosition","MyMap","Map","AutocompleteWrap","BtnWrap","SaveBtn","CancelBtn","GoogleApiWrapper","apiKey","language","LoadingContainer","google","togglePopupGoogleMap","initialCenterMap","chooseNewAddress","isNewAddress","styleContainerMap","closeBtn","initialCenter","streetName","setStreetName","latLng","setLatLng","toCenter","setToCenter","companyGeolocation","setCompanyGeolocation","dencerPosition","setDencerPosition","geocoder","maps","Geocoder","getLatLngFromStreet","street","fromInput","geocode","results","status","GeocoderStatus","OK","save","gestureHandling","scrollwheel","onDragend","mapProps","getStreetFromLatLng","formatted_address","zoomControl","mapTypeControl","scaleControl","streetViewControl","panControl","rotateControl","fullscreenControl","title","icon","url","scaledSize","position","visible","onSelect","place","description","placeholder","initialValue","PopupInner","Show","Show760","PopupStyle","Popup","togglePopup","wrpaStyle","includes","click","VideoError","Wrap","VideoPlayer","autoplay","muted","isVideoErr","setIsVideoErr","videoRef","video","poster","fluid","sources","error","GoBackBtnD","GoBackBtnArrowD","CompanyD","FlexD","ShadowBlockD","VideoBlockD","YesVideoD","NoVideoD","NoVideoBgTransparentD","VideoDescrD","VideoDescrNameD","DescD","TopDescriptionD","DescNameD","h3","CompanyTypeRowD","CustomImgTypeD","CompanyTypeD","RowWithImageD","RowWithImageTextD","RowWithImageLeftTextD","RowWithImageRightTextD","SmallMapD","CompanyM","FlexM","ShadowBlockM","VideoBlockM","YesVideoM","NoVideoM","NoVideoBgTransparentM","DescM","NameRowM","WithIconBlockM","DescIconsColumnM","DescNoIconsColumnM","NameM","CompanyTypeM","CustomImgTypeM","OpenedToM","CircleM","SmallMapWrapM","SmallMapM","SmallMapLocationM","SmallMapTransparentBg","Company","showPopup","setShowPopap","match","params","mouseDownMapHandler","mouseUpMapHandler","whenIsTranslation","updateIsMobileStreaming","ok","setInterval","GoogleMap","GoBackBtn","GoBackBtnArrow","AuthBlock","HeadTitle","AuthBlockWrap","AuthForm","form","AuthInput","input","AuthSubmitBtn","AuthForgetSubmitBtn","Question","ErrorField","Login","isLogin","setIsLogin","email","setEmail","password","setPassword","isForgetPass","setIsForgetPass","allValidationError","setAllValidationError","loginRef","setCookie","userLogin","boxShadow","login","access_token","user","hideMenu","onSubmit","loginClick","autocomplete","value","EditCompanyContent","HeaderText","NewCompany","Table","table","Tr","tr","Td","td","TdDelete","TdDisable","NameLink","PopupQuestion","PopupBtnsWrap","Yes","No","EditCompany","setPlaces","showPopupIsDelete","setShowPopupIsDelete","clickedDeleteBtnName","setClickedDeleteBtnName","clickedDeleteBtnId","setClickedDeleteBtnId","togglePopupIsDelete","refreshData","alias","deleteOne","toggleDisabled","createPlace","padding","SuccessText","Registration","setName","rePassword","setRePassword","isSuccess","setIsSuccess","oneValidationError","setOneValidationError","register","nameFirstErrInput","Object","keys","animateProps","registrationClick","extensions","validation","tokens","DisableStreamD","DisableStreamToNexDayD","DisableStreamTextD","StreamBlock","H3","VideoWrap","ChooseStreamAddress","CameraAddressWrapper","CameraAddresLable","StreamAddress","ChooseStreamAddressSaveBtn","CancelBtnProfile","Stream","index","switchChecked","setSwitchChecked","streamAddressData","setStreamAddressData","isStream","streamAddressPlaceholder","toLocaleLowerCase","videoPreview","videoPreviewUrl","updateStream","dataString","indexOf","disableStream","checked","onColor","offColor","uncheckedIcon","checkedIcon","onInput","marginRight","HeaderWrap","CancelSave","AdminMenuTitleM","DisableStreamM","DisableStreamTextM","DisableStreamToNexDayM","StreamMobile","closeAllSidebar","TPName","TP","TPHoursMinutesWrap","TPHoursMinutes","TopArrow","BottomArrow","TwoDots","TimePicker","timePickerName","setTime","realTimeInPicker","hours","setHours","minutes","setMinutes","clickHandlerTop","max","nextSibling","innerText","clickHandlerBottom","MobileTimePickerHeader","Title","TimePickerContainer","MakeAsDayOffMobile","PopupPickerBtnsWrap","PopupPickerBtn","Save","Cancel","DatePickerPopup","togglePopupDatePicker","windowWidth","titleInPicker","setAsDayOf","startRealTimeInPicker","isSetWorkTimeDPick","isEmptyTime","enumWeekName","endRealTimeInPicker","clickedTime","tomorrowFromDay","startTimePicker","setStartTimePicker","endTimePicker","setEndTimePicker","setWorkTimeOfOneDay","setStreamTimeOfOneDay","firstName","secondName","alignItems","transform","h","m","GoogleMapPopup","stringLatLng","DescTextareaM","textarea","DescLengthM","descOfCompany","descOfCompanyLimit","Ready","DescriptionPopup","togglePopupDescription","setDescOfCompany","maxLength","CropperMobile","imgSrc","editorRef","count","setCount","mc","Hammer","getElementById","get","set","enable","on","ev","scale","innerWidth","margin","image","UploadFilePopup","togglePopupUploadFile","setImgSrc","uploadImageTranscode","acceptedFileTypes","imageMaxSize","handleOnDrop","canvas","getImage","toDataURL","blob","onCrop","multiple","accept","maxSize","onDrop","acceptedFiles","rejectedFiles","getRootProps","getInputProps","CategoryBtn","ChooseTypePopup","togglePopupChooseType","setTypeOfCompany","setTypeOfCompanyId","typeOfCompanyId","typeOfCompany","renderCustomTypeImg","getBtnStyle","top","getBtnImg","LeftAdminBtnD","li","AdminImgWrapD","LeftMenu","setLeftMenuSettings","newArr","class","altImg","AdminStyle","AdminWrapper","LeftAdminMenuD","GoBack","LeftAdminMenuInnerD","AdminContentD","ProfileTitleD","ProfileTitleH3D","ProfileTitleNameD","ProfileContentD","CropWrapperD","PreviewPhotoTextD","PreviewPhotoD","doNotHoverBorder","ImgContainerD","CanvasImageD","DescriptionWrapD","LengthofDescriptionD","DayOffDotD","PreviewPhotoM","AddressM","Admin","showPopupDatePicker","setShowPopapDatePicker","showPopupGoogleMap","setShowPopapGoogleMap","showPopupDescription","setShowPopapDescription","showPopupChooseType","setShowPopapChooseType","showPopupUploadFile","setShowPopapUploadFile","setStartRealTimeInPicker","setEndRealTimeInPicker","setIsEmptyTime","setEnumWeekName","setIsSetWorkTimeDPick","setClickedTime","nameOfCompany","setNameOfCompany","aliasOfCompany","setAliasOfCompany","setTitleInPicker","isSuccessSave","setIsSuccessSave","setWindowWidth","whatPickerWillShow","leftMenuSettings","updatePlaceData","updateOrRemoveUploadImage","handeleClearToDefault","operations","variables","file","formData","FormData","append","0","imageDestination","axios","placeImage","imagePreviewCanvas","acceptedFileTypesArray","trim","imageElementRef","setImageDestination","cropper","Cropper","zoomable","scalable","dragMode","aspectRatio","rotatable","movableL","modal","imageSmoothingEnabled","crop","getCroppedCanvas","toBlob","verifyFile","files","currentFile","currentFileType","size","alert","myFileItemReader","FileReader","onloadend","theFile","Image","result","myResult","readAsDataURL","isWorkTimeOrDayOff","oneDay","isSetAsDayOff","animateSavedProps","bottom","validationErr","setValidationErr","checkValidationError","streamOpen","setStreamOpen","profileOpen","setPprofileOpen","workScheduleOpen","setWorkScheduleOpen","streamScheduleOpen","setStreamScheduleOpen","autosize","querySelector","paddingLeft","flexDirection","fontWeight","fontSize","pattern","isOpen","pageWrapId","outerContainerId","borderBottom","justifyContent","letterSpacing","paddingTop","ru","localize","month","buildLocalizeFn","values","narrow","abbreviated","wide","defaultWidth","defaultFormattingWidth","Calendar","currentMonth","setCurrentMonth","selectedDate","setSelectedDate","currentYear","setCurrentYear","showTopFixedBlock","setShowTopFixedBloc","choosedDayMonth","setChoosedDayMonth","onDateClick","currentRow","closest","currentCalendar","animationMonthCalendar","getElementsByClassName","animationRows","format","j","getWeekOfMonth","weekStartsOn","locale","nextMonth","addMonths","prevMonth","subMonths","yearStart","startOfYear","monthsOfYear","nextIosYear","addYears","prevIosYear","subYears","renderIosCells","monthStart","startOfMonth","monthEnd","endOfMonth","startDate","startOfWeek","endDate","endOfWeek","rows","days","formattedDate","isSameMonth","isSameDay","addDays","alignSelf","iosCalendar","bigCalendarWrap","scrollIntoView","block","pageYOffset","clickOnMonth","flexWrap","renderDays","allMonths","cloneDay","classList","contains","renderCells","customHistory","createBrowserHistory","App","CookiesProvider","exact","path","component","Boolean","hostname","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.14cca569.chunk.js","sourcesContent":["export const API_KEY = \"AIzaSyAZQdg3dPHXD5Bt-Dgi85wNHG5G_MXpR7g\";\r\n\r\nexport const DAY_OF_WEEK = [\r\n  \"Понедельник\",\r\n  \"Вторник\",\r\n  \"Среда\",\r\n  \"Четверг\",\r\n  \"Пятница\",\r\n  \"Суббота\",\r\n  \"Воскресенье\",\r\n];\r\n\r\nexport const SHORT_DAY_OF_WEEK = [\"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\", \"Вс\"];\r\n\r\nexport const EN_SHORT_TO_RU_LONG = {\r\n  Mon: \"понедельник\",\r\n  Tue: \"вторник\",\r\n  Wed: \"среда\",\r\n  Thu: \"четверг\",\r\n  Fri: \"пятница\",\r\n  Sat: \"суббота\",\r\n  Sun: \"воскресенье\",\r\n};\r\n\r\nexport const EN_SHORT_TO_NUMBER = {\r\n  Mon: 0,\r\n  Tue: 1,\r\n  Wed: 2,\r\n  Thu: 3,\r\n  Fri: 4,\r\n  Sat: 5,\r\n  Sun: 6,\r\n};\r\n\r\nexport const EN_SHORT_TO_RU_LONG_V_P = {\r\n  Mon: \"понедельник\",\r\n  Tue: \"вторник\",\r\n  Wed: \"среду\",\r\n  Thu: \"четверг\",\r\n  Fri: \"пятницу\",\r\n  Sat: \"субботу\",\r\n  Sun: \"воскресенье\",\r\n};\r\n\r\nexport const EN_SHORT_TO_RU_SHORT = {\r\n  Mon: \"Пн\",\r\n  Tue: \"Вт\",\r\n  Wed: \"Ср\",\r\n  Thu: \"Чт\",\r\n  Fri: \"Пт\",\r\n  Sat: \"Сб\",\r\n  Sun: \"Вс\",\r\n};\r\n\r\nexport const EN_SHORT_DAY_OF_WEEK = [\r\n  {\r\n    day: \"Mon\",\r\n  },\r\n  {\r\n    day: \"Tue\",\r\n  },\r\n  {\r\n    day: \"Wed\",\r\n  },\r\n  {\r\n    day: \"Thu\",\r\n  },\r\n  {\r\n    day: \"Fri\",\r\n  },\r\n  {\r\n    day: \"Sat\",\r\n  },\r\n  {\r\n    day: \"Sun\",\r\n  },\r\n];\r\n\r\nexport const defaultColor = \"#f8104d\";\r\n\r\n// export const queryPath = \"http://partyliveLocal\";\r\nexport const queryPath = \"https://backend.partylive.by\";\r\n","import { queryPath } from \"./constants\";\r\n\r\nconst QUERY = (body, origin_data) => {\r\n  return Promise.resolve(\r\n    fetch(`${queryPath}/graphql`, {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      body: JSON.stringify(body),\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"https://backend.partylive.by\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: origin_data ? \"Bearer \" + origin_data : \"\",\r\n      },\r\n    })\r\n  );\r\n};\r\n\r\nexport default QUERY;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst SpriteWrap = styled.div`\r\n  width: 30px;\r\n  height: 40px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  margin-right: 5px;\r\n  @media (max-width: 760px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst SpriteImg = styled.img`\r\n  position: absolute;\r\n  top: 5px;\r\n  left: ${({ frame }) => (frame === 1 ? \"-30px\" : \" 0px\")};\r\n`;\r\n\r\nconst CustomImg = ({\r\n  name,\r\n  className,\r\n  alt,\r\n  active,\r\n  width,\r\n  height,\r\n  onMouseEnter,\r\n  onMouseOut,\r\n  onClick,\r\n  style,\r\n  frame,\r\n}) => {\r\n  return frame ? (\r\n    <SpriteWrap>\r\n      <SpriteImg\r\n        alt={alt}\r\n        src={`${process.env.PUBLIC_URL}/img/${name}.png`}\r\n        width=\"60\"\r\n        height=\"30\"\r\n        frame={frame}\r\n      />\r\n    </SpriteWrap>\r\n  ) : (\r\n    <img\r\n      onMouseEnter={onMouseEnter}\r\n      onMouseOut={onMouseOut}\r\n      onClick={onClick}\r\n      alt={alt}\r\n      className={className}\r\n      src={\r\n        active\r\n          ? `${process.env.PUBLIC_URL}/img/${name}_w.png`\r\n          : `${process.env.PUBLIC_URL}/img/${name}.png`\r\n      }\r\n      width={width}\r\n      height={height}\r\n      style={style}\r\n    />\r\n  );\r\n};\r\n\r\nexport default CustomImg;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport smoothscroll from \"smoothscroll-polyfill\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport styled from \"styled-components\";\r\n\r\nimport QUERY from \"../../query\";\r\nimport CustomImg from \"../customImg/CustomImg\";\r\nimport { defaultColor } from \"../../constants\";\r\n\r\nimport \"./companyNav.css\";\r\n\r\nconst CutScroll = styled.div`\r\n  overflow: hidden;\r\n  width: 100%;\r\n  @media (max-width: 760px) {\r\n    position: fixed;\r\n    overflow: hidden;\r\n    z-index: 2;\r\n    top: 48px;\r\n    width: 100%;\r\n    height: 60px;\r\n    background-color: #eef1f6;\r\n    -webkit-overflow-scrolling: touch;\r\n  }\r\n`;\r\n\r\nconst CompanyNavStyle = styled.div`\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  width: calc(100% - 150px);\r\n  @media (max-width: 760px) {\r\n    overflow-x: scroll;\r\n    overflow-y: hidden;\r\n    -webkit-box-align: center;\r\n    -ms-flex-align: center;\r\n    align-items: center;\r\n    white-space: nowrap;\r\n    height: 80px;\r\n    width: 100%;\r\n    -webkit-overflow-scrolling: touch;\r\n    display: flex;\r\n    align-items: center;\r\n    &:active {\r\n      cursor: grabbing;\r\n    }\r\n  }\r\n  @media screen and (max-device-width: 760px) {\r\n    padding-bottom: 17px;\r\n  }\r\n`;\r\n\r\nconst CompanyNavLink = styled(Link)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  @media (max-width: 760px) {\r\n    &:active {\r\n      cursor: grabbing;\r\n    }\r\n  }\r\n`;\r\n\r\nconst CompanyNavBtn = styled.div`\r\n  z-index: 1;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  background-color: #fff;\r\n  display: flex;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-box-direction: normal;\r\n  -ms-flex-direction: column;\r\n  flex-direction: column;\r\n  -webkit-box-pack: center;\r\n  -ms-flex-pack: center;\r\n  justify-content: center;\r\n  -webkit-box-align: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n  min-width: 110px;\r\n  max-width: 150px;\r\n  height: 54px;\r\n  border: 2px solid #c4c4c4;\r\n  cursor: pointer;\r\n  border-right: none;\r\n  transition: 0.2s ease all;\r\n  &:hover {\r\n    background-color: ${defaultColor};\r\n  }\r\n  &:hover ${CompanyNavLink} {\r\n    color: #fff;\r\n  }\r\n  &:last-of-type {\r\n    border-right: 2px solid #c4c4c4;\r\n    border-radius: 0 5px 5px 0;\r\n  }\r\n  &:first-of-type {\r\n    border-radius: 5px 0 0 5px;\r\n  }\r\n  @media (max-width: 760px) {\r\n    min-width: 75px;\r\n    height: 30px;\r\n    background: #ffffff;\r\n    border: 1px solid #e5e5e5;\r\n    -webkit-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    border-radius: 10px;\r\n    margin-right: 0px;\r\n    padding-bottom: 2px;\r\n    margin-left: 10px;\r\n    &:active {\r\n      cursor: grabbing;\r\n    }\r\n    &:last-of-type {\r\n      border-right: none;\r\n      border-radius: 10px;\r\n    }\r\n    &:first-of-type {\r\n      border-radius: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst CustomImgStyle = styled(CustomImg)`\r\n  margin-right: 7px;\r\n  @media (max-width: 760px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst AllText = styled.p`\r\n  font-weight: 700;\r\n  font-size: 13px;\r\n  text-transform: uppercase;\r\n  @media (max-width: 760px) {\r\n    text-transform: none;\r\n    font-style: normal;\r\n    font-weight: 400 !important;\r\n    font-size: 12px;\r\n    letter-spacing: 0.05em;\r\n    padding-top: 2px;\r\n  }\r\n`;\r\n\r\nconst CompNavText = styled.p`\r\n  margin-top: 3px;\r\n  font-size: 13px;\r\n  font-weight: 700;\r\n  line-height: 12px;\r\n  text-transform: uppercase;\r\n  @media (max-width: 760px) {\r\n    text-transform: none;\r\n    font-style: normal;\r\n    font-weight: 400 !important;\r\n    font-size: 12px;\r\n    letter-spacing: 0.05em;\r\n    &:active {\r\n      cursor: grabbing;\r\n    }\r\n  }\r\n`;\r\n\r\nconst CompanyNav = ({ style, clickedType, currentPage, toSlideFixedNav }) => {\r\n  const [uniqueCompanyType, setUniqueCompanyType] = useState(\r\n      sessionStorage.getItem(\"uniqueCompanyType\")\r\n        ? JSON.parse(sessionStorage.getItem(\"uniqueCompanyType\"))\r\n        : []\r\n    ),\r\n    [isDown, setIsDown] = useState(false),\r\n    [startX, setStartX] = useState(),\r\n    [scrollLeft, setScrollLeft] = useState(),\r\n    [clickedTypeLocal, setClickedTypeLocal] = useState(),\r\n    [hoveredBtn, setHoveredBtn] = useState();\r\n\r\n  const slideBtnMenu = useRef(null);\r\n\r\n  const supportsTouch = \"ontouchstart\" in document.documentElement;\r\n  smoothscroll.polyfill();\r\n\r\n  useEffect(() => {\r\n    if (\r\n      uniqueCompanyType &&\r\n      uniqueCompanyType.length &&\r\n      !sessionStorage.getItem(\"uniqueCompanyType\")\r\n    ) {\r\n      sessionStorage.setItem(\r\n        \"uniqueCompanyType\",\r\n        JSON.stringify(uniqueCompanyType)\r\n      );\r\n    }\r\n  }, [uniqueCompanyType]);\r\n\r\n  const scrollBtnToCenter = (e) => {\r\n      e && e.preventDefault();\r\n      const btnPositionToCenter =\r\n        slideBtnMenu.current.offsetWidth / 2 -\r\n        (e.currentTarget.offsetLeft -\r\n          slideBtnMenu.current.scrollLeft +\r\n          e.currentTarget.offsetWidth / 2);\r\n\r\n      slideBtnMenu.current.scrollTo({\r\n        left: slideBtnMenu.current.scrollLeft - btnPositionToCenter,\r\n        behavior: \"smooth\",\r\n      });\r\n    },\r\n    scrollAllBtnToCenter = () => {\r\n      slideBtnMenu.current.scrollTo({\r\n        left: 0,\r\n        behavior: \"smooth\",\r\n      });\r\n    },\r\n    firstScrollBtnToCenter = () => {\r\n      if (sessionStorage.getItem(\"uniqueCompanyType\")) {\r\n        document.querySelectorAll(\".companyNavBtn\").forEach((el, i) => {\r\n          if (isClickedTypeBtn(el.getAttribute(\"data-name\"))) {\r\n            const btnPositionToCenter =\r\n              slideBtnMenu.current.offsetWidth / 2 -\r\n              (el.offsetLeft -\r\n                slideBtnMenu.current.scrollLeft +\r\n                el.offsetWidth / 2);\r\n\r\n            slideBtnMenu.current.scrollTo({\r\n              left: slideBtnMenu.current.scrollLeft - btnPositionToCenter,\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    isClickedAllBtn = () =>\r\n      !clickedTypeLocal && !sessionStorage.getItem(\"filter_type\"),\r\n    isClickedTypeBtn = (name) => {\r\n      if (sessionStorage.getItem(\"filter_type\") === name) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {categories {id name slug}}`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setUniqueCompanyType(\r\n          sessionStorage.getItem(\"uniqueCompanyType\")\r\n            ? JSON.parse(sessionStorage.getItem(\"uniqueCompanyType\"))\r\n            : data.data.categories\r\n        );\r\n      })\r\n      .catch((err) => console.log(err, \"  ERR\"));\r\n\r\n    firstScrollBtnToCenter();\r\n  }, []);\r\n\r\n  const SwipeFixedElSpring = useSpring({\r\n    left: toSlideFixedNav ? -200 : 0,\r\n    config: {\r\n      duration: 200,\r\n    },\r\n  });\r\n\r\n  const mouseDownEvent = (e) => {\r\n      setIsDown(true);\r\n      setStartX(e.pageX - slideBtnMenu.current.offsetLeft);\r\n      setScrollLeft(slideBtnMenu.current.scrollLeft);\r\n    },\r\n    mouseMoveEvent = (e) => {\r\n      if (!isDown) return;\r\n      e.preventDefault();\r\n      const x = e.pageX - slideBtnMenu.current.offsetLeft;\r\n      const walk = (x - startX) * 2;\r\n      slideBtnMenu.current.scrollLeft = scrollLeft - walk;\r\n    },\r\n    btnClick = (e, el) => {\r\n      if (e && el) {\r\n        sessionStorage.setItem(\"filter_type\", el.name);\r\n        sessionStorage.setItem(\"filter_id\", el.id);\r\n        clickedType(el.id);\r\n        setClickedTypeLocal(el.name);\r\n        scrollBtnToCenter(e);\r\n      } else {\r\n        sessionStorage.setItem(\"filter_type\", \"\");\r\n        sessionStorage.setItem(\"filter_id\", \"\");\r\n        clickedType();\r\n        setClickedTypeLocal();\r\n        scrollAllBtnToCenter();\r\n      }\r\n    };\r\n\r\n  return (\r\n    <CutScroll\r\n      as={animated.div}\r\n      style={{\r\n        ...style,\r\n        ...SwipeFixedElSpring,\r\n      }}\r\n    >\r\n      <CompanyNavStyle\r\n        ref={slideBtnMenu}\r\n        onMouseDown={(e) => !supportsTouch && mouseDownEvent(e)}\r\n        onMouseLeave={() => !supportsTouch && setIsDown(false)}\r\n        onMouseUp={() => !supportsTouch && setIsDown(false)}\r\n        onMouseMove={(e) => !supportsTouch && mouseMoveEvent(e)}\r\n      >\r\n        <CompanyNavBtn\r\n          className=\"companyNavBtn\"\r\n          style={isClickedAllBtn() ? { backgroundColor: defaultColor } : {}}\r\n          onClick={() => btnClick()}\r\n        >\r\n          <CompanyNavLink\r\n            style={isClickedAllBtn() ? { color: \"#fff\" } : {}}\r\n            to={currentPage}\r\n          >\r\n            <AllText>Все</AllText>\r\n          </CompanyNavLink>\r\n        </CompanyNavBtn>\r\n        {uniqueCompanyType.map((el, i) => {\r\n          const slideBtn = React.createRef();\r\n          return (\r\n            <CompanyNavBtn\r\n              className=\"companyNavBtn\"\r\n              data-name={el.name}\r\n              key={i}\r\n              ref={slideBtn}\r\n              style={\r\n                isClickedTypeBtn(el.name) ? { background: defaultColor } : {}\r\n              }\r\n              onClick={(e) => btnClick(e, el)}\r\n              onMouseOver={() => setHoveredBtn(el.name)}\r\n              onMouseOut={() => setHoveredBtn(\"\")}\r\n            >\r\n              <CompanyNavLink\r\n                style={\r\n                  isClickedTypeBtn(el.name)\r\n                    ? {\r\n                        color: \"#fff\",\r\n                        borderRadius: \"10px\",\r\n                      }\r\n                    : {}\r\n                }\r\n                to={currentPage}\r\n              >\r\n                {isClickedTypeBtn(el.name) ? (\r\n                  <CustomImgStyle\r\n                    alt={el.slug + \"Sprite\"}\r\n                    name={el.slug + \"Sprite\"}\r\n                    frame={1}\r\n                  />\r\n                ) : hoveredBtn === el.name ? (\r\n                  <CustomImgStyle\r\n                    alt={el.slug + \"Sprite\"}\r\n                    name={el.slug + \"Sprite\"}\r\n                    frame={1}\r\n                  />\r\n                ) : (\r\n                  <CustomImgStyle\r\n                    alt={el.slug + \"Sprite\"}\r\n                    name={el.slug + \"Sprite\"}\r\n                    frame={2}\r\n                  />\r\n                )}\r\n                <CompNavText>{el.name}</CompNavText>\r\n              </CompanyNavLink>\r\n            </CompanyNavBtn>\r\n          );\r\n        })}\r\n      </CompanyNavStyle>\r\n    </CutScroll>\r\n  );\r\n};\r\n\r\nexport default CompanyNav;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { defaultColor } from \"../../constants\";\r\n\r\nconst TypeNavStyle = styled.div`\r\n  height: 70px;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  flex-direction: row;\r\n  @media (max-width: 760px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst Block = styled(Link)`\r\n  background-color: #fff;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 110px;\r\n  height: 54px;\r\n  border: 2px solid #c4c4c4;\r\n  border-right: none;\r\n  cursor: pointer;\r\n  transition: 0.5s ease all;\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n  text-decoration: none;\r\n  color: #000;\r\n  &:last-of-type {\r\n    border-right: 2px solid #c4c4c4;\r\n    border-radius: 0 5px 5px 0;\r\n  }\r\n  &:first-of-type {\r\n    border-radius: 5px 0 0 5px;\r\n  }\r\n  &:hover {\r\n    color: #fff;\r\n    background: ${defaultColor};\r\n  }\r\n`;\r\n\r\nconst clickedStyle = {\r\n  color: \"#fff\",\r\n  background: defaultColor,\r\n};\r\n\r\nconst TypeNav = ({ style }) => {\r\n  const pathname = window.location.pathname;\r\n  return (\r\n    <TypeNavStyle style={{ ...style }}>\r\n      <Block\r\n        to={{ pathname: \"/\" }}\r\n        style={pathname === \"/\" ? clickedStyle : {}}\r\n      >\r\n        <p>СПИСОК </p>\r\n      </Block>\r\n      <Block\r\n        to={{\r\n          pathname: \"/map\",\r\n        }}\r\n        style={pathname === \"/map\" ? clickedStyle : {}}\r\n      >\r\n        <p>КАРТА</p>\r\n      </Block>\r\n    </TypeNavStyle>\r\n  );\r\n};\r\n\r\nexport default TypeNav;\r\n","import { EN_SHORT_DAY_OF_WEEK } from \"./constants\";\r\nexport const numberDayNow =\r\n  new Date().getDay() === 0 ? 6 : new Date().getDay() - 1;\r\nlet numberDayYest;\r\n\r\nif (new Date().getDay() === 0) {\r\n  numberDayYest = 5;\r\n} else if (new Date().getDay() === 1) {\r\n  numberDayYest = 6;\r\n} else {\r\n  numberDayYest = new Date().getDay() - 2;\r\n}\r\n\r\nconst dayNameYest = EN_SHORT_DAY_OF_WEEK[numberDayYest].day,\r\n  dayNameNow = EN_SHORT_DAY_OF_WEEK[numberDayNow].day,\r\n  HtoMs = 3600000,\r\n  MtoMs = 60000,\r\n  currentTimeMS =\r\n    new Date().getHours() * HtoMs + new Date().getMinutes() * MtoMs,\r\n  curDay = EN_SHORT_DAY_OF_WEEK[numberDayNow].day;\r\n\r\nconst SetNewTimeObject = (data) => {\r\n  const timeObject = {};\r\n  EN_SHORT_DAY_OF_WEEK.forEach((e, i) => {\r\n    data.forEach((el, ind) => {\r\n      if (!timeObject[e.day]) {\r\n        timeObject[e.day] = \"Пусто\";\r\n      }\r\n      if (el.day) {\r\n        timeObject[el.day] = el;\r\n      }\r\n    });\r\n  });\r\n  return timeObject;\r\n};\r\n\r\nexport const isShowStreamNow = (\r\n  item,\r\n  setShowStream,\r\n  setNextStreamTime,\r\n  see_you_tomorrow\r\n) => {\r\n  if (item.streams[0]) {\r\n    let yesterdayStream, todayStream;\r\n\r\n    item.streams[0].schedules.forEach((el) => {\r\n      if (dayNameYest === el.day) {\r\n        yesterdayStream = el;\r\n      }\r\n      if (dayNameNow === el.day) {\r\n        todayStream = el;\r\n      }\r\n    });\r\n\r\n    const startYesterdayStreamMS =\r\n        yesterdayStream &&\r\n        yesterdayStream.start_time.split(\":\")[0] * HtoMs +\r\n          yesterdayStream.start_time.split(\":\")[1] * MtoMs,\r\n      endYesterdayStreamMS =\r\n        yesterdayStream &&\r\n        yesterdayStream.end_time.split(\":\")[0] * HtoMs +\r\n          yesterdayStream.end_time.split(\":\")[1] * MtoMs,\r\n      startTodayStreamMS =\r\n        todayStream &&\r\n        todayStream.start_time.split(\":\")[0] * HtoMs +\r\n          todayStream.start_time.split(\":\")[1] * MtoMs,\r\n      endTodayStreamMS =\r\n        todayStream &&\r\n        todayStream.end_time.split(\":\")[0] * HtoMs +\r\n          todayStream.end_time.split(\":\")[1] * MtoMs;\r\n\r\n    if (\r\n      startYesterdayStreamMS > endYesterdayStreamMS &&\r\n      endYesterdayStreamMS > currentTimeMS &&\r\n      !see_you_tomorrow\r\n    ) {\r\n      // идет видео за вчерашний день ещe\r\n      setShowStream(true);\r\n    } else if (\r\n      startTodayStreamMS >= endTodayStreamMS &&\r\n      currentTimeMS >= startTodayStreamMS &&\r\n      !see_you_tomorrow\r\n    ) {\r\n      // если видео началось сегодня и закончилось завтра\r\n      setShowStream(true);\r\n    } else if (\r\n      startTodayStreamMS < endTodayStreamMS &&\r\n      currentTimeMS > startTodayStreamMS &&\r\n      currentTimeMS < endTodayStreamMS &&\r\n      !see_you_tomorrow\r\n    ) {\r\n      // началось и закончилось сегодня\r\n      setShowStream(true);\r\n    } else {\r\n      setShowStream(false);\r\n\r\n      const STobject = SetNewTimeObject(item.streams[0].schedules),\r\n        sortedArr = [];\r\n\r\n      EN_SHORT_DAY_OF_WEEK.forEach((el, i) => {\r\n        sortedArr.push(STobject[el.day]);\r\n      });\r\n      let isSetTime = false;\r\n\r\n      for (let i = 0; i < sortedArr.length; i++) {\r\n        const streamWillBeToday = sortedArr[i] && sortedArr[i].day === curDay;\r\n        if (streamWillBeToday) {\r\n          const todayStartStream =\r\n            sortedArr[i].start_time.split(\":\")[0] * HtoMs +\r\n            sortedArr[i].start_time.split(\":\")[1] * MtoMs;\r\n          if (currentTimeMS < todayStartStream) {\r\n            setNextStreamTime({\r\n              id: item.id,\r\n              day: \"сегодня\",\r\n              start_time: sortedArr[i].start_time,\r\n            });\r\n            isSetTime = true;\r\n          }\r\n        }\r\n      }\r\n      if (!isSetTime) {\r\n        for (let i = 0; i < sortedArr.length; i++) {\r\n          if (sortedArr[i] && i > numberDayNow) {\r\n            if (sortedArr[i].start_time) {\r\n              setNextStreamTime({\r\n                id: item.id,\r\n                day: sortedArr[i].day,\r\n                start_time: sortedArr[i].start_time,\r\n              });\r\n\r\n              isSetTime = true;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (!isSetTime) {\r\n        for (let i = 0; i < sortedArr.length; i++) {\r\n          if (sortedArr[i] && i < numberDayNow) {\r\n            if (sortedArr[i].start_time) {\r\n              setNextStreamTime({\r\n                id: item.id,\r\n                day: sortedArr[i].day,\r\n                start_time: sortedArr[i].start_time,\r\n              });\r\n              isSetTime = true;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport const isWorkTimeNow = (\r\n  item,\r\n  setWorkTime,\r\n  setIsWork,\r\n  setNextWorkTime = () => {}\r\n) => {\r\n  let yesterdayWorkTime, todayWorkTime;\r\n\r\n  item.schedules.forEach((el) => {\r\n    if (dayNameYest === el.day) {\r\n      yesterdayWorkTime = el;\r\n    }\r\n    if (dayNameNow === el.day) {\r\n      todayWorkTime = el;\r\n    }\r\n  });\r\n\r\n  const endYesterdayMS =\r\n      yesterdayWorkTime &&\r\n      yesterdayWorkTime.end_time.split(\":\")[0] * HtoMs +\r\n        yesterdayWorkTime.end_time.split(\":\")[1] * MtoMs,\r\n    startYesterdayMS =\r\n      yesterdayWorkTime &&\r\n      yesterdayWorkTime.start_time.split(\":\")[0] * HtoMs +\r\n        yesterdayWorkTime.start_time.split(\":\")[1] * MtoMs,\r\n    endTodayMS =\r\n      todayWorkTime &&\r\n      todayWorkTime.end_time.split(\":\")[0] * HtoMs +\r\n        todayWorkTime.end_time.split(\":\")[1] * MtoMs,\r\n    startTodayMS =\r\n      todayWorkTime &&\r\n      todayWorkTime.start_time.split(\":\")[0] * HtoMs +\r\n        todayWorkTime.start_time.split(\":\")[1] * MtoMs;\r\n\r\n  if (startYesterdayMS > endYesterdayMS && endYesterdayMS > currentTimeMS) {\r\n    // идет работа за вчерашний день ещe\r\n    setIsWork(true);\r\n    setWorkTime(\r\n      yesterdayWorkTime &&\r\n        yesterdayWorkTime.start_time.split(\":\")[0] +\r\n          \":\" +\r\n          yesterdayWorkTime.start_time.split(\":\")[1] +\r\n          \"-\" +\r\n          yesterdayWorkTime.end_time.split(\":\")[0] +\r\n          \":\" +\r\n          yesterdayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  } else if (startTodayMS > endTodayMS && currentTimeMS > startTodayMS) {\r\n    // если работа началось сегодня и закончилось завтра\r\n    setIsWork(true);\r\n    setWorkTime(\r\n      todayWorkTime &&\r\n        todayWorkTime.start_time.split(\":\")[0] +\r\n          \":\" +\r\n          todayWorkTime.start_time.split(\":\")[1] +\r\n          \"-\" +\r\n          todayWorkTime.end_time.split(\":\")[0] +\r\n          \":\" +\r\n          todayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  } else if (\r\n    startTodayMS < endTodayMS &&\r\n    currentTimeMS > startTodayMS &&\r\n    currentTimeMS < endTodayMS\r\n  ) {\r\n    // началось и закончилось сегодня\r\n    setIsWork(true);\r\n    setWorkTime(\r\n      todayWorkTime &&\r\n        todayWorkTime.start_time.split(\":\")[0] +\r\n          \":\" +\r\n          todayWorkTime.start_time.split(\":\")[1] +\r\n          \"-\" +\r\n          todayWorkTime.end_time.split(\":\")[0] +\r\n          \":\" +\r\n          todayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  } else {\r\n    setIsWork(false);\r\n    setWorkTime(\r\n      todayWorkTime &&\r\n        todayWorkTime.start_time.split(\":\")[0] +\r\n          \":\" +\r\n          todayWorkTime.start_time.split(\":\")[1] +\r\n          \"-\" +\r\n          todayWorkTime.end_time.split(\":\")[0] +\r\n          \":\" +\r\n          todayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n\r\n    const STobject = SetNewTimeObject(item.schedules),\r\n      sortedArr = [];\r\n    EN_SHORT_DAY_OF_WEEK.forEach((el, i) => {\r\n      sortedArr.push(STobject[el.day]);\r\n    });\r\n\r\n    let isSetTime = false;\r\n    for (let i = 0; i < sortedArr.length; i++) {\r\n      const streamWillBeToday = sortedArr[i] && sortedArr[i].day === curDay;\r\n      if (streamWillBeToday) {\r\n        const todayStartStream =\r\n          sortedArr[i].start_time.split(\":\")[0] * HtoMs +\r\n          sortedArr[i].start_time.split(\":\")[1] * MtoMs;\r\n        if (currentTimeMS < todayStartStream) {\r\n          setNextWorkTime({\r\n            day: \"сегодня\",\r\n            start_time: sortedArr[i].start_time,\r\n            end_time: sortedArr[i].end_time,\r\n          });\r\n\r\n          isSetTime = true;\r\n        }\r\n      }\r\n    }\r\n    if (!isSetTime) {\r\n      for (let i = 0; i < sortedArr.length; i++) {\r\n        if (sortedArr[i] && i > numberDayNow) {\r\n          if (sortedArr[i].start_time) {\r\n            setNextWorkTime({\r\n              day: sortedArr[i].day,\r\n              start_time: sortedArr[i].start_time,\r\n              end_time: sortedArr[i].end_time,\r\n            });\r\n\r\n            isSetTime = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (!isSetTime) {\r\n      for (let i = 0; i < sortedArr.length; i++) {\r\n        if (sortedArr[i] && i < numberDayNow) {\r\n          if (sortedArr[i].start_time) {\r\n            setNextWorkTime({\r\n              day: sortedArr[i].day,\r\n              start_time: sortedArr[i].start_time,\r\n              end_time: sortedArr[i].end_time,\r\n            });\r\n            isSetTime = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n","const deg2rad = (deg) => deg * (Math.PI / 180);\r\n\r\nexport const getDistanceFromLatLonInKm = (lat1, lon1, lat2, lon2) => {\r\n  const R = 6371,\r\n    dLat = deg2rad(lat2 - lat1),\r\n    dLon = deg2rad(lon2 - lon1),\r\n    a =\r\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n      Math.cos(deg2rad(lat1)) *\r\n        Math.cos(deg2rad(lat2)) *\r\n        Math.sin(dLon / 2) *\r\n        Math.sin(dLon / 2),\r\n    c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)),\r\n    d = R * c;\r\n  return d;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CustomImg from \"../customImg/CustomImg\";\r\n\r\nimport {\r\n  EN_SHORT_TO_RU_LONG_V_P,\r\n  queryPath,\r\n  EN_SHORT_TO_RU_LONG,\r\n} from \"../../constants\";\r\nimport { isShowStreamNow, isWorkTimeNow } from \"../../calculateTime\";\r\nimport { getDistanceFromLatLonInKm } from \"../../getDistance\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport { defaultColor } from \"../../constants\";\r\n\r\nconst SmallCompBlock = styled(Link)`\r\n  width: 240px;\r\n  height: 240px;\r\n  border-radius: 10px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-color: #fff;\r\n  transition: 0.3s ease opacity;\r\n  border: 1px solid #f3f3f3;\r\n  box-shadow: 4px 4px 4px #e5e5e5;\r\n  margin: 6px;\r\n  margin-left: 0;\r\n  &:hover {\r\n    opacity: 0.9;\r\n  }\r\n  &:nth-child(2n + 2) {\r\n    margin-left: 6px;\r\n    margin-right: 12px;\r\n  }\r\n\r\n  &:nth-child(4n + 4) {\r\n    margin: 6px;\r\n    margin-right: 0;\r\n  }\r\n  /* &:nth-child(3n + 3) {\r\n    margin: 6px;\r\n    box-shadow: 10px 10px 10px blue;\r\n  } */\r\n  @media (max-width: 760px) {\r\n    height: 235px;\r\n    margin: 5px;\r\n    margin-left: 5px;\r\n    margin-right: 5px;\r\n    width: calc(33% - 10px);\r\n    border-radius: 5px;\r\n    &:nth-child(2n + 2) {\r\n      margin-left: 5px;\r\n      margin-right: 5px;\r\n    }\r\n\r\n    &:nth-child(4n + 4) {\r\n      margin: 5px;\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n  @media (max-width: 650px) {\r\n    width: calc(50% - 10px);\r\n  }\r\n  @media (max-width: 375px) {\r\n    height: 205px;\r\n  }\r\n`;\r\n\r\nconst Desctop = styled.div`\r\n  display: block;\r\n  @media (max-width: 760px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst PreviewBlockD = styled.div`\r\n  border-radius: 10px 10px 0 0;\r\n  overflow: hidden;\r\n  height: 150px;\r\n  background: #000;\r\n  background-size: cover;\r\n  background-position: center;\r\n`;\r\n\r\nconst NoTranslationD = styled.div`\r\n  border-radius: 10px 10px 0 0;\r\n  overflow: hidden;\r\n  height: 150px;\r\n  font-weight: 400;\r\n  font-size: 18px;\r\n  line-height: 19px;\r\n  color: #eee;\r\n  background: #000;\r\n  background-image: url(${({ bg }) => bg});\r\n  background-size: cover;\r\n  background-position: center;\r\n`;\r\nconst TransparentBgD = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n  padding: 15px;\r\n  position: relative;\r\n  width: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n`;\r\n\r\nconst DescriptionD = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  padding: 10px;\r\n`;\r\n\r\nconst TopDescriptionBlockD = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  position: relative;\r\n`;\r\n\r\nconst IconToCenter = styled.div`\r\n  width: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-right: 5px;\r\n`;\r\n\r\nconst HoverTooltip = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: transparent;\r\n`;\r\n\r\nconst CustomImgStyleD = styled(CustomImg)``;\r\n\r\nconst CompanyNameD = styled.p`\r\n  color: #000;\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  line-height: 21px;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst MiddleDescriptionBlockD = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  margin-top: 5px;\r\n`;\r\n\r\nconst WorkTimeWrapD = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst CircleD = styled.div`\r\n  width: 7px;\r\n  height: 7px;\r\n  background: ${({ isWork }) => (isWork ? \"#04b000\" : \" #C4C4C4\")};\r\n  border-radius: 50%;\r\n`;\r\n\r\nconst IsOpenedD = styled.p`\r\n  font-weight: normal;\r\n  font-size: 14px;\r\n  color: #000;\r\n  line-height: 16px;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  @media (max-width: 460px) {\r\n    font-size: 13px;\r\n  }\r\n`;\r\n\r\nconst LocationWrapD = styled.div`\r\n  display: flex;\r\n  font-weight: normal;\r\n  font-size: 14px;\r\n  line-height: 16px;\r\n  letter-spacing: 0.5px;\r\n  color: #000;\r\n  padding-top: 7px;\r\n\r\n  @media (max-width: 460px) {\r\n    font-size: 13px;\r\n  }\r\n`;\r\n\r\nconst LocationStyleD = styled.span`\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  position: relative;\r\n`;\r\n\r\nconst TooltipTypeD = styled.div`\r\n  transition: 0.3s ease all;\r\n  padding: 5px;\r\n  background: #ff0960;\r\n  border-radius: 5px;\r\n  position: absolute;\r\n  font-weight: bold;\r\n  font-size: 10px;\r\n  line-height: 12px;\r\n  top: -15px;\r\n  left: 5px;\r\n  letter-spacing: 0.05em;\r\n  color: #ffffff;\r\n  text-transform: uppercase;\r\n  opacity: 0;\r\n`;\r\n\r\nconst Mobile = styled.div`\r\n  display: none;\r\n  @media (max-width: 760px) {\r\n    display: block;\r\n  }\r\n`;\r\n\r\nconst PreviewBlockM = styled.div`\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  height: 175px;\r\n  background: #000;\r\n  background-size: cover;\r\n  background-position: center;\r\n  @media (max-width: 375px) {\r\n    height: 150px;\r\n  }\r\n`;\r\n\r\nconst NoTranslationM = styled.div`\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  height: 175px;\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n  line-height: 19px;\r\n  color: #eee;\r\n  background: #000;\r\n  background-image: url(${({ bg }) => bg});\r\n  background-size: cover;\r\n  background-position: center;\r\n  @media (max-width: 375px) {\r\n    height: 150px;\r\n  }\r\n`;\r\nconst TransparentBgM = styled.div`\r\n  line-height: 23px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n  padding: 15px;\r\n  position: relative;\r\n  width: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  flex-direction: column;\r\n`;\r\n\r\nconst DescriptionM = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  padding: 5px;\r\n`;\r\n\r\nconst TopDescriptionBlockM = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n`;\r\n\r\nconst CustomImgStyleM = styled(CustomImg)``;\r\n\r\nconst CompanyNameM = styled.p`\r\n  color: #363636;\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  line-height: 25px;\r\n  letter-spacing: 0.5px;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst DistanceM = styled.p`\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  letter-spacing: 0.5px;\r\n  color: ${defaultColor};\r\n  line-height: 23px;\r\n  white-space: nowrap;\r\n`;\r\n\r\nconst BottomDescriptionBlockM = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst WorkTimeDistanceWrapM = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex: 1;\r\n  align-items: center;\r\n  overflow: hidden;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst CircleRowM = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst IsOpenedM = styled.p`\r\n  font-weight: normal;\r\n  font-size: 14px;\r\n  color: #000;\r\n  line-height: 16px;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst blik = keyframes`\r\n  0% {\r\n   opacity:1;\r\n  }\r\n  50% {\r\n    opacity:0;\r\n  }\r\n  100% {\r\n   opacity:1;\r\n  }\r\n`;\r\n\r\nconst FilmCircleWrap = styled.span`\r\n  display: flex;\r\n  align-items: \"center\";\r\n`;\r\n\r\nconst CircleTranslation = styled.span`\r\n  display: inline-block;\r\n  width: 10px;\r\n  height: 10px;\r\n  background-color: #ff0000;\r\n  border-radius: 50%;\r\n  margin-top: 9px;\r\n  animation: ${blik} 1s ease infinite;\r\n`;\r\n\r\nconst SmallCompanyBlock = ({ item, isLocation }) => {\r\n  const [showStream, setShowStream] = useState(false),\r\n    [workTime, setWorkTime] = useState(false),\r\n    [isWork, setIsWork] = useState(false),\r\n    [curDistance, setCurDistance] = useState(null),\r\n    [nextStreamTime, setNextStreamTime] = useState(false),\r\n    [nextWorkTime, setNextWorkTime] = useState(null),\r\n    [ismobileStream, setIsmobileStream] = useState(false);\r\n\r\n  const toNewDateFormat = (date) => {\r\n    const dataArr = date.split(\"/\");\r\n    if (dataArr[0].length < 2) dataArr[0] = \"0\" + dataArr[0];\r\n    const dataArrNew = [dataArr[2], dataArr[0], dataArr[1]],\r\n      dataString = dataArrNew.join(\"-\");\r\n\r\n    return dataString;\r\n  };\r\n\r\n  useEffect(() => {\r\n    isShowStreamNow(\r\n      item,\r\n      setShowStream,\r\n      setNextStreamTime,\r\n      item.streams[0] &&\r\n        toNewDateFormat(new Date().toLocaleDateString()) ===\r\n          item.streams[0].see_you_tomorrow\r\n    );\r\n    isWorkTimeNow(item, setWorkTime, setIsWork, setNextWorkTime);\r\n  }, [item]);\r\n\r\n  const findLocation = () => {\r\n    if (isLocation) {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(\r\n          (pos) => {\r\n            setCurDistance(\r\n              getDistanceFromLatLonInKm(\r\n                pos.coords.latitude,\r\n                pos.coords.longitude,\r\n                item.coordinates.split(\",\")[0],\r\n                item.coordinates.split(\",\")[1]\r\n              )\r\n            );\r\n          },\r\n          (err) => {\r\n            console.log(err, \"Ошибка геолокации\");\r\n          }\r\n        );\r\n      } else {\r\n        console.log(\"Геолокация недоступна\");\r\n      }\r\n    }\r\n  };\r\n\r\n  findLocation();\r\n\r\n  const whenWillBeTranslation = () => {\r\n    if (\r\n      nextStreamTime.start_time &&\r\n      nextStreamTime.day.toLowerCase() !== \"сегодня\"\r\n    ) {\r\n      return \"\";\r\n      // \"Начало трансляции: \" +\r\n      // EN_SHORT_TO_RU_LONG_V_P[nextStreamTime.day] +\r\n      // \" в \" +\r\n      // nextStreamTime.start_time\r\n    } else if (\r\n      nextStreamTime.start_time &&\r\n      nextStreamTime.day.toLowerCase() === \"сегодня\"\r\n    ) {\r\n      return \"\";\r\n      // \"Начало трансляции: сегодня в \" + nextStreamTime.start_time;\r\n    } else if (!nextStreamTime.start_time) {\r\n      return \"\";\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsmobileStream(false);\r\n  }, []);\r\n\r\n  // const updateIsMobileStreaming = () => {\r\n  //   fetch(`https://partylivestream.web4net.ru:8080/hls/show/${item.id}.m3u8`)\r\n  //     .then((res) => setIsmobileStream(false))\r\n  //     .catch(() => setIsmobileStream(false));\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //   updateIsMobileStreaming();\r\n  // }, []);\r\n\r\n  // setInterval(() => {\r\n  //   updateIsMobileStreaming();\r\n  // }, 10000);\r\n\r\n  const mouseEnter = (e) => (e.currentTarget.previousSibling.style.opacity = 1),\r\n    mouseOut = (e) => (e.currentTarget.previousSibling.style.opacity = 0);\r\n\r\n  const whenWillBeOpen =\r\n      nextWorkTime && nextWorkTime.start_time\r\n        ? `${\r\n            nextWorkTime.day.toLowerCase() !== \"сегодня\"\r\n              ? EN_SHORT_TO_RU_LONG[nextWorkTime.day][0].toUpperCase() +\r\n                EN_SHORT_TO_RU_LONG[nextWorkTime.day].slice(1)\r\n              : nextWorkTime.day\r\n          }: ${nextWorkTime.start_time}-${nextWorkTime.end_time}`\r\n        : \"Закрыто\",\r\n    locationAddress =\r\n      item.address &&\r\n      item.address\r\n        .split(\",\")[0]\r\n        .replace(\"улица\", \"ул.\")\r\n        .replace(\"проспект\", \"пр-т.\"),\r\n    backgroundUrl = `url(https://partylivestream.web4net.ru:8080/hls/show/${item.id}.jpeg)`,\r\n    isShowStream = item.streams && item.streams[0] && showStream,\r\n    noTranslationBg = item.profile_image\r\n      ? `${queryPath}/storage/` + item.profile_image.replace(\".png\", \".jpg\")\r\n      : \"\",\r\n    isWorkText = nextWorkTime\r\n      ? isWork\r\n        ? whenWillBeTranslation()\r\n        : \"Откроется:\"\r\n      : isWork\r\n      ? whenWillBeTranslation()\r\n      : \"Закрыто\",\r\n    dayWhenWillBeOpen =\r\n      nextWorkTime && nextWorkTime.start_time\r\n        ? `${\r\n            nextWorkTime.day.toLowerCase() !== \"сегодня\"\r\n              ? EN_SHORT_TO_RU_LONG[nextWorkTime.day]\r\n              : nextWorkTime.day\r\n          }`\r\n        : \"\",\r\n    timeWhenWillBeOpen =\r\n      nextWorkTime &&\r\n      nextWorkTime.start_time &&\r\n      nextWorkTime.start_time + \"-\" + nextWorkTime.end_time;\r\n\r\n  return (\r\n    <SmallCompBlock to={{ pathname: `/company/${item.id}` }}>\r\n      <Desctop>\r\n        {!ismobileStream ? (\r\n          isShowStream ? (\r\n            <PreviewBlockD\r\n              style={{ backgroundImage: `url(${item.streams[0].preview})` }}\r\n            >\r\n              <FilmCircleWrap>\r\n                {!!item.streams.length && (\r\n                  <CustomImgStyleD\r\n                    alt=\"Icon\"\r\n                    name={\"film\"}\r\n                    style={{ marginLeft: \"7px\", marginTop: \"4px\" }}\r\n                  />\r\n                )}\r\n                {isShowStream && <CircleTranslation />}\r\n              </FilmCircleWrap>\r\n            </PreviewBlockD>\r\n          ) : (\r\n            <NoTranslationD\r\n              bg={\r\n                item.profile_image\r\n                  ? `${queryPath}/storage/` +\r\n                    item.profile_image.replace(\".png\", \".jpg\")\r\n                  : \"\"\r\n              }\r\n            >\r\n              <FilmCircleWrap>\r\n                {!!item.streams && !!item.streams.length && (\r\n                  <CustomImgStyleD\r\n                    alt=\"Icon\"\r\n                    name={\"film\"}\r\n                    style={{ marginLeft: \"10px\", marginTop: \"5px\" }}\r\n                  />\r\n                )}\r\n                {isShowStream && <CircleTranslation />}\r\n              </FilmCircleWrap>\r\n              {!isWork && (\r\n                <TransparentBgD>{whenWillBeTranslation()}</TransparentBgD>\r\n              )}\r\n            </NoTranslationD>\r\n          )\r\n        ) : (\r\n          <PreviewBlockD\r\n            style={{\r\n              backgroundImage: backgroundUrl,\r\n            }}\r\n          />\r\n        )}\r\n        <DescriptionD>\r\n          <TooltipTypeD>\r\n            {item.categories[0] && item.categories[0].name}\r\n          </TooltipTypeD>\r\n          <TopDescriptionBlockD\r\n            onMouseEnter={(e) => mouseEnter(e)}\r\n            onMouseOut={(e) => mouseOut(e)}\r\n          >\r\n            <HoverTooltip />\r\n            <IconToCenter>\r\n              {item.categories[0] && (\r\n                <CustomImgStyleD\r\n                  alt=\"Icon\"\r\n                  name={item.categories[0].slug}\r\n                  width=\"20\"\r\n                  height=\"20\"\r\n                />\r\n              )}\r\n            </IconToCenter>\r\n            <CompanyNameD>{item.name}</CompanyNameD>\r\n          </TopDescriptionBlockD>\r\n          <MiddleDescriptionBlockD>\r\n            <WorkTimeWrapD>\r\n              {isWork ? (\r\n                <>\r\n                  <IconToCenter>\r\n                    <CircleD isWork={isWork} />\r\n                  </IconToCenter>\r\n                  <IsOpenedD>Открыто до {workTime.split(\"-\")[1]}</IsOpenedD>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <IconToCenter>\r\n                    <CircleD isWork={isWork} />\r\n                  </IconToCenter>\r\n                  <IsOpenedD>{whenWillBeOpen}</IsOpenedD>\r\n                </>\r\n              )}\r\n            </WorkTimeWrapD>\r\n          </MiddleDescriptionBlockD>\r\n          <LocationWrapD>\r\n            <IconToCenter>\r\n              <CustomImgStyleD\r\n                alt=\"Icon\"\r\n                name={\"location\"}\r\n                width=\"16\"\r\n                height=\"16\"\r\n              />\r\n            </IconToCenter>\r\n            <LocationStyleD>{locationAddress}</LocationStyleD>\r\n          </LocationWrapD>\r\n        </DescriptionD>\r\n      </Desctop>\r\n      <Mobile>\r\n        {!ismobileStream ? (\r\n          isShowStream && isWork ? (\r\n            <PreviewBlockM\r\n              style={{ backgroundImage: `url(${item.streams[0].preview})` }}\r\n            />\r\n          ) : (\r\n            <NoTranslationM bg={noTranslationBg}>\r\n              <TransparentBgM>\r\n                {isWorkText}\r\n                <p>\r\n                  {dayWhenWillBeOpen}\r\n                  {nextWorkTime && nextWorkTime.start_time && <br />}\r\n                  {timeWhenWillBeOpen}\r\n                </p>\r\n              </TransparentBgM>\r\n            </NoTranslationM>\r\n          )\r\n        ) : (\r\n          <PreviewBlockM\r\n            style={{\r\n              backgroundImage: backgroundUrl,\r\n            }}\r\n          />\r\n        )}\r\n        <DescriptionM>\r\n          <TopDescriptionBlockM>\r\n            <IconToCenter>\r\n              {item.categories[0] && (\r\n                <CustomImgStyleM\r\n                  alt=\"Icon\"\r\n                  name={item.categories[0] && item.categories[0].slug}\r\n                  width=\"20\"\r\n                  height=\"20\"\r\n                />\r\n              )}\r\n            </IconToCenter>\r\n            <CompanyNameM>{item.name}</CompanyNameM>\r\n          </TopDescriptionBlockM>\r\n\r\n          <BottomDescriptionBlockM>\r\n            <WorkTimeDistanceWrapM>\r\n              <CircleRowM>\r\n                <IconToCenter>\r\n                  <CircleD isWork={isWork} />\r\n                </IconToCenter>\r\n                {isWork ? (\r\n                  <IsOpenedM>До {workTime.split(\"-\")[1]}</IsOpenedM>\r\n                ) : (\r\n                  <IsOpenedM>Закрыто</IsOpenedM>\r\n                )}\r\n              </CircleRowM>\r\n\r\n              <DistanceM>\r\n                {curDistance && curDistance.toFixed(2) + \"km\"}\r\n              </DistanceM>\r\n            </WorkTimeDistanceWrapM>\r\n          </BottomDescriptionBlockM>\r\n        </DescriptionM>\r\n      </Mobile>\r\n    </SmallCompBlock>\r\n  );\r\n};\r\n\r\nexport default SmallCompanyBlock;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst SmallCompBlock = styled.div`\r\n    width: 240px;\r\n    height: 240px;\r\n    border-radius: 10px;\r\n    background-size: cover;\r\n    background-position: center;\r\n    background-color: #fff;\r\n    transition: 0.3s ease opacity;\r\n    border: 1px solid #f3f3f3;\r\n    box-shadow: 4px 4px 4px #e5e5e5;\r\n    margin: 6px;\r\n    margin-left: 0;\r\n    &:hover {\r\n      opacity: 0.9;\r\n    }\r\n    &:nth-child(2n + 2) {\r\n      margin-left: 6px;\r\n      margin-right: 12px;\r\n    }\r\n\r\n    &:nth-child(4n + 4) {\r\n      margin: 6px;\r\n      margin-right: 0;\r\n    }\r\n\r\n    @media (max-width: 760px) {\r\n      height: 235px;\r\n      margin: 5px;\r\n      margin-left: 5px;\r\n      margin-right: 5px;\r\n      width: calc(33% - 10px);\r\n      border-radius: 5px;\r\n      &:nth-child(2n + 2) {\r\n        margin-left: 5px;\r\n        margin-right: 5px;\r\n      }\r\n\r\n      &:nth-child(4n + 4) {\r\n        margin: 5px;\r\n        margin-right: 5px;\r\n      }\r\n    }\r\n    @media (max-width: 650px) {\r\n      width: calc(50% - 10px);\r\n    }\r\n    @media (max-width: 375px) {\r\n      height: 205px;\r\n    }\r\n  `,\r\n  Desctop = styled.div`\r\n    display: block;\r\n    @media (max-width: 760px) {\r\n      display: none;\r\n    }\r\n  `,\r\n  PreviewBlockD = styled.div`\r\n    border-radius: 10px 10px 0 0;\r\n    overflow: hidden;\r\n    height: 150px;\r\n    background: #000;\r\n    background-size: cover;\r\n    background-position: center;\r\n  `,\r\n  Mobile = styled.div`\r\n    display: none;\r\n    @media (max-width: 760px) {\r\n      display: block;\r\n    }\r\n  `,\r\n  PreviewBlockM = styled.div`\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    height: 175px;\r\n    background: #000;\r\n    background-size: cover;\r\n    background-position: center;\r\n    @media (max-width: 375px) {\r\n      height: 150px;\r\n    }\r\n  `;\r\n\r\nconst ClearedBlock = () => (\r\n  <SmallCompBlock>\r\n    <Desctop>\r\n      <PreviewBlockD />\r\n    </Desctop>\r\n    <Mobile>\r\n      <PreviewBlockM />\r\n    </Mobile>\r\n  </SmallCompBlock>\r\n);\r\n\r\nexport default ClearedBlock;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport styled from \"styled-components\";\r\n\r\nimport QUERY from \"../../query\";\r\nimport { defaultColor } from \"../../constants\";\r\n\r\nconst SideMenuWrap = styled(Link)`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  height: 100vh;\r\n  width: 100%;\r\n  z-index: 2;\r\n  display: ${({ shomMenu }) => (shomMenu ? \"block\" : \"none\")};\r\n`;\r\n\r\nconst SideMenu = styled(Link)`\r\n  position: absolute;\r\n  top: 0;\r\n  width: 200px;\r\n  height: 100%;\r\n  padding: 10px;\r\n  background-color: #eef1f6;\r\n  overflow: hidden;\r\n  padding-top: 50px;\r\n  z-index: 3;\r\n`;\r\n\r\nconst SideMenuList = styled.ul`\r\n  line-height: 30px;\r\n  padding-left: 20px;\r\n  list-style-type: none;\r\n`;\r\n\r\nconst ListLink = styled(Link)`\r\n  display: block;\r\n  width: 100%;\r\n  transition: 0.3s ease all;\r\n  &:hover {\r\n    color: rgb(227, 42, 108);\r\n  }\r\n`;\r\n\r\nconst SlideSideMenu = ({ isShowMenu }) => {\r\n  const [shomMenu, setShowMenu] = useState(false);\r\n  const [cookies, removeCookie] = useCookies([]);\r\n\r\n  const pathname = window.location.pathname;\r\n\r\n  useEffect(() => {\r\n    if (!isShowMenu) {\r\n      setTimeout(() => {\r\n        setShowMenu(false);\r\n      }, 500);\r\n    } else {\r\n      setShowMenu(true);\r\n    }\r\n  }, [isShowMenu]);\r\n\r\n  const logout = () => {\r\n    QUERY(\r\n      {\r\n        query: `mutation {logout{status message}}`,\r\n      },\r\n      cookies.origin_data\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          console.log(data, \" LOGOUT\");\r\n          removeCookie(\"origin_data\");\r\n          removeCookie(\"origin_id\");\r\n        } else {\r\n          console.log(data.errors, \"ERRORS LOGOUT\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err, \"err LOGOUT\"));\r\n    removeCookie(\"origin_data\");\r\n    removeCookie(\"origin_id\");\r\n  };\r\n\r\n  const SwipeMenuSpring = useSpring({\r\n    right: isShowMenu ? 0 : -200,\r\n    config: { duration: 200 },\r\n  });\r\n\r\n  const clicked = {\r\n    color: defaultColor,\r\n  };\r\n\r\n  return (\r\n    <SideMenuWrap shomMenu={shomMenu}>\r\n      <SideMenu as={animated.div} style={SwipeMenuSpring}>\r\n        <SideMenuList>\r\n          <li>\r\n            <ListLink to=\"/\" style={pathname === \"/\" ? clicked : {}}>\r\n              Главная\r\n            </ListLink>\r\n          </li>\r\n          <li>\r\n            <ListLink to=\"/map\" style={pathname === \"/map\" ? clicked : {}}>\r\n              Карта\r\n            </ListLink>\r\n          </li>\r\n          <li>\r\n            {Number(cookies.origin_id) === 1 && (\r\n              <ListLink\r\n                to=\"/editCompany\"\r\n                style={pathname === \"/editCompany\" ? clicked : {}}\r\n              >\r\n                К списку\r\n              </ListLink>\r\n            )}\r\n          </li>\r\n          <li>\r\n            {!Number(cookies.origin_id) && (\r\n              <ListLink\r\n                to=\"/login\"\r\n                style={pathname === \"/login\" ? clicked : {}}\r\n              >\r\n                Вход\r\n              </ListLink>\r\n            )}\r\n            {!!Number(cookies.origin_id) && (\r\n              <ListLink onClick={logout} to=\"/login\">\r\n                Выход\r\n              </ListLink>\r\n            )}\r\n          </li>\r\n          <li>\r\n            {!Number(cookies.origin_id) && (\r\n              <ListLink\r\n                to=\"/registration\"\r\n                style={pathname === \"/registration\" ? clicked : {}}\r\n              >\r\n                Регистрация\r\n              </ListLink>\r\n            )}\r\n          </li>\r\n        </SideMenuList>\r\n      </SideMenu>\r\n    </SideMenuWrap>\r\n  );\r\n};\r\n\r\nexport default SlideSideMenu;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport styled from \"styled-components\";\r\n\r\nimport CustomImg from \"../customImg/CustomImg\";\r\nimport { defaultColor } from \"../../constants\";\r\n\r\nconst BottomMenuStyle = styled.div`\r\n  display: none;\r\n  @media (max-width: 760px) {\r\n    border-top: ${({ border }) => (border ? \"1px solid #eee\" : \"none\")};\r\n    display: flex;\r\n    height: 55px;\r\n    background: #fff;\r\n    position: fixed;\r\n    bottom: 0;\r\n    width: 100%;\r\n    z-index: 0;\r\n    left: 0;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nconst MenuText = styled.span`\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst Button = styled(Link)`\r\n  display: inline-block;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  height: 40px;\r\n  cursor: pointer;\r\n  width: 120px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #fff;\r\n  &:hover {\r\n    transition: 0.3s ease all;\r\n    color: ${defaultColor};\r\n  }\r\n`;\r\n\r\nconst BottomMenu = ({ isShowMenu, border }) => {\r\n  const swipeFixedElementSpring = useSpring({\r\n    left: isShowMenu ? -200 : 0,\r\n    config: {\r\n      duration: 200,\r\n    },\r\n  });\r\n\r\n  return (\r\n    <BottomMenuStyle\r\n      border={border}\r\n      as={animated.div}\r\n      style={swipeFixedElementSpring}\r\n      className=\"BottomMenu\"\r\n    >\r\n      <Button\r\n        to=\"/\"\r\n        style={window.location.pathname === \"/\" ? { color: defaultColor } : {}}\r\n      >\r\n        <CustomImg alt=\"list\" name={\"menu2\"} width={26} height={26} />\r\n        <MenuText>СПИСОК</MenuText>\r\n      </Button>\r\n      <Button\r\n        to=\"/map\"\r\n        style={\r\n          window.location.pathname === \"/map\" ? { color: defaultColor } : {}\r\n        }\r\n      >\r\n        <CustomImg alt=\"locat\" name={\"location1\"} width={26} height={26} />\r\n        <MenuText> КАРТА</MenuText>\r\n      </Button>\r\n    </BottomMenuStyle>\r\n  );\r\n};\r\n\r\nexport default BottomMenu;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst BurgerStyle = styled.span`\r\n  display: none;\r\n  @media (max-width: 760px) {\r\n    display: inline-block;\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 14px;\r\n    width: 26px;\r\n    height: 26px;\r\n    cursor: pointer;\r\n    z-index: 3;\r\n  }\r\n`;\r\n\r\nconst BurgerLine = styled.span`\r\n  display: block;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 2px;\r\n  background-color: #616161;\r\n  &:before {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 2px;\r\n    background-color: #616161;\r\n    content: \"\";\r\n    top: 10px;\r\n  }\r\n  &:after {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 2px;\r\n    background-color: #616161;\r\n    content: \"\";\r\n    top: 20px;\r\n  }\r\n`;\r\n\r\nconst ActiveBurger = styled.span`\r\n  display: inline-block;\r\n  position: absolute;\r\n  right: 20px;\r\n  top: 14px;\r\n  width: 26px;\r\n  height: 26px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ActiveBurgerLine = styled.span`\r\n  transform: rotate(45deg);\r\n  top: 10px;\r\n  transition: 0.2s ease all;\r\n  display: block;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 2px;\r\n  background-color: #616161;\r\n  &:before {\r\n    opacity: 0;\r\n  }\r\n  &:after {\r\n    display: block;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 2px;\r\n    background-color: #616161;\r\n    content: \"\";\r\n    transform: rotate(-90deg);\r\n    transition: 0.2s ease all;\r\n    left: 0;\r\n    top: 0;\r\n  }\r\n`;\r\n\r\nconst Burger = ({ showSlideSideMenu, showSideMenu }) =>\r\n  showSlideSideMenu ? (\r\n    <ActiveBurger>\r\n      <ActiveBurgerLine></ActiveBurgerLine>\r\n    </ActiveBurger>\r\n  ) : (\r\n    <BurgerStyle onClick={() => !showSlideSideMenu && showSideMenu()}>\r\n      <BurgerLine></BurgerLine>\r\n    </BurgerStyle>\r\n  );\r\n\r\nexport default Burger;\r\n","import React from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Burger from \"../burger/Burger\";\r\nimport QUERY from \"../../query\";\r\nimport { defaultColor } from \"../../constants\";\r\n\r\nconst HeaderContainer = styled.div`\r\n  width: 100%;\r\n  height: 65px;\r\n  background-color: #f3f3f3;\r\n  position: relative;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 4 !important;\r\n  @media (max-width: 760px) {\r\n    position: fixed;\r\n    z-index: 2;\r\n    top: 0;\r\n    left: 0;\r\n    height: 48px;\r\n    background-color: #fff;\r\n    display: flex;\r\n  }\r\n`;\r\n\r\nconst HeaderStyle = styled.div`\r\n  margin: 0 auto;\r\n  width: 1000px;\r\n  height: 65px;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: #f3f3f3;\r\n  justify-content: space-between;\r\n  @media (max-width: 760px) {\r\n    justify-content: center;\r\n    height: 48px;\r\n    padding: 0 5px;\r\n    transition: 0.3s ease all;\r\n    background-color: #fff;\r\n    border-bottom: 1px solid #ececec;\r\n  }\r\n`;\r\n\r\nconst PartyLive = styled.p`\r\n  display: inline-block;\r\n  font-weight: 700;\r\n  font-size: 24px;\r\n  letter-spacing: 0.05em;\r\n  transition: 0.3s ease all;\r\n  color: #323232;\r\n\r\n  @media (max-width: 760px) {\r\n    font-size: 20px;\r\n  }\r\n`;\r\n\r\nconst Live = styled.span`\r\n  display: inline-block;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  margin-left: 3px;\r\n  padding: 0 7px;\r\n  background-color: ${defaultColor};\r\n`;\r\n\r\nconst GoBackArrow = styled.div`\r\n  @media (max-width: 760px) {\r\n    position: absolute;\r\n    left: 7.5px;\r\n    top: 13px;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n    width: 30px;\r\n    height: 30px;\r\n    padding-left: 7px;\r\n    &:after {\r\n      border-radius: 1.5px;\r\n      content: \"\";\r\n      top: 16.5px;\r\n      display: block;\r\n      position: absolute;\r\n      width: 16px;\r\n      height: 1.5px;\r\n      background-color: #444;\r\n      transform: rotate(45deg);\r\n    }\r\n    &:before {\r\n      border-radius: 1.5px;\r\n      content: \"\";\r\n      top: 6px;\r\n      display: block;\r\n      position: absolute;\r\n      width: 16px;\r\n      height: 1.5px;\r\n      transform: rotate(-45deg);\r\n      background-color: #444;\r\n    }\r\n  }\r\n`;\r\n\r\nconst RightHeaderMenu = styled.div`\r\n  @media (max-width: 760px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst HeaderBTN = styled(Link)`\r\n  letter-spacing: 0.5px;\r\n  background-color: transparent;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: ${(props) =>\r\n    props.pathname && props.pathname === \"/editCompany\"\r\n      ? defaultColor\r\n      : \"#000\"};\r\n  margin-left: 10px;\r\n  padding: 5px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  transition: 0.3s ease color;\r\n  &:hover {\r\n    color: ${defaultColor};\r\n  }\r\n`;\r\n\r\nconst Header = ({\r\n  showSlideSideMenu,\r\n  showSideMenu,\r\n  isShowMenu,\r\n  burger,\r\n  arrow,\r\n  logo,\r\n}) => {\r\n  let history = useHistory();\r\n\r\n  const [cookies, removeCookie] = useCookies([]);\r\n\r\n  const logout = () => {\r\n    QUERY(\r\n      {\r\n        query: `mutation { logout{status message} }`,\r\n      },\r\n      cookies.origin_data\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          removeCookie(\"origin_data\");\r\n          removeCookie(\"origin_id\");\r\n        } else {\r\n          console.log(data.errors, \" ERRORS LOGOUT\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err, \" ERR LOGOUT\"));\r\n\r\n    removeCookie(\"origin_data\");\r\n    removeCookie(\"origin_id\");\r\n  };\r\n\r\n  const swipeFixedElementSpring = useSpring({\r\n    left: isShowMenu ? -200 : 0,\r\n    config: {\r\n      duration: 200,\r\n    },\r\n  });\r\n\r\n  return (\r\n    <HeaderContainer as={animated.div} style={swipeFixedElementSpring}>\r\n      <HeaderStyle>\r\n        {logo && (\r\n          <Link to=\"/\">\r\n            <PartyLive>\r\n              PARTY<Live>.LIVE</Live>\r\n            </PartyLive>\r\n          </Link>\r\n        )}\r\n        {arrow && <GoBackArrow onClick={() => history.goBack()}></GoBackArrow>}\r\n\r\n        <RightHeaderMenu>\r\n          {!Number(cookies.origin_id) && (\r\n            <div>\r\n              <HeaderBTN to=\"/registration\">Регистрация</HeaderBTN>\r\n              <HeaderBTN to=\"/login\">Вход</HeaderBTN>\r\n            </div>\r\n          )}\r\n          {!!Number(cookies.origin_id) && (\r\n            <div>\r\n              {Number(cookies.origin_id) === 1 && (\r\n                <HeaderBTN\r\n                  pathname={window.location.pathname}\r\n                  to=\"/editCompany\"\r\n                >\r\n                  К списку\r\n                </HeaderBTN>\r\n              )}\r\n              <HeaderBTN onClick={logout} to=\"/login\">\r\n                Выход\r\n              </HeaderBTN>\r\n            </div>\r\n          )}\r\n        </RightHeaderMenu>\r\n        {burger && (\r\n          <Burger\r\n            showSlideSideMenu={showSlideSideMenu}\r\n            showSideMenu={showSideMenu}\r\n          />\r\n        )}\r\n      </HeaderStyle>\r\n    </HeaderContainer>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst FooterContainer = styled.div`\r\n  width: 100%;\r\n  height: 65px;\r\n  background-color: #f3f3f3;\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 4 !important;\r\n  @media (max-width: 760px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst Footer = () => <FooterContainer />;\r\n\r\nexport default Footer;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport styled from \"styled-components\";\r\nimport debounce from \"lodash/debounce\";\r\n\r\nimport CompanyNav from \"../../components/companyNav/CompanyNav\";\r\nimport TypeNav from \"../../components/typeNav/TypeNav\";\r\nimport SmallCompanyBlock from \"../../components/smallCompanyBlock/SmallCompanyBlock\";\r\nimport ClearedBlock from \"../../components/smallCompanyBlock/ClearedBlock\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Footer from \"../../components/footer/Footer\";\r\nimport QUERY from \"../../query\";\r\n\r\nconst HomeContentWrap = styled.div`\r\n    padding-top: 50px;\r\n    width: 1000px;\r\n    margin: 0 auto;\r\n    padding-bottom: 70px;\r\n\r\n    @media (max-width: 760px) {\r\n      position: relative;\r\n      padding-top: 100px;\r\n      width: 100%;\r\n      padding-bottom: 65px;\r\n    }\r\n  `,\r\n  NavContainer = styled.div`\r\n    display: -webkit-box;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-pack: justify;\r\n    -ms-flex-pack: justify;\r\n    justify-content: space-between;\r\n    height: 54px;\r\n    @media (max-width: 760px) {\r\n      height: 0;\r\n      margin: 0;\r\n    }\r\n  `,\r\n  HomeContent = styled.div`\r\n    margin-top: 50px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    -webkit-box-orient: horizontal;\r\n    -webkit-box-direction: normal;\r\n    -ms-flex-direction: row;\r\n    flex-direction: row;\r\n    @media (max-width: 760px) {\r\n      -webkit-transition: 0.3s ease all 0.2s;\r\n      -o-transition: 0.3s ease all 0.2s;\r\n      transition: 0.3s ease all 0.2s;\r\n      margin-top: 10px;\r\n      margin-right: 5px;\r\n      margin-left: 5px;\r\n    }\r\n  `;\r\n\r\nconst Home = () => {\r\n  const [DATA, setDATA] = useState([]),\r\n    [isLocation, setIsLocation] = useState(false),\r\n    [typeId, setTypeId] = useState(\"\"),\r\n    [hasMorePages, setHasMorePages] = useState(true),\r\n    [lastItem, setLastItem] = useState(0),\r\n    [total, setTotal] = useState(0),\r\n    [howMachLoad, setHowMachLoad] = useState(12);\r\n\r\n  const clickedType = (id) => {\r\n    setTypeId(id);\r\n    setHowMachLoad(12);\r\n    setHasMorePages(true);\r\n    if (typeId !== id) {\r\n      id ? loadContent(id, 12) : loadContent(\"\", 12);\r\n    }\r\n  };\r\n\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false),\r\n    [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n      setShowSlideSideMenu(false);\r\n      document.body.style.overflow = \"visible\";\r\n      setIsShowMenu(false);\r\n    },\r\n    showSideMenu = () => {\r\n      setShowSlideSideMenu(true);\r\n      document.body.style.overflow = \"hidden\";\r\n      setIsShowMenu(true);\r\n    },\r\n    findLocation = () => {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(\r\n          (pos) => setIsLocation(true),\r\n          (err) => setIsLocation(false)\r\n        );\r\n      } else {\r\n        return setIsLocation(false);\r\n      }\r\n    },\r\n    hide = (e) => {\r\n      if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu)\r\n        hideSideMenu();\r\n    },\r\n    loadContent = (id, isFirst) => {\r\n      const searchString =\r\n        id || sessionStorage.getItem(\"filter_id\")\r\n          ? `hasCategories: { AND: [{ column: ID, operator: EQ, value:${\r\n              id || sessionStorage.getItem(\"filter_id\")\r\n            }}] }, first:${isFirst}`\r\n          : `first:${isFirst}`;\r\n      QUERY({\r\n        query: `query {\r\n          places(${searchString}) {\r\n            paginatorInfo{hasMorePages lastItem total}\r\n            data {\r\n              id name address profile_image coordinates\r\n              streams{ id preview see_you_tomorrow schedules{id day start_time end_time}}\r\n              schedules {id day start_time end_time}\r\n              categories {id name slug}\r\n            }\r\n          }\r\n        }`,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((res) => {\r\n          const { data, paginatorInfo } = res.data.places;\r\n          setDATA(data);\r\n          setTotal(paginatorInfo.total);\r\n          setLastItem(paginatorInfo.lastItem);\r\n          setHasMorePages(paginatorInfo.hasMorePages);\r\n        })\r\n        .catch((err) => console.log(err, \"HOME data ERR\"));\r\n    };\r\n\r\n  const loadContentDebounce = useCallback(debounce(loadContent, 200), []);\r\n\r\n  useEffect(() => {\r\n    window.onresize = (e) => hideSideMenu();\r\n  });\r\n\r\n  const SwipePageSpring = useSpring({\r\n    right: isShowMenu ? 200 : 0,\r\n    config: { duration: 200 },\r\n  });\r\n\r\n  findLocation();\r\n\r\n  const scrollHandler = (e) => {\r\n    if (hasMorePages) {\r\n      const { scrollHeight, scrollTop } = e.target.documentElement;\r\n      if (scrollHeight - (scrollTop + window.innerHeight) < 400) {\r\n        setHowMachLoad((prev) => (prev = prev + 12));\r\n        sessionStorage.setItem(\"prevZoom\", \"\");\r\n        sessionStorage.setItem(\"prevCenter\", \"\");\r\n      } else {\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadContentDebounce(\"\", howMachLoad, true);\r\n    console.log(howMachLoad, \"---howMachLoad\");\r\n  }, [howMachLoad]);\r\n\r\n  useEffect(() => {\r\n    console.log(lastItem, \"---lastItem\");\r\n  }, [lastItem]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"scroll\", scrollHandler);\r\n    return () => document.removeEventListener(\"scroll\", scrollHandler);\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        minHeight: 1 + window.innerHeight,\r\n      }}\r\n      onClick={(e) => hide(e)}\r\n    >\r\n      <div>\r\n        <Header\r\n          isShowMenu={isShowMenu}\r\n          logo\r\n          burger\r\n          showSlideSideMenu={showSlideSideMenu}\r\n          showSideMenu={showSideMenu}\r\n        />\r\n        <HomeContentWrap as={animated.div} style={SwipePageSpring}>\r\n          <NavContainer>\r\n            <CompanyNav\r\n              currentPage=\"/\"\r\n              toSlideFixedNav={isShowMenu}\r\n              clickedType={(id) => clickedType(id)}\r\n            />\r\n            <TypeNav />\r\n          </NavContainer>\r\n          <HomeContent>\r\n            {!!DATA.length &&\r\n              DATA.map((el, i) => (\r\n                <SmallCompanyBlock item={el} key={i} isLocation={isLocation} />\r\n              ))}\r\n\r\n            {!!howMachLoad &&\r\n              new Array(howMachLoad - lastItem)\r\n                .fill(0)\r\n                .map((el, i) => <ClearedBlock key={i} />)}\r\n          </HomeContent>\r\n        </HomeContentWrap>\r\n        <BottomMenu isShowMenu={isShowMenu} border />\r\n        <Footer />\r\n      </div>\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\n\r\nimport { defaultColor } from \"../../constants\";\r\n\r\nconst LoaderWrap = styled.div`\r\n  display: flex;\r\n  top: 100px;\r\n  left: 0;\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 300px;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst Roller = styled.div`\r\n  display: inline-block;\r\n  position: relative;\r\n  width: 80px;\r\n  height: 80px;\r\n`;\r\n\r\nconst anim = keyframes`\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nconst Roll = styled.div`\r\n  animation: ${anim} 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\r\n  transform-origin: 40px 40px;\r\n  &:after {\r\n    content: \" \";\r\n    display: block;\r\n    position: absolute;\r\n    width: 7px;\r\n    height: 7px;\r\n    border-radius: 50%;\r\n    background: ${defaultColor};\r\n    margin: -4px 0 0 -4px;\r\n  }\r\n  &:nth-child(1) {\r\n    animation-delay: -0.036s;\r\n  }\r\n  &:nth-child(1):after {\r\n    top: 63px;\r\n    left: 63px;\r\n  }\r\n\r\n  &:nth-child(2) {\r\n    animation-delay: -0.072s;\r\n  }\r\n  &:nth-child(2):after {\r\n    top: 68px;\r\n    left: 56px;\r\n  }\r\n\r\n  &:nth-child(3) {\r\n    animation-delay: -0.108s;\r\n  }\r\n  &:nth-child(3):after {\r\n    top: 71px;\r\n    left: 48px;\r\n  }\r\n\r\n  &:nth-child(4) {\r\n    animation-delay: -0.144s;\r\n  }\r\n  &:nth-child(4):after {\r\n    top: 72px;\r\n    left: 40px;\r\n  }\r\n\r\n  &:nth-child(5) {\r\n    animation-delay: -0.18s;\r\n  }\r\n  &:nth-child(5):after {\r\n    top: 71px;\r\n    left: 32px;\r\n  }\r\n\r\n  &:nth-child(6) {\r\n    animation-delay: -0.216s;\r\n  }\r\n  &:nth-child(6):after {\r\n    top: 68px;\r\n    left: 24px;\r\n  }\r\n\r\n  &:nth-child(7) {\r\n    animation-delay: -0.252s;\r\n  }\r\n  &:nth-child(7):after {\r\n    top: 63px;\r\n    left: 17px;\r\n  }\r\n\r\n  &:nth-child(8) {\r\n    animation-delay: -0.288s;\r\n  }\r\n  &:nth-child(8):after {\r\n    top: 56px;\r\n    left: 12px;\r\n  }\r\n`;\r\n\r\nconst Loader = () => (\r\n  <LoaderWrap>\r\n    <Roller>\r\n      <Roll></Roll>\r\n      <Roll></Roll>\r\n      <Roll></Roll>\r\n      <Roll></Roll>\r\n      <Roll></Roll>\r\n      <Roll></Roll>\r\n      <Roll></Roll>\r\n      <Roll></Roll>\r\n    </Roller>\r\n  </LoaderWrap>\r\n);\r\n\r\nexport default Loader;\r\n","export const styles = [\r\n  {\r\n    featureType: \"all\",\r\n    elementType: \"labels.text.fill\",\r\n    stylers: [\r\n      {\r\n        color: \"#7c93a3\"\r\n      },\r\n      {\r\n        lightness: \"-10\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"administrative.country\",\r\n    elementType: \"geometry\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"administrative.country\",\r\n    elementType: \"geometry.stroke\",\r\n    stylers: [\r\n      {\r\n        color: \"#a0a4a5\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"administrative.province\",\r\n    elementType: \"geometry.stroke\",\r\n    stylers: [\r\n      {\r\n        color: \"#62838e\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"landscape\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      },\r\n      {\r\n        lightness: \"-29\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"landscape\",\r\n    elementType: \"geometry.fill\",\r\n    stylers: [\r\n      {\r\n        color: \"#dde3e3\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"landscape.man_made\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"landscape.man_made\",\r\n    elementType: \"geometry\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"landscape.man_made\",\r\n    elementType: \"geometry.stroke\",\r\n    stylers: [\r\n      {\r\n        color: \"#3f4a51\"\r\n      },\r\n      {\r\n        weight: \"0.30\"\r\n      },\r\n      {\r\n        visibility: \"on\"\r\n      },\r\n      {\r\n        lightness: \"74\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.attraction\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.business\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.government\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.medical\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.park\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.place_of_worship\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.school\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"poi.sports_complex\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        saturation: \"-100\"\r\n      },\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road\",\r\n    elementType: \"geometry.stroke\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.highway\",\r\n    elementType: \"geometry.fill\",\r\n    stylers: [\r\n      {\r\n        color: \"#bbcacf\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.highway\",\r\n    elementType: \"geometry.stroke\",\r\n    stylers: [\r\n      {\r\n        lightness: \"0\"\r\n      },\r\n      {\r\n        color: \"#bbcacf\"\r\n      },\r\n      {\r\n        weight: \"0.50\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.highway\",\r\n    elementType: \"labels\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.highway\",\r\n    elementType: \"labels.text\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.highway.controlled_access\",\r\n    elementType: \"geometry.fill\",\r\n    stylers: [\r\n      {\r\n        color: \"#ffffff\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.highway.controlled_access\",\r\n    elementType: \"geometry.stroke\",\r\n    stylers: [\r\n      {\r\n        color: \"#a9b4b8\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.arterial\",\r\n    elementType: \"labels.icon\",\r\n    stylers: [\r\n      {\r\n        invert_lightness: true\r\n      },\r\n      {\r\n        saturation: \"-7\"\r\n      },\r\n      {\r\n        lightness: \"3\"\r\n      },\r\n      {\r\n        gamma: \"1.80\"\r\n      },\r\n      {\r\n        weight: \"0.01\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"road.local\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"transit\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"off\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"transit.station.bus\",\r\n    elementType: \"all\",\r\n    stylers: [\r\n      {\r\n        visibility: \"on\"\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    featureType: \"water\",\r\n    elementType: \"geometry.fill\",\r\n    stylers: [\r\n      {\r\n        color: \"#a3c7df\"\r\n      }\r\n    ]\r\n  }\r\n];\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport GooggleMapReact from \"google-map-react\";\r\nimport useSupercluster from \"use-supercluster\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport styled from \"styled-components\";\r\n\r\nimport CustomImg from \"../../components/customImg/CustomImg\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Header from \"../../components/header/Header\";\r\nimport {\r\n  EN_SHORT_TO_RU_LONG_V_P,\r\n  API_KEY,\r\n  EN_SHORT_TO_RU_LONG,\r\n  queryPath,\r\n} from \"../../constants\";\r\nimport QUERY from \"../../query\";\r\nimport { isShowStreamNow, isWorkTimeNow } from \"../../calculateTime\";\r\nimport TypeNav from \"../../components/typeNav/TypeNav\";\r\nimport CompanyNav from \"../../components/companyNav/CompanyNav\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport { defaultColor } from \"../../constants\";\r\n\r\nimport { styles } from \"../../components/googleMap/GoogleMapStyles\";\r\n\r\nconst Marker = ({ children }) => children;\r\n\r\nconst createMapOptions = () => {\r\n  return { styles: styles };\r\n};\r\n\r\nconst NavContainerMap = styled.div`\r\n    position: relative;\r\n    display: flex;\r\n    width: 1000px;\r\n    margin: 0 auto;\r\n    justify-content: space-between;\r\n    top: 50px;\r\n    @media (max-width: 760px) {\r\n      justify-content: center;\r\n    }\r\n  `,\r\n  MapContainer = styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100vh;\r\n    @media (max-width: 760px) {\r\n      position: fixed;\r\n      top: 105px;\r\n      width: 100%;\r\n      height: calc(100% - 140px);\r\n    }\r\n  `,\r\n  YouAreHere = styled.p`\r\n    display: flex;\r\n    background: rgba(0, 0, 0, 0.3);\r\n    font-weight: bold;\r\n    border-radius: 5px;\r\n    letter-spacing: 1px;\r\n    width: 80px;\r\n    height: 25px;\r\n    color: #fff;\r\n    position: relative;\r\n    left: -25px;\r\n    bottom: 10px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    opacity: 0;\r\n    transition: 0.3s ease all;\r\n    &::after {\r\n      width: 0;\r\n      height: 0;\r\n      content: \"\";\r\n      position: absolute;\r\n      bottom: -5px;\r\n      border: 5px solid transparent;\r\n      border-top-color: rgba(0, 0, 0, 0.3);\r\n      border-bottom: 0;\r\n    }\r\n  `,\r\n  ClusterMarker = styled.div`\r\n    width: 36px;\r\n    height: 36px;\r\n    background: ${defaultColor};\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 50%;\r\n    font-weight: 700;\r\n    font-size: 16px;\r\n    color: #ffffff;\r\n  `,\r\n  MarkerArrow = styled.div`\r\n    width: 0;\r\n    height: 0;\r\n    margin: 0 auto;\r\n    border: 10px solid transparent;\r\n    border-top-color: #fff;\r\n    border-bottom: 0;\r\n    position: absolute;\r\n    bottom: -30px;\r\n    left: 15px;\r\n    @media (max-width: 760px) {\r\n      bottom: -10px;\r\n      left: 0px;\r\n    }\r\n  `,\r\n  MarkerWrapp = styled.div`\r\n    width: 150px;\r\n    height: 150px;\r\n    background-color: #fff;\r\n    overflow: hidden;\r\n    border-radius: 10px;\r\n    position: relative;\r\n    bottom: 130px;\r\n    right: 50px;\r\n    transition: 0.3s ease opacity;\r\n    &:hover {\r\n      opacity: 0.9;\r\n    }\r\n    @media (max-width: 760px) {\r\n      width: 120px;\r\n      height: 130px;\r\n    }\r\n  `,\r\n  MarkerInner = styled.div`\r\n    overflow: hidden;\r\n    display: flex;\r\n    border-radius: 10px 10px 0 0;\r\n    flex: 1;\r\n    align-items: flex-end;\r\n    @media (max-width: 760px) {\r\n      border-radius: 10px;\r\n    }\r\n  `,\r\n  CustomImgStyle = styled(CustomImg)``,\r\n  PreviewBlock = styled.div`\r\n    object-fit: cover;\r\n    -webkit-transition: 0.2s ease all;\r\n    -o-transition: 0.2s ease all;\r\n    transition: 0.2s ease all;\r\n    height: 95px;\r\n    display: flex;\r\n    padding-bottom: 26px;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: relative;\r\n    text-align: center;\r\n    @media (max-width: 760px) {\r\n      height: 90px;\r\n    }\r\n  `,\r\n  TranslationBlock = styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 95px;\r\n    width: 150px;\r\n    background-size: cover;\r\n    background-position: center;\r\n    overflow: hidden;\r\n    background-color: #000;\r\n    @media (max-width: 760px) {\r\n      height: 90px;\r\n      width: 120px;\r\n      border-radius: 5px;\r\n    }\r\n  `,\r\n  NoTranslation = styled.p`\r\n    color: #eee;\r\n    padding: 3px;\r\n    background-color: #000;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 150px;\r\n    height: 95px;\r\n    display: flex;\r\n    background-image: url(${({ bg }) => bg});\r\n    background-size: cover;\r\n    background-position: center;\r\n    @media (max-width: 760px) {\r\n      height: 90px;\r\n      text-align: center;\r\n      width: 120px;\r\n    }\r\n  `,\r\n  TransparentBg = styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    display: flex;\r\n    align-self: center;\r\n    align-items: center;\r\n    text-align: center;\r\n    justify-content: center;\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n  `,\r\n  MarkerDesc = styled.p`\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 0;\r\n    left: 0;\r\n    height: 55px;\r\n    padding: 8px;\r\n    padding-top: 6px;\r\n    padding-right: 6px;\r\n    background: #fff;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n    @media (max-width: 760px) {\r\n      height: 40px;\r\n      padding: 4px;\r\n    }\r\n  `,\r\n  MarkerName = styled.p`\r\n    color: #000;\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    line-height: 19px;\r\n    margin-left: 5px;\r\n    @media (max-width: 760px) {\r\n      font-size: 12px;\r\n    }\r\n  `,\r\n  BottomMarkerText = styled.p`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    line-height: 16px;\r\n    padding: 2px;\r\n  `,\r\n  IsOpened = styled.span`\r\n    color: #000;\r\n    font-size: 12px;\r\n    line-height: 13px;\r\n    font-weight: normal;\r\n    line-height: 9px;\r\n    @media (max-width: 760px) {\r\n      color: #909090;\r\n      font-size: 11px;\r\n    }\r\n  `,\r\n  Row = styled.div`\r\n    display: flex;\r\n  `,\r\n  Circle = styled.div`\r\n    width: 7px;\r\n    height: 7px;\r\n    background: ${({ isWork }) => (isWork ? \"#04b000\" : \" #C4C4C4\")};\r\n    border-radius: 50%;\r\n    margin-right: 5px;\r\n    margin-left: 3px;\r\n    @media (max-width: 760px) {\r\n      margin-top: 3px;\r\n      width: 5px;\r\n      height: 5px;\r\n    }\r\n  `,\r\n  Opened = styled.span`\r\n    display: inline-block;\r\n\r\n    @media (max-width: 760px) {\r\n      display: none;\r\n    }\r\n  `;\r\n\r\nconst MapComponent = (props) => {\r\n  const mapRef = useRef();\r\n\r\n  const [markers, setMarkers] = useState([]),\r\n    [zoom, setZoom] = useState(12),\r\n    [bounds, setBounds] = useState(null),\r\n    [isLoading, setIsLoading] = useState(true),\r\n    [mouseMapCoordinates, setMouseMapCoordinates] = useState({}),\r\n    [referrer, setReferrer] = useState(\"\"),\r\n    [currentCenterOfMap, setCurrentCenterOfMap] = useState(),\r\n    [defaultCenter, setDefaultCenter] = useState(),\r\n    [gMapDefaultCenter, setGMapDefaultCenter] = useState(),\r\n    [typeId, setTypeId] = useState(\"\"),\r\n    [showSlideSideMenu, setShowSlideSideMenu] = useState(false),\r\n    [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const dateNow = new Date()\r\n    .toLocaleDateString()\r\n    .split(\".\")\r\n    .reverse()\r\n    .join(\"-\");\r\n\r\n  const loadContent = (id) => {\r\n    const searchString =\r\n      id || sessionStorage.getItem(\"filter_id\")\r\n        ? `hasCategories: { AND: [{ column: ID, operator: EQ, value:${\r\n            id || sessionStorage.getItem(\"filter_id\")\r\n          }}] }, first:${180}`\r\n        : `first:${180}`;\r\n\r\n    QUERY({\r\n      query: `query{\r\n            places(${searchString}) {\r\n                data{\r\n                  id name coordinates profile_image disabled \r\n                  streams{see_you_tomorrow id preview }\r\n                  schedules{id day start_time end_time}\r\n                  categories{id name slug}\r\n                }\r\n              }\r\n            }`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setIsLoading(false);\r\n        setMarkers(data.data.places.data);\r\n      })\r\n      .catch((err) => console.log(err, \"MAP  ERR\"));\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadContent();\r\n  }, []);\r\n\r\n  const points = markers\r\n      .filter((el) => !el.disabled)\r\n      .map((el, i) => {\r\n        return {\r\n          type: \"Feature\",\r\n          item: el,\r\n          properties: {\r\n            cluster: false,\r\n            crimeId: i,\r\n            category: el.categories[0] && el.categories[0].name,\r\n          },\r\n          geometry: {\r\n            type: \"Point\",\r\n            coordinates: [\r\n              +el.coordinates.split(\",\")[1],\r\n              +el.coordinates.split(\",\")[0],\r\n            ],\r\n          },\r\n        };\r\n      }),\r\n    { clusters } = useSupercluster({\r\n      points,\r\n      bounds,\r\n      zoom,\r\n      options: {\r\n        radius: 220,\r\n        maxZoom: 20,\r\n      },\r\n    });\r\n\r\n  const clickedType = (id) => {\r\n    setTypeId(id);\r\n    if (typeId !== id) {\r\n      id ? loadContent(id) : loadContent(\"\");\r\n    }\r\n  };\r\n\r\n  const hideSideMenu = () => {\r\n      setShowSlideSideMenu(false);\r\n      setTimeout(() => {\r\n        document.body.style.overflow = \"visible\";\r\n      }, 400);\r\n      setIsShowMenu(false);\r\n    },\r\n    showSideMenu = () => {\r\n      setShowSlideSideMenu(true);\r\n      document.body.style.overflow = \"hidden\";\r\n      setIsShowMenu(true);\r\n    };\r\n\r\n  useEffect(() => {\r\n    window.onresize = (e) => hideSideMenu();\r\n  });\r\n\r\n  useEffect(() => {\r\n    const center = sessionStorage.getItem(\"prevCenter\")\r\n      ? {\r\n          lat: JSON.parse(sessionStorage.getItem(\"prevCenter\")).lat,\r\n          lng: JSON.parse(sessionStorage.getItem(\"prevCenter\")).lng,\r\n        }\r\n      : defaultCenter;\r\n\r\n    setGMapDefaultCenter(center);\r\n  }, [defaultCenter]);\r\n\r\n  if (navigator.geolocation && !defaultCenter) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      (pos) =>\r\n        setDefaultCenter({\r\n          lat: pos.coords.latitude,\r\n          lng: pos.coords.longitude,\r\n        }),\r\n      (err) => console.log(err, \" GEOLOCATION MAP ERROR\")\r\n    );\r\n  } else {\r\n    console.log(\"Геолокация недоступна\");\r\n  }\r\n\r\n  const mouseDownHandler = ({ clientX, clientY }) =>\r\n      setMouseMapCoordinates({\r\n        clientX,\r\n        clientY,\r\n      }),\r\n    mouseUpHandler = (e, data) => {\r\n      if (\r\n        +mouseMapCoordinates.clientX === +e.clientX &&\r\n        +mouseMapCoordinates.clientY === +e.clientY\r\n      ) {\r\n        setReferrer(`/company/${data}`);\r\n      }\r\n    };\r\n\r\n  const SwipePageSpring = useSpring({\r\n    left: isShowMenu ? -200 : 0,\r\n    config: { duration: 200 },\r\n  });\r\n\r\n  const dancerClick = (target) => {\r\n      target.previousSibling.style.opacity = 1;\r\n      setTimeout(() => {\r\n        target.previousSibling.style.opacity = 0;\r\n      }, 2000);\r\n    },\r\n    markerClick = () => {\r\n      sessionStorage.setItem(\"prevZoom\", zoom);\r\n      sessionStorage.setItem(\"prevCenter\", JSON.stringify(currentCenterOfMap));\r\n    },\r\n    markerMouseDown = (e) => {\r\n      !(\"ontouchstart\" in document.documentElement) && mouseDownHandler(e);\r\n    },\r\n    markerMouseUp = (e, cluster) => {\r\n      !(\"ontouchstart\" in document.documentElement) &&\r\n        mouseUpHandler(e, cluster.item.id);\r\n    },\r\n    hide = (e) => {\r\n      if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu)\r\n        hideSideMenu();\r\n    },\r\n    onChangeMap = (zoom, bounds, center) => {\r\n      console.log(zoom, bounds, center);\r\n      setCurrentCenterOfMap(center);\r\n      setZoom(zoom);\r\n      setBounds([bounds.nw.lng, bounds.se.lat, bounds.se.lng, bounds.nw.lat]);\r\n    },\r\n    onTouchStart = (e, cluster) => {\r\n      mouseDownHandler(\r\n        {\r\n          clientX: e.nativeEvent.changedTouches[0].clientX,\r\n          clientY: e.nativeEvent.changedTouches[0].clientY,\r\n        },\r\n        cluster.item.id\r\n      );\r\n    },\r\n    onTouchEnd = (e, cluster) => {\r\n      mouseUpHandler(\r\n        {\r\n          clientX: e.nativeEvent.changedTouches[0].clientX,\r\n          clientY: e.nativeEvent.changedTouches[0].clientY,\r\n        },\r\n        cluster.item.id\r\n      );\r\n    };\r\n\r\n  // ne: {lat: 53.905449424270586, lng: 27.571740348739354} северо-восток\r\n  // nw: {lat: 53.905449424270586, lng: 27.55963822166416} северо-запад\r\n  // se: {lat: 53.90251657841472, lng: 27.571740348739354} юго-восток\r\n  // sw: {lat: 53.90251657841472, lng: 27.55963822166416} юго-запад\r\n\r\n  return (\r\n    <div onClick={(e) => hide(e)}>\r\n      <Header\r\n        isShowMenu={isShowMenu}\r\n        logo\r\n        arrow\r\n        burger\r\n        showSlideSideMenu={showSlideSideMenu}\r\n        showSideMenu={showSideMenu}\r\n      />\r\n      <NavContainerMap>\r\n        <CompanyNav\r\n          style={{ zIndex: 1 }}\r\n          currentPage=\"/map\"\r\n          clickedType={clickedType}\r\n          toSlideFixedNav={isShowMenu}\r\n        />\r\n        <TypeNav style={{ zIndex: 1 }} />\r\n      </NavContainerMap>\r\n      {isLoading && <Loader />}\r\n      {!isLoading && (\r\n        <MapContainer as={animated.div} style={SwipePageSpring}>\r\n          <GooggleMapReact\r\n            options={createMapOptions}\r\n            style={{\r\n              height: \"100%\",\r\n              width: \"100%\",\r\n            }}\r\n            bootstrapURLKeys={{\r\n              key: API_KEY,\r\n            }}\r\n            defaultCenter={\r\n              gMapDefaultCenter || {\r\n                lat: 53.904577,\r\n                lng: 27.557328,\r\n              }\r\n            }\r\n            defaultZoom={+sessionStorage.getItem(\"prevZoom\") || 12}\r\n            yesIWantToUseGoogleMapApiInternals\r\n            onGoogleApiLoaded={({ map }) => (mapRef.current = map)}\r\n            onChange={({ zoom, bounds, center }) =>\r\n              onChangeMap(zoom, bounds, center)\r\n            }\r\n          >\r\n            {defaultCenter && (\r\n              <Marker lat={defaultCenter.lat} lng={defaultCenter.lng}>\r\n                <YouAreHere>Вы тут</YouAreHere>\r\n                <CustomImg\r\n                  onClick={({ target }) => dancerClick(target)}\r\n                  alt=\"me\"\r\n                  name={\"dancer\"}\r\n                  width=\"32\"\r\n                  height=\"32\"\r\n                />\r\n              </Marker>\r\n            )}\r\n            {clusters.map((cluster) => {\r\n              const [longitude, latitude] = cluster.geometry.coordinates,\r\n                {\r\n                  cluster: isCluster,\r\n                  point_count: pointCount,\r\n                } = cluster.properties;\r\n\r\n              //ЗАМЕНА НА ЦИФРЫ\r\n              if (isCluster) {\r\n                return (\r\n                  <Marker\r\n                    key={cluster.properties.cluster_id}\r\n                    lat={latitude}\r\n                    lng={longitude}\r\n                  >\r\n                    <ClusterMarker>\r\n                      <p> {pointCount}</p>\r\n                    </ClusterMarker>\r\n                  </Marker>\r\n                );\r\n              }\r\n\r\n              //БЕЗ ЗАМЕНЫ НА ЦИФРЫ\r\n              let streamTime = \"\",\r\n                workTime = \"\",\r\n                isWork = false,\r\n                nextStreamTime = false,\r\n                nextWorkTime = null;\r\n\r\n              const setShowStream = (time) => (streamTime = time),\r\n                setWorkTime = (time) => (workTime = time),\r\n                setIsWork = (bool) => (isWork = bool),\r\n                setNextStreamTime = (time) => (nextStreamTime = time),\r\n                setNextWorkTime = (time) => (nextWorkTime = time);\r\n\r\n              isShowStreamNow(\r\n                cluster.item,\r\n                setShowStream,\r\n                setNextStreamTime,\r\n                cluster.item.streams[0] &&\r\n                  dateNow === cluster.item.streams[0].see_you_tomorrow\r\n              );\r\n              isWorkTimeNow(\r\n                cluster.item,\r\n                setWorkTime,\r\n                setIsWork,\r\n                setNextWorkTime\r\n              );\r\n\r\n              const isStartTime = nextStreamTime.start_time,\r\n                streamNotTodayText =\r\n                  isStartTime &&\r\n                  nextStreamTime.day.toLowerCase() !== \"сегодня\" &&\r\n                  \"Начало трансляции в \" +\r\n                    EN_SHORT_TO_RU_LONG_V_P[nextStreamTime.day] +\r\n                    \" в \" +\r\n                    isStartTime,\r\n                streamTodayText =\r\n                  isStartTime &&\r\n                  nextStreamTime.day.toLowerCase() === \"сегодня\" &&\r\n                  \"Трансляция начнется сегодня в \" + isStartTime,\r\n                closed = !isStartTime && !nextWorkTime && \"Заведение закрыто\",\r\n                isWillOpen =\r\n                  !isStartTime && nextWorkTime && nextWorkTime.start_time,\r\n                willOpen = isWillOpen && \"Откроется: \",\r\n                whenWillOpen =\r\n                  isWillOpen &&\r\n                  `${\r\n                    nextWorkTime.day.toLowerCase() !== \"сегодня\"\r\n                      ? EN_SHORT_TO_RU_LONG[nextWorkTime.day]\r\n                      : nextWorkTime.day\r\n                  } ${nextWorkTime.start_time}-${nextWorkTime.end_time}`;\r\n\r\n              return (\r\n                <Marker\r\n                  key={cluster.properties.crimeId}\r\n                  lat={latitude}\r\n                  lng={longitude}\r\n                >\r\n                  <Link\r\n                    onClick={() => markerClick()}\r\n                    onMouseDown={(e) => markerMouseDown(e)}\r\n                    onMouseUp={(e) => markerMouseUp(e, cluster)}\r\n                    onTouchStart={(e) => onTouchStart(e, cluster)}\r\n                    onTouchEnd={(e) => onTouchEnd(e, cluster)}\r\n                    to={{\r\n                      pathname: referrer\r\n                        ? `/company/${cluster.item.id}`\r\n                        : `/map`,\r\n                    }}\r\n                  >\r\n                    <MarkerArrow></MarkerArrow>\r\n                    <MarkerWrapp>\r\n                      <MarkerInner>\r\n                        <PreviewBlock>\r\n                          {cluster.item.streams &&\r\n                            cluster.item.streams[0] &&\r\n                            cluster.item.streams[0].preview &&\r\n                            !!streamTime &&\r\n                            !cluster.item.mobile_stream && (\r\n                              <TranslationBlock\r\n                                style={{\r\n                                  backgroundImage: `url(${cluster.item.streams[0].preview})`,\r\n                                }}\r\n                              />\r\n                            )}\r\n                          {!streamTime && !cluster.item.mobile_stream && (\r\n                            <NoTranslation\r\n                              bg={\r\n                                cluster.item.profile_image\r\n                                  ? `${queryPath}/storage/` +\r\n                                    cluster.item.profile_image.replace(\r\n                                      \".png\",\r\n                                      \".jpg\"\r\n                                    )\r\n                                  : \"\"\r\n                              }\r\n                            >\r\n                              <TransparentBg>\r\n                                {streamNotTodayText}\r\n                                {streamTodayText}\r\n                                {closed}\r\n                                {willOpen}\r\n                                {isWillOpen && <br />}\r\n                                {whenWillOpen}\r\n                              </TransparentBg>\r\n                            </NoTranslation>\r\n                          )}\r\n                          {cluster.item.mobile_stream && (\r\n                            <TranslationBlock\r\n                              style={{\r\n                                backgroundImage: `url(https://partylivestream.web4net.ru:8080/hls/show/${cluster.item.id}.jpeg)`,\r\n                              }}\r\n                            />\r\n                          )}\r\n                        </PreviewBlock>\r\n\r\n                        <MarkerDesc>\r\n                          <div style={{ display: \"flex\" }}>\r\n                            {cluster.item.categories[0] &&\r\n                              cluster.item.categories[0].slug && (\r\n                                <CustomImgStyle\r\n                                  className=\"qwe\"\r\n                                  alt=\"Icon\"\r\n                                  name={cluster.item.categories[0].slug}\r\n                                  width=\"16\"\r\n                                  height=\"16\"\r\n                                />\r\n                              )}\r\n                            <MarkerName>{cluster.item.name}</MarkerName>\r\n                          </div>\r\n\r\n                          <BottomMarkerText>\r\n                            <IsOpened>\r\n                              {isWork && (\r\n                                <Row>\r\n                                  <Circle isWork={isWork} />\r\n                                  <span>\r\n                                    <Opened>Открыто</Opened> до{\" \"}\r\n                                    {workTime.split(\"-\")[1]}\r\n                                  </span>\r\n                                </Row>\r\n                              )}\r\n                              {!isWork && (\r\n                                <Row>\r\n                                  <Circle isWork={isWork} />\r\n                                  <span>Закрыто</span>\r\n                                </Row>\r\n                              )}\r\n                            </IsOpened>\r\n                          </BottomMarkerText>\r\n                        </MarkerDesc>\r\n                      </MarkerInner>\r\n                    </MarkerWrapp>\r\n                  </Link>\r\n                </Marker>\r\n              );\r\n            })}\r\n          </GooggleMapReact>\r\n        </MapContainer>\r\n      )}\r\n\r\n      <BottomMenu isShowMenu={isShowMenu} border />\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapComponent;\r\n","import React, { useState } from \"react\";\r\nimport { Map, Marker, InfoWindow, GoogleApiWrapper } from \"google-maps-react\";\r\nimport GooglePlacesAutocomplete from \"react-google-places-autocomplete\";\r\nimport \"react-google-places-autocomplete/dist/assets/index.css\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { API_KEY } from \"../../constants\";\r\nimport CustomImg from \"../customImg/CustomImg\";\r\nimport { defaultColor } from \"../../constants\";\r\n\r\nimport { styles } from \"./GoogleMapStyles.js\";\r\nimport \"./googleMap.css\";\r\n\r\nconst LoadingContainer = (props) => <div></div>;\r\n\r\nconst MapHeader = styled.div`\r\n  display: none;\r\n  @media (max-width: 760px) {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    display: flex;\r\n    width: 100%;\r\n    height: 44px;\r\n    border-bottom: 1px solid #ececec;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 0 25px;\r\n    background: #fff;\r\n  }\r\n`;\r\nconst MapHeaderBtn = styled.p`\r\n  letter-spacing: 0.5px;\r\n  color: ${defaultColor};\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n`;\r\n\r\nconst YouAreHere = styled.p`\r\n  display: flex;\r\n  background: rgba(0, 0, 0, 0.3);\r\n  font-weight: bold;\r\n  border-radius: 5px;\r\n  letter-spacing: 1px;\r\n  width: 80px;\r\n  height: 25px;\r\n  color: #fff;\r\n  position: relative;\r\n  justify-content: center;\r\n  align-items: center;\r\n  opacity: 1;\r\n  transition: 0.3s ease all;\r\n  &::after {\r\n    width: 0;\r\n    height: 0;\r\n    content: \"\";\r\n    position: absolute;\r\n    bottom: -5px;\r\n    border: 5px solid transparent;\r\n    border-top-color: rgba(0, 0, 0, 0.3);\r\n    border-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst CloseBTN = styled.span`\r\n  position: absolute;\r\n  top: 10px;\r\n  left: 10px;\r\n  height: 25px;\r\n  width: 25px;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  font-size: 25px;\r\n  justify-content: center;\r\n  line-height: 21px;\r\n  background-color: #fff;\r\n  cursor: pointer;\r\n  border-radius: 3px;\r\n  &:hover {\r\n    color: red;\r\n  }\r\n  @media (max-width: 760px) {\r\n    height: 50px;\r\n    width: 50px;\r\n    font-size: 40px;\r\n    padding: 0;\r\n    line-height: 42px;\r\n  }\r\n`;\r\n\r\nconst MapContainerStyle = styled.div`\r\n  height: 100vh;\r\n`;\r\n\r\nconst PointPosition = styled(CustomImg)`\r\n  width: 50px;\r\n  height: 50px;\r\n  position: absolute;\r\n  left: calc(50% - 25px);\r\n  top: calc(50% - 45px);\r\n`;\r\n\r\nconst MyMap = styled(Map)`\r\n  position: relative !important;\r\n`;\r\n\r\nconst AutocompleteWrap = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  @media (max-width: 760px) {\r\n    top: 60px;\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst BtnWrap = styled.div`\r\n  display: flex;\r\n  margin-top: 10px;\r\n  margin-left: 20px;\r\n  @media (max-width: 760px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst SaveBtn = styled.div`\r\n  background-color: #fff;\r\n  margin-right: 10px;\r\n  padding: 6px;\r\n  border-radius: 4px;\r\n  width: 150px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  font-weight: 700;\r\n  background-color: ${defaultColor};\r\n  color: #fff;\r\n`;\r\n\r\nconst CancelBtn = styled.div`\r\n  background-color: #fff;\r\n  margin-right: 10px;\r\n  padding: 6px;\r\n  border-radius: 4px;\r\n  width: 150px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  font-weight: 700;\r\n`;\r\n\r\nconst MapContainer = ({\r\n  google,\r\n  togglePopupGoogleMap,\r\n  initialCenterMap,\r\n  chooseNewAddress,\r\n  isNewAddress,\r\n  styleContainerMap,\r\n  closeBtn,\r\n}) => {\r\n  const initialCenter = initialCenterMap || {\r\n    lat: 53.904241,\r\n    lng: 27.556932,\r\n  };\r\n\r\n  const initialZoom = 12;\r\n\r\n  const [streetName, setStreetName] = useState(\"\"),\r\n    [latLng, setLatLng] = useState(\"\"),\r\n    [toCenter, setToCenter] = useState(null),\r\n    [companyGeolocation, setCompanyGeolocation] = useState(null),\r\n    [dencerPosition, setDencerPosition] = useState(null);\r\n\r\n  const geocoder = new google.maps.Geocoder();\r\n\r\n  const getStreetFromLatLng = (location) => {\r\n      setTimeout(() => {\r\n        setCompanyGeolocation(location);\r\n\r\n        geocoder.geocode(\r\n          {\r\n            location: location,\r\n          },\r\n          (results, status) => {\r\n            if (status === \"OK\") {\r\n              if (results[0]) {\r\n                setStreetName(results[0].formatted_address);\r\n                getLatLngFromStreet(results[0].formatted_address);\r\n              }\r\n            } else {\r\n              getStreetFromLatLng(location);\r\n            }\r\n          }\r\n        );\r\n      }, 300);\r\n    },\r\n    getLatLngFromStreet = (street, fromInput) => {\r\n      geocoder.geocode({ address: street }, function (results, status) {\r\n        if (status === google.maps.GeocoderStatus.OK) {\r\n          const latLng = {\r\n            lat: results[0].geometry.location.lat(),\r\n            lng: results[0].geometry.location.lng(),\r\n          };\r\n          setLatLng(latLng);\r\n          fromInput && setToCenter(latLng);\r\n        }\r\n      });\r\n    },\r\n    onDragend = (mapProps, map, e) => {\r\n      getStreetFromLatLng({\r\n        lat: map.center.lat(),\r\n        lng: map.center.lng(),\r\n      });\r\n    };\r\n\r\n  if (navigator.geolocation) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      (pos) => {\r\n        setDencerPosition({\r\n          lat: pos.coords.latitude,\r\n          lng: pos.coords.longitude,\r\n        });\r\n      },\r\n      (err) => console.log(err, \" GEOLOCATION MAP ERROR\")\r\n    );\r\n  } else {\r\n    console.log(\"Геолокация недоступна\");\r\n  }\r\n\r\n  const onPlaceSelected = (place) => {\r\n    setStreetName(place.description);\r\n    getLatLngFromStreet(place.description, true);\r\n  };\r\n\r\n  const save = () => {\r\n    if (streetName && latLng) {\r\n      chooseNewAddress(streetName, companyGeolocation || latLng);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MapContainerStyle style={styleContainerMap}>\r\n      <MyMap\r\n        gestureHandling=\"greedy\"\r\n        scrollwheel={true}\r\n        google={google}\r\n        onDragend={isNewAddress && onDragend}\r\n        zoom={initialZoom}\r\n        initialCenter={initialCenter}\r\n        center={toCenter}\r\n        styles={styles}\r\n        zoomControl={false}\r\n        mapTypeControl={false}\r\n        scaleControl={false}\r\n        streetViewControl={false}\r\n        panControl={false}\r\n        rotateControl={false}\r\n        fullscreenControl={false}\r\n      >\r\n        {dencerPosition && (\r\n          <Marker\r\n            name={\"Dancer\"}\r\n            title={\"\"}\r\n            icon={{\r\n              url: `${process.env.PUBLIC_URL}/img/dancer.png`,\r\n              scaledSize: { width: 30, height: 30 },\r\n            }}\r\n            position={dencerPosition}\r\n          >\r\n            <InfoWindow\r\n              visible={true}\r\n              style={{\r\n                width: \"100px\",\r\n                height: \"100px\",\r\n                background: \"red\",\r\n              }}\r\n            >\r\n              <YouAreHere position={dencerPosition}>Вы тут</YouAreHere>\r\n            </InfoWindow>\r\n          </Marker>\r\n        )}\r\n        <Marker\r\n          name={\"Place\"}\r\n          position={initialCenter}\r\n          icon={{\r\n            url: `${process.env.PUBLIC_URL}/img/location.png`,\r\n            scaledSize: { width: 30, height: 30 },\r\n          }}\r\n        />\r\n      </MyMap>\r\n      {isNewAddress && (\r\n        <>\r\n          <MapHeader>\r\n            <MapHeaderBtn onClick={togglePopupGoogleMap}>Отмена</MapHeaderBtn>\r\n            <MapHeaderBtn onClick={() => save()}>Готово</MapHeaderBtn>\r\n          </MapHeader>\r\n          <PointPosition alt=\"pos\" name={\"location\"} />\r\n          <AutocompleteWrap>\r\n            <GooglePlacesAutocomplete\r\n              onSelect={onPlaceSelected}\r\n              placeholder=\"Введите адрес\"\r\n              initialValue={streetName}\r\n            />\r\n            <BtnWrap>\r\n              <SaveBtn onClick={() => save()}>СОХРАНИТЬ</SaveBtn>\r\n              <CancelBtn onClick={togglePopupGoogleMap}>ОТМЕНА</CancelBtn>\r\n            </BtnWrap>\r\n          </AutocompleteWrap>\r\n        </>\r\n      )}\r\n      {closeBtn && <CloseBTN onClick={togglePopupGoogleMap}>&#215;</CloseBTN>}\r\n    </MapContainerStyle>\r\n  );\r\n};\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: API_KEY,\r\n  language: \"ru\",\r\n  LoadingContainer: LoadingContainer,\r\n})(MapContainer);\r\n","import React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\n\r\nconst PopupInner = styled.div`\r\n  background-color: #fff;\r\n`;\r\n\r\nconst Show = keyframes`{\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n \r\n}`;\r\n\r\nconst Show760 = keyframes`{\r\n    0% {\r\n      top: 500px;\r\n      opacity: 0;\r\n    }\r\n    100% {\r\n      top: 0;\r\n      opacity: 1;\r\n    }\r\n}`;\r\n\r\nconst PopupStyle = styled.div`\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1200;\r\n  transition: 1s ease all;\r\n  animation: ${Show} 0.3s ease;\r\n  @media (max-width: 760px) {\r\n    animation: ${Show760} 0.3s ease;\r\n  }\r\n`;\r\n\r\nconst Popup = ({ children, togglePopup, style, wrpaStyle }) => {\r\n  const click = (e) => {\r\n    if (e.target.className.includes(\"popup\")) {\r\n      togglePopup();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PopupStyle className=\"popup\" onClick={(e) => click(e)} style={wrpaStyle}>\r\n      <PopupInner style={style}>{children}</PopupInner>\r\n    </PopupStyle>\r\n  );\r\n};\r\nexport default Popup;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport ReactAwesomePlayer from \"react-awesome-player\";\r\nimport styled from \"styled-components\";\r\n\r\nconst VideoError = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  text-align: center;\r\n  color: #c4c4c4;\r\n  padding: 30px;\r\n  font-weight: 400;\r\n  font-size: 18px;\r\n  line-height: 22px;\r\n  @media (max-width: 760px) {\r\n    height: 380px;\r\n  }\r\n  @media (max-width: 560px) {\r\n    height: 190px;\r\n  }\r\n`;\r\n\r\nconst Wrap = styled.div`\r\n  position: relative;\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\n\r\nconst VideoPlayer = ({ src, autoplay, muted, preview }) => {\r\n  const [isVideoErr, setIsVideoErr] = useState(false);\r\n  const videoRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    videoRef.current.video.style.height = \"100%\";\r\n  }, []);\r\n\r\n  const options = {\r\n    autoplay: autoplay,\r\n    muted: muted,\r\n    poster: preview,\r\n    fluid: true,\r\n    sources: [\r\n      {\r\n        type: \"application/x-mpegURL\",\r\n        src: src,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const error = () => setIsVideoErr(\"Ошибка\");\r\n\r\n  return (\r\n    <Wrap>\r\n      {!isVideoErr ? (\r\n        <ReactAwesomePlayer ref={videoRef} options={options} error={error} />\r\n      ) : (\r\n        <VideoError>\r\n          Видео временно не работает. <br />\r\n          Извините за неудобства.\r\n        </VideoError>\r\n      )}\r\n    </Wrap>\r\n  );\r\n};\r\n\r\nexport default VideoPlayer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport styled from \"styled-components\";\r\n\r\nimport CustomImg from \"../../components/customImg/CustomImg\";\r\nimport GoogleMap from \"../../components/googleMap/GoogleMap\";\r\nimport Popup from \"../../components/popup/Popup\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport VideoPlayer from \"../../components/videoPlayer/VideoPlayer\";\r\nimport { isShowStreamNow, isWorkTimeNow } from \"../../calculateTime\";\r\nimport { getDistanceFromLatLonInKm } from \"../../getDistance\";\r\nimport QUERY from \"../../query\";\r\nimport { EN_SHORT_TO_RU_LONG_V_P, queryPath } from \"../../constants\";\r\nimport { defaultColor } from \"../../constants\";\r\n\r\nimport \"./company.css\";\r\n\r\nconst GoBackBtnD = styled(Link)`\r\n  font-size: 16px;\r\n  display: block;\r\n  font-weight: normal;\r\n  height: 100px;\r\n  width: 150px;\r\n  line-height: 100px;\r\n  &:hover {\r\n    color: ${defaultColor};\r\n  }\r\n  @media (max-width: 760px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst GoBackBtnArrowD = styled.span`\r\n  font-size: 18px;\r\n  padding-right: 5px;\r\n`;\r\n\r\nconst CompanyD = styled.div`\r\n  width: 1000px;\r\n  margin: 0 auto;\r\n  @media (max-width: 760px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst FlexD = styled.div`\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n`;\r\n\r\nconst ShadowBlockD = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  box-shadow: none;\r\n`;\r\n\r\nconst VideoBlockD = styled.div`\r\n  -webkit-box-flex: 5;\r\n  -ms-flex: 5;\r\n  flex: 1;\r\n  padding-bottom: 20px;\r\n  padding-right: 20px;\r\n`;\r\n\r\nconst YesVideoD = styled.div`\r\n  height: 300px;\r\n  margin-bottom: 5px;\r\n  background-color: #000;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst NoVideoD = styled.div`\r\n  position: relative;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  background: #000;\r\n  height: 300px;\r\n  margin-bottom: 10px;\r\n  background-image: url(${({ bg }) => bg});\r\n  background-size: cover;\r\n  background-position: center;\r\n  overflow: hidden;\r\n`;\r\nconst NoVideoBgTransparentD = styled.div`\r\n  display: flex;\r\n  position: absolute;\r\n  top: 0%;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  color: #eee;\r\n  font-weight: 400;\r\n  font-size: 18px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst VideoDescrD = styled.p`\r\n  margin-top: 30px;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  color: #4f4f4f;\r\n`;\r\n\r\nconst VideoDescrNameD = styled.span`\r\n  font-weight: 700;\r\n`;\r\n\r\nconst DescD = styled.span`\r\n  flex: 1;\r\n  padding: 0 5px 0 20px;\r\n  height: 300px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst TopDescriptionD = styled.div`\r\n  font-size: 1em;\r\n  font-weight: 300;\r\n  line-height: 1.5;\r\n`;\r\n\r\nconst DescNameD = styled.h3`\r\n  font-weight: 700;\r\n  font-size: 30px;\r\n  line-height: 35px;\r\n  margin-left: -1px;\r\n`;\r\n\r\nconst CompanyTypeRowD = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 10px;\r\n`;\r\nconst CustomImgTypeD = styled(CustomImg)`\r\n  margin-right: 6px;\r\n`;\r\n\r\nconst CompanyTypeD = styled.div`\r\n  font-weight: 500;\r\n  font-size: 20px;\r\n`;\r\n\r\nconst RowWithImageD = styled.div`\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  font-size: 14px;\r\n  line-height: 16px;\r\n  margin-bottom: 10px;\r\n  font-weight: 500;\r\n  color: #4f4f4f;\r\n`;\r\n\r\nconst CustomImgStyleD = styled(CustomImg)`\r\n  margin-right: 16px;\r\n`;\r\n\r\nconst RowWithImageTextD = styled.p`\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  width: 100%;\r\n`;\r\n\r\nconst RowWithImageLeftTextD = styled.span`\r\n  -webkit-box-flex: 1;\r\n  -ms-flex: 1;\r\n  flex: 2;\r\n`;\r\n\r\nconst RowWithImageRightTextD = styled.span`\r\n  margin-left: 10px;\r\n  -webkit-box-flex: 3;\r\n  -ms-flex: 3;\r\n  flex: 3;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  -o-text-overflow: ellipsis;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst SmallMapD = styled.div`\r\n  border: 1px solid #747474;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  height: 85px;\r\n`;\r\n\r\nconst CompanyM = styled.div`\r\n  display: none;\r\n  @media (max-width: 760px) {\r\n    display: block;\r\n    padding: 0;\r\n    margin-bottom: 100px;\r\n    position: relative;\r\n  }\r\n`;\r\n\r\nconst FlexM = styled.div`\r\n  display: block;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-box-direction: normal;\r\n  -ms-flex-direction: column;\r\n  flex-direction: column;\r\n  margin: 10px;\r\n  padding-top: 55px;\r\n`;\r\n\r\nconst ShadowBlockM = styled.div`\r\n  flex-direction: column;\r\n  background: #ffffff;\r\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n  border-radius: 5px;\r\n  padding-bottom: 30px;\r\n`;\r\n\r\nconst VideoBlockM = styled.div`\r\n  padding-right: 0px;\r\n  padding-bottom: 0;\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst YesVideoM = styled.div`\r\n  /* height: 250px; */\r\n  margin-bottom: 5px;\r\n  background-color: #000;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  transition: 0.3s ease all;\r\n  @media (max-width: 460px) {\r\n    /* height: 175px; */\r\n  }\r\n`;\r\n\r\nconst NoVideoM = styled.div`\r\n  position: relative;\r\n  height: 350px;\r\n  text-align: center;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  background: #000;\r\n  margin-bottom: 10px;\r\n  transition: 0.3s ease all;\r\n  background-image: url(${({ bg }) => bg});\r\n  background-size: cover;\r\n  background-position: center;\r\n  overflow: hidden;\r\n  @media (max-width: 460px) {\r\n    height: 200px;\r\n  }\r\n`;\r\n\r\nconst NoVideoBgTransparentM = styled.div`\r\n  display: flex;\r\n  position: absolute;\r\n  top: 0%;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  color: #eee;\r\n  font-weight: 400;\r\n  font-size: 18px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n`;\r\n\r\nconst DescM = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 0 10px;\r\n`;\r\n\r\nconst NameRowM = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\nconst WithIconBlockM = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\nconst DescIconsColumnM = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`;\r\n\r\nconst DescNoIconsColumnM = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n`;\r\n\r\nconst NameM = styled.span`\r\n  font-weight: 500;\r\n  font-size: 18px;\r\n  line-height: 21px;\r\n  letter-spacing: 0.5px;\r\n  color: #000000;\r\n`;\r\n\r\nconst CompanyTypeM = styled.div`\r\n  font-weight: normal;\r\n  font-size: 14px;\r\n  letter-spacing: 0.5px;\r\n  padding: 8px 0 3px 0;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst CustomImgTypeM = styled(CustomImg)`\r\n  margin-right: 5px;\r\n`;\r\n\r\nconst OpenedToM = styled.p`\r\n  display: block;\r\n  font-size: 14px;\r\n  font-weight: normal;\r\n  letter-spacing: 0.5px;\r\n  color: #000;\r\n  height: 25px;\r\n  line-height: 25px;\r\n  text-transform: lowercase;\r\n`;\r\n\r\nconst CircleM = styled.span`\r\n  display: inline-block;\r\n  width: 7px;\r\n  height: 7px;\r\n  border-radius: 7px;\r\n  background-color: ${({ isWork }) => (isWork ? \"#04B000\" : \"#6D6D6D\")};\r\n  margin-right: 6px;\r\n`;\r\n\r\nconst SmallMapWrapM = styled.div`\r\n  position: relative;\r\n  height: 200px;\r\n  display: block;\r\n  opacity: 1;\r\n  background-color: #fff;\r\n  @media (max-width: 500px) {\r\n    height: 100px;\r\n  }\r\n`;\r\n\r\nconst SmallMapM = styled.div`\r\n  display: block;\r\n  border: none;\r\n  margin-top: 0px;\r\n  overflow: hidden;\r\n  height: 185px;\r\n  border-radius: 5px;\r\n  @media (max-width: 500px) {\r\n    height: 90px;\r\n  }\r\n`;\r\n\r\nconst SmallMapLocationM = styled.p`\r\n  display: flex;\r\n  color: #000000;\r\n  font-weight: normal;\r\n  font-size: 14px;\r\n  line-height: 16px;\r\n  letter-spacing: 0.5px;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  margin-top: 8px;\r\n  height: 30px;\r\n`;\r\n\r\nconst SmallMapTransparentBg = styled.div`\r\n  position: absolute;\r\n  top: 30px;\r\n  left: 0;\r\n  width: 100%;\r\n  height: calc(100% + 10px);\r\n  background: transparent;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Company = (props) => {\r\n  const [showPopup, setShowPopap] = useState(false),\r\n    [DATA, setDATA] = useState(null),\r\n    [showStream, setShowStream] = useState(false),\r\n    [nextStreamTime, setNextStreamTime] = useState(false),\r\n    [workTime, setWorkTime] = useState(false),\r\n    [isWork, setIsWork] = useState(false),\r\n    [showSlideSideMenu, setShowSlideSideMenu] = useState(false),\r\n    [isShowMenu, setIsShowMenu] = useState(false),\r\n    [isLoading, setIsLoading] = useState(true),\r\n    [curDistance, setCurDistance] = useState(null),\r\n    [mouseMapCoordinates, setMouseMapCoordinates] = useState({}),\r\n    [ismobileStream, setIsmobileStream] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (sessionStorage.getItem(\"uniqueCompanyType\")) {\r\n      sessionStorage.setItem(\"uniqueCompanyType\", \"\");\r\n    }\r\n\r\n    QUERY({\r\n      query: `query {\r\n        place (id: ${+props.match.params.id}) {\r\n          id name address description profile_image mobile_stream\r\n          streams{url name id preview see_you_tomorrow schedules{id day start_time end_time}}\r\n          categories{name slug} coordinates\r\n          schedules {day start_time end_time} user {id name email}\r\n        }\r\n      }`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setIsLoading(false);\r\n        setDATA(data.data);\r\n      })\r\n      .catch((err) => {\r\n        setIsLoading(false);\r\n        console.log(err, \"  ONE PLACE\");\r\n      });\r\n\r\n    if (navigator.geolocation && DATA) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (pos) => {\r\n          setCurDistance(\r\n            getDistanceFromLatLonInKm(\r\n              pos.coords.latitude,\r\n              pos.coords.longitude,\r\n              DATA.place.coordinates.split(\",\")[0],\r\n              DATA.place.coordinates.split(\",\")[1]\r\n            )\r\n          );\r\n        },\r\n        (err) => console.log(err, \"ошибка геолокации\")\r\n      );\r\n    } else {\r\n      console.log(\"Геолокация недоступна \");\r\n    }\r\n  }, []);\r\n\r\n  const toNewDateFormat = (date) => {\r\n    const dataArr = date.split(\"/\");\r\n    if (dataArr[0].length < 2) dataArr[0] = \"0\" + dataArr[0];\r\n    const dataArrNew = [dataArr[2], dataArr[0], dataArr[1]],\r\n      dataString = dataArrNew.join(\"-\");\r\n\r\n    return dataString;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (DATA) {\r\n      isShowStreamNow(\r\n        DATA.place,\r\n        setShowStream,\r\n        setNextStreamTime,\r\n        DATA.place.streams &&\r\n          DATA.place.streams[0] &&\r\n          toNewDateFormat(new Date().toLocaleDateString()) ===\r\n            DATA.place.streams[0].see_you_tomorrow\r\n      );\r\n      isWorkTimeNow(DATA.place, setWorkTime, setIsWork);\r\n    }\r\n  }, [DATA]);\r\n\r\n  const togglePopup = () => {\r\n    showPopup ? setShowPopap(false) : setShowPopap(true);\r\n  };\r\n\r\n  const hideSideMenu = () => {\r\n      setShowSlideSideMenu(false);\r\n      document.body.style.overflow = \"visible\";\r\n      setIsShowMenu(false);\r\n    },\r\n    showSideMenu = () => {\r\n      setShowSlideSideMenu(true);\r\n      document.body.style.overflow = \"hidden\";\r\n      setIsShowMenu(true);\r\n    };\r\n\r\n  useEffect(() => {\r\n    window.onresize = function (e) {\r\n      hideSideMenu();\r\n    };\r\n  });\r\n\r\n  const mouseDownMapHandler = (e) => {\r\n      setMouseMapCoordinates({\r\n        clientX: e.clientX,\r\n        clientY: e.clientY,\r\n      });\r\n    },\r\n    mouseUpMapHandler = (e) => {\r\n      if (\r\n        +mouseMapCoordinates.clientX === +e.clientX &&\r\n        +mouseMapCoordinates.clientY === +e.clientY\r\n      ) {\r\n        togglePopup();\r\n      }\r\n    },\r\n    whenIsTranslation = () => {\r\n      if (\r\n        nextStreamTime.start_time &&\r\n        nextStreamTime.day.toLowerCase() !== \"сегодня\"\r\n      ) {\r\n        return (\r\n          \"Трансляция начнется в \" +\r\n          EN_SHORT_TO_RU_LONG_V_P[nextStreamTime.day] +\r\n          \" в \" +\r\n          nextStreamTime.start_time\r\n        );\r\n      } else if (\r\n        nextStreamTime.start_time &&\r\n        nextStreamTime.day.toLowerCase() === \"сегодня\"\r\n      ) {\r\n        return \"Трансляция начнется сегодня в \" + nextStreamTime.start_time;\r\n      } else if (!nextStreamTime.start_time) {\r\n        return \"Заведение закрыто\";\r\n      }\r\n    };\r\n\r\n  const SwipePageSpring = useSpring({\r\n    right: isShowMenu ? 200 : 0,\r\n    config: { duration: 200 },\r\n  });\r\n\r\n  const updateIsMobileStreaming = () => {\r\n    if (DATA && DATA.place) {\r\n      fetch(\r\n        `https://partylivestream.web4net.ru:8080/hls/show/${DATA.place.id}.m3u8`\r\n      )\r\n        .then((res) => setIsmobileStream(res.ok))\r\n        .catch(() => setIsmobileStream(false));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    updateIsMobileStreaming();\r\n  }, [DATA]);\r\n\r\n  setInterval(() => {\r\n    updateIsMobileStreaming();\r\n    console.log(ismobileStream, \" company___________\");\r\n  }, 5000);\r\n\r\n  const hide = (e) => {\r\n    if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu)\r\n      hideSideMenu();\r\n  };\r\n\r\n  return (\r\n    <div onClick={(e) => hide(e)}>\r\n      <Header\r\n        logo\r\n        burger\r\n        arrow\r\n        isShowMenu={isShowMenu}\r\n        showSlideSideMenu={showSlideSideMenu}\r\n        showSideMenu={showSideMenu}\r\n      />\r\n\r\n      {/* _______________________________________ DESCTOP */}\r\n      <CompanyD\r\n        as={animated.div}\r\n        style={SwipePageSpring}\r\n        onClick={(e) => hide(e)}\r\n      >\r\n        <GoBackBtnD to=\"/\">\r\n          <GoBackBtnArrowD>&#8592;</GoBackBtnArrowD>\r\n          На главную\r\n        </GoBackBtnD>\r\n\r\n        {DATA && (\r\n          <FlexD>\r\n            <ShadowBlockD>\r\n              <VideoBlockD>\r\n                {showStream && !ismobileStream && (\r\n                  <YesVideoD>\r\n                    <VideoPlayer\r\n                      preview={DATA.place.streams[0].preview}\r\n                      src={DATA.place.streams[0].url}\r\n                    />\r\n                  </YesVideoD>\r\n                )}\r\n                {!showStream && !ismobileStream && (\r\n                  <NoVideoD\r\n                    bg={\r\n                      DATA.place.profile_image\r\n                        ? `${queryPath}/storage/` +\r\n                          DATA.place.profile_image.replace(\".png\", \".jpg\")\r\n                        : \"\"\r\n                    }\r\n                  >\r\n                    <NoVideoBgTransparentD>\r\n                      {\" \"}\r\n                      {whenIsTranslation()}\r\n                    </NoVideoBgTransparentD>\r\n                  </NoVideoD>\r\n                )}\r\n                {ismobileStream && (\r\n                  <YesVideoD>\r\n                    <VideoPlayer\r\n                      preview={`https://partylivestream.web4net.ru:8080/hls/show/${DATA.place.id}.jpeg`}\r\n                      src={`https://partylivestream.web4net.ru:8080/hls/show/${DATA.place.id}.m3u8`}\r\n                    />\r\n                  </YesVideoD>\r\n                )}\r\n                <VideoDescrD>\r\n                  <VideoDescrNameD>{DATA.place.name}</VideoDescrNameD> -{\" \"}\r\n                  {DATA.place.description}\r\n                </VideoDescrD>\r\n              </VideoBlockD>\r\n              <DescD>\r\n                <TopDescriptionD>\r\n                  <DescNameD>{DATA.place.name}</DescNameD>\r\n                  <CompanyTypeRowD>\r\n                    <CustomImgTypeD\r\n                      alt=\"ico\"\r\n                      name={\r\n                        DATA.place.categories[0] &&\r\n                        DATA.place.categories[0].slug\r\n                      }\r\n                      height=\"25\"\r\n                      width=\"25\"\r\n                    />\r\n                    <CompanyTypeD>\r\n                      {DATA.place.categories[0] &&\r\n                        DATA.place.categories[0].name}\r\n                    </CompanyTypeD>\r\n                  </CompanyTypeRowD>\r\n                </TopDescriptionD>\r\n\r\n                <div>\r\n                  <RowWithImageD>\r\n                    <CustomImgStyleD\r\n                      alt=\"clock\"\r\n                      name={\"clock\"}\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                    />\r\n                    <RowWithImageTextD>\r\n                      <RowWithImageLeftTextD>\r\n                        Время работы:\r\n                      </RowWithImageLeftTextD>\r\n                      <RowWithImageRightTextD>\r\n                        {workTime || \"Выходной\"}\r\n                      </RowWithImageRightTextD>\r\n                    </RowWithImageTextD>\r\n                  </RowWithImageD>\r\n                  <RowWithImageD>\r\n                    <CustomImgStyleD\r\n                      alt=\"camera\"\r\n                      name={\"camera\"}\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                    />\r\n                    <RowWithImageTextD>\r\n                      <RowWithImageLeftTextD> Стрим:</RowWithImageLeftTextD>\r\n                      <RowWithImageRightTextD>\r\n                        {showStream ? \" Стрим идет\" : \" Стрим не идет\"}\r\n                      </RowWithImageRightTextD>\r\n                    </RowWithImageTextD>\r\n                  </RowWithImageD>\r\n                  <RowWithImageD>\r\n                    <CustomImgStyleD\r\n                      alt=\"location\"\r\n                      name={\"location\"}\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                    />\r\n                    <RowWithImageTextD>\r\n                      <RowWithImageLeftTextD>Адрес: </RowWithImageLeftTextD>\r\n                      <RowWithImageRightTextD>\r\n                        {DATA.place.address &&\r\n                          DATA.place.address\r\n                            .split(\",\")[0]\r\n                            .replace(\"улица\", \"ул.\")\r\n                            .replace(\"проспект\", \"пр-т.\")}\r\n                      </RowWithImageRightTextD>\r\n                    </RowWithImageTextD>\r\n                  </RowWithImageD>\r\n                </div>\r\n\r\n                <SmallMapD\r\n                  onMouseDown={mouseDownMapHandler}\r\n                  onMouseUp={mouseUpMapHandler}\r\n                >\r\n                  <GoogleMap\r\n                    togglePopupGoogleMap={togglePopup}\r\n                    styleContainerMap={{ height: \"85px\" }}\r\n                    initialCenterMap={\r\n                      DATA.place.coordinates\r\n                        ? {\r\n                            lat: Number(DATA.place.coordinates.split(\",\")[0]),\r\n                            lng: Number(DATA.place.coordinates.split(\",\")[1]),\r\n                          }\r\n                        : null\r\n                    }\r\n                  />\r\n                </SmallMapD>\r\n              </DescD>\r\n            </ShadowBlockD>\r\n          </FlexD>\r\n        )}\r\n      </CompanyD>\r\n\r\n      {/* ________________________________ MOBILE */}\r\n      <CompanyM\r\n        as={animated.div}\r\n        style={SwipePageSpring}\r\n        onClick={(e) => hide(e)}\r\n      >\r\n        {DATA && (\r\n          <FlexM>\r\n            <ShadowBlockM>\r\n              <VideoBlockM>\r\n                {showStream && !ismobileStream && (\r\n                  <YesVideoM>\r\n                    <VideoPlayer\r\n                      preview={DATA.place.streams[0].preview}\r\n                      src={DATA.place.streams[0].url}\r\n                    />\r\n                  </YesVideoM>\r\n                )}\r\n                {!showStream && !ismobileStream && (\r\n                  <NoVideoM\r\n                    bg={\r\n                      DATA.place.profile_image\r\n                        ? `${queryPath}/storage/` +\r\n                          DATA.place.profile_image.replace(\".png\", \".jpg\")\r\n                        : \"\"\r\n                    }\r\n                  >\r\n                    <NoVideoBgTransparentM>\r\n                      {whenIsTranslation()}\r\n                    </NoVideoBgTransparentM>\r\n                  </NoVideoM>\r\n                )}\r\n                {ismobileStream && (\r\n                  <YesVideoM>\r\n                    <VideoPlayer\r\n                      preview={`https://partylivestream.web4net.ru:8080/hls/show/${DATA.place.id}.jpeg`}\r\n                      src={`https://partylivestream.web4net.ru:8080/hls/show/${DATA.place.id}.m3u8`}\r\n                    />\r\n                  </YesVideoM>\r\n                )}\r\n              </VideoBlockM>\r\n              <DescM>\r\n                <NameRowM>\r\n                  <NameM>{DATA.place.name}</NameM>\r\n                  <CustomImg alt=\"ico\" name={\"back\"} height=\"20\" width=\"20\" />\r\n                </NameRowM>\r\n                <WithIconBlockM>\r\n                  <DescIconsColumnM>\r\n                    <CustomImgTypeM\r\n                      alt=\"ico\"\r\n                      name={\r\n                        DATA.place.categories[0] &&\r\n                        DATA.place.categories[0].slug\r\n                      }\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                    />\r\n                    <CircleM isWork={isWork} />\r\n                  </DescIconsColumnM>\r\n                  <DescNoIconsColumnM>\r\n                    <CompanyTypeM>\r\n                      {DATA.place.categories[0] &&\r\n                        DATA.place.categories[0].name}\r\n                    </CompanyTypeM>\r\n                    <OpenedToM>\r\n                      {isWork && (\r\n                        <span>Открыто: до {workTime.split(\"-\")[1]}</span>\r\n                      )}\r\n                      {!isWork && \"закрыто\"}\r\n                    </OpenedToM>\r\n                  </DescNoIconsColumnM>\r\n                </WithIconBlockM>\r\n\r\n                <SmallMapWrapM>\r\n                  <SmallMapLocationM>\r\n                    <CustomImgTypeM\r\n                      alt=\"ico\"\r\n                      name={\"location\"}\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                    />\r\n                    {DATA\r\n                      ? DATA.place.address\r\n                          .split(\",\")[0]\r\n                          .replace(\"улица\", \"ул.\")\r\n                          .replace(\"проспект\", \"пр-т.\")\r\n                      : \"\"}\r\n                  </SmallMapLocationM>\r\n                  <SmallMapM\r\n                    onMouseDown={mouseDownMapHandler}\r\n                    onMouseUp={mouseUpMapHandler}\r\n                  >\r\n                    <GoogleMap\r\n                      togglePopupGoogleMap={togglePopup}\r\n                      styleContainerMap={{ height: \"330px\" }}\r\n                      initialCenterMap={\r\n                        DATA.place.coordinates\r\n                          ? {\r\n                              lat: Number(DATA.place.coordinates.split(\",\")[0]),\r\n                              lng: Number(DATA.place.coordinates.split(\",\")[1]),\r\n                            }\r\n                          : null\r\n                      }\r\n                    />\r\n                  </SmallMapM>\r\n\r\n                  <SmallMapTransparentBg\r\n                    onClick={() => togglePopup()}\r\n                  ></SmallMapTransparentBg>\r\n                </SmallMapWrapM>\r\n              </DescM>\r\n            </ShadowBlockM>\r\n          </FlexM>\r\n        )}\r\n      </CompanyM>\r\n\r\n      {isLoading && <Loader />}\r\n      {showPopup && (\r\n        <Popup togglePopup={togglePopup}>\r\n          <GoogleMap\r\n            togglePopupGoogleMap={togglePopup}\r\n            styleContainerMap={{ width: \"100vw\" }}\r\n            closeBtn\r\n            initialCenterMap={\r\n              DATA.place.coordinates\r\n                ? {\r\n                    lat: Number(DATA.place.coordinates.split(\",\")[0]),\r\n                    lng: Number(DATA.place.coordinates.split(\",\")[1]),\r\n                  }\r\n                : null\r\n            }\r\n          />\r\n        </Popup>\r\n      )}\r\n      <BottomMenu isShowMenu={isShowMenu} />\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Company;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport QUERY from \"../../query\";\r\nimport { defaultColor } from \"../../constants\";\r\n\r\nexport const GoBackBtn = styled(Link)`\r\n  position: relative;\r\n  top: -104px;\r\n  left: 0px;\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  height: 30px;\r\n  width: 150px;\r\n  &:hover {\r\n    color: ${defaultColor};\r\n  }\r\n  @media (max-width: 760px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const GoBackBtnArrow = styled.span`\r\n  font-size: 18px;\r\n  padding-right: 5px;\r\n`;\r\n\r\nexport const AuthBlock = styled.div`\r\n  transition: 0.3s ease transform;\r\n  transform: scale(1.5);\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 258px;\r\n  padding: 20px 0;\r\n  background: #ffffff;\r\n  border: 1px solid #eef1f6;\r\n  border-radius: 10px;\r\n  flex-direction: column;\r\n  @media (max-width: 760px) {\r\n    transform: scale(1.1);\r\n    width: 85%;\r\n  }\r\n`;\r\n\r\nexport const HeadTitle = styled.div`\r\n  font-weight: 700;\r\n  font-size: 12px;\r\n  line-height: 14px;\r\n  letter-spacing: 0.05em;\r\n  margin-bottom: 15px;\r\n  @media (max-width: 760px) {\r\n    font-size: 16px;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n\r\nexport const AuthBlockWrap = styled.div`\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n  height: calc(100vh - 65px);\r\n  padding-top: 140px;\r\n  @media (max-width: 760px) {\r\n    height: 100vh;\r\n    position: relative;\r\n  }\r\n`;\r\n\r\nexport const AuthForm = styled.form`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  @media (max-width: 760px) {\r\n    display: flex;\r\n    width: 85%;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nexport const AuthInput = styled.input`\r\n  -webkit-user-select: initial;\r\n  -khtml-user-select: initial;\r\n  -moz-user-select: initial;\r\n  -ms-user-select: initial;\r\n  user-select: initial;\r\n  -webkit-appearance: none;\r\n  transition: 0.3s ease all;\r\n  width: 189px;\r\n  font-size: 14px;\r\n  height: 30px;\r\n  outline: none;\r\n  background: #ffffff;\r\n  border: 1px solid #e5e5e5;\r\n  box-sizing: border-box;\r\n  border-radius: 5px;\r\n  margin: 7px 0px;\r\n  padding: 0 10px;\r\n  @media (max-width: 760px) {\r\n    width: 100%;\r\n    height: 45px;\r\n  }\r\n`;\r\n\r\nexport const AuthSubmitBtn = styled(AuthInput)`\r\n  -webkit-user-select: initial;\r\n  -khtml-user-select: initial;\r\n  -moz-user-select: initial;\r\n  -ms-user-select: initial;\r\n  user-select: initial;\r\n  -webkit-appearance: none;\r\n  background: ${defaultColor};\r\n  border: 1px solid ${defaultColor};\r\n  box-sizing: border-box;\r\n  border-radius: 5px;\r\n  font-weight: 700;\r\n  font-size: 12px;\r\n  line-height: 14px;\r\n  letter-spacing: 0.05em;\r\n  color: #ffffff;\r\n  cursor: pointer;\r\n  &:active {\r\n    background: #d37596;\r\n  }\r\n`;\r\n\r\nexport const AuthForgetSubmitBtn = styled.div`\r\n  background: ${defaultColor};\r\n  border: 1px solid ${defaultColor};\r\n  box-sizing: border-box;\r\n  border-radius: 5px;\r\n  font-weight: 700;\r\n  font-size: 12px;\r\n  line-height: 14px;\r\n  letter-spacing: 0.05em;\r\n  color: #ffffff;\r\n  cursor: pointer;\r\n  width: 189px;\r\n  height: 30px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Question = styled.p`\r\n  display: block;\r\n  text-align: center;\r\n  font-weight: 700;\r\n  font-size: 12px;\r\n  letter-spacing: 0.05em;\r\n  color: #bdbdbd;\r\n  line-height: 8px;\r\n  margin-top: 15px;\r\n  cursor: pointer;\r\n  transition: 0.3s ease color;\r\n  &:hover {\r\n    color: ${defaultColor};\r\n  }\r\n`;\r\n\r\nexport const ErrorField = styled.span`\r\n  display: block;\r\n  transition: 0.3s ease all;\r\n  margin: 15px 10px 0 10px;\r\n  font-size: 11px;\r\n  color: rgb(241, 62, 62);\r\n`;\r\n\r\nconst Login = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false),\r\n    [isShowMenu, setIsShowMenu] = useState(false),\r\n    [isLogin, setIsLogin] = useState(false),\r\n    [email, setEmail] = useState(\"\"),\r\n    [password, setPassword] = useState(\"\"),\r\n    [isForgetPass, setIsForgetPass] = useState(false),\r\n    [allValidationError, setAllValidationError] = useState(\"\");\r\n\r\n  const loginRef = useRef(null);\r\n  const [cookies, setCookie, removeCookie] = useCookies([]);\r\n\r\n  useEffect(() => {\r\n    if (sessionStorage.getItem(\"uniqueCompanyType\")) {\r\n      sessionStorage.setItem(\"uniqueCompanyType\", \"\");\r\n    }\r\n\r\n    sessionStorage.setItem(\"prevZoom\", \"\");\r\n    sessionStorage.setItem(\"prevCenter\", \"\");\r\n  }, []);\r\n\r\n  const hideSideMenu = () => {\r\n      setShowSlideSideMenu(false);\r\n      document.body.style.overflow = \"visible\";\r\n      setIsShowMenu(false);\r\n    },\r\n    showSideMenu = () => {\r\n      setShowSlideSideMenu(true);\r\n      document.body.style.overflow = \"hidden\";\r\n      setIsShowMenu(true);\r\n    };\r\n\r\n  window.onresize = function (e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const hideMenu = (e) => {\r\n      if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n        hideSideMenu();\r\n      }\r\n    },\r\n    loginClick = (e) => {\r\n      e.preventDefault();\r\n      !isForgetPass && userLogin(email, password);\r\n    };\r\n\r\n  const userLogin = (email, password) => {\r\n    QUERY({\r\n      query: `mutation {\r\n        login (input: {username: \"${email}\", password: \"${password}\"}) \r\n        {access_token refresh_token expires_in token_type user {id name email}}\r\n      }`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          setCookie(\"origin_data\", data.data.login.access_token);\r\n          setCookie(\"origin_id\", data.data.login.user.id);\r\n\r\n          for (let i = 0; i < loginRef.current.children.length - 1; i++) {\r\n            loginRef.current.children[i].style.boxShadow = \"none\";\r\n          }\r\n\r\n          setAllValidationError(\"\");\r\n          setIsLogin(data.data.login.user.id);\r\n        } else {\r\n          removeCookie(\"origin_data\");\r\n          removeCookie(\"origin_id\");\r\n\r\n          setAllValidationError(\"Неверный логин либо пароль\");\r\n\r\n          for (let i = 0; i < loginRef.current.children.length - 1; i++) {\r\n            loginRef.current.children[i].style.boxShadow =\r\n              \"0 0 1px 1px rgb(255, 54, 54)\";\r\n          }\r\n          setIsLogin(false);\r\n          console.log(data.errors[0], \"LOGIN ERR\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        removeCookie(\"origin_data\");\r\n        removeCookie(\"origin_id\");\r\n        setIsLogin(false);\r\n        console.log(err, \"LOGIN ERR\");\r\n      });\r\n  };\r\n\r\n  const SwipePageSpring = useSpring({\r\n    right: isShowMenu ? 200 : 0,\r\n    config: { duration: 200 },\r\n  });\r\n\r\n  if (Number(isLogin) === 1 || Number(cookies.origin_id) === 1) {\r\n    return <Redirect to=\"/editCompany\" />;\r\n  } else if (\r\n    Number(isLogin) ||\r\n    (Number(cookies.origin_id) && Number(cookies.origin_id) !== 1)\r\n  ) {\r\n    return \"Обычный юзер\";\r\n  } else {\r\n    return (\r\n      <div>\r\n        <Header\r\n          arrow\r\n          isShowMenu={isShowMenu}\r\n          logo\r\n          burger\r\n          showSlideSideMenu={showSlideSideMenu}\r\n          showSideMenu={showSideMenu}\r\n        />\r\n        <AuthBlockWrap\r\n          as={animated.div}\r\n          onClick={(e) => hideMenu(e)}\r\n          style={SwipePageSpring}\r\n        >\r\n          <GoBackBtn to=\"/\">\r\n            <GoBackBtnArrow>&#8592;</GoBackBtnArrow>\r\n            На главную\r\n          </GoBackBtn>\r\n          <AuthBlock>\r\n            <HeadTitle>\r\n              {!isForgetPass ? \"АВТОРИЗАЦИЯ\" : \"ВОССТАНОВЛЕНИЕ ПАРОЛЯ\"}\r\n            </HeadTitle>\r\n            <AuthForm ref={loginRef} onSubmit={(e) => loginClick(e)}>\r\n              <AuthInput\r\n                autocomplete=\"username\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n              {!isForgetPass && (\r\n                <>\r\n                  <AuthInput\r\n                    autocomplete=\"current-password\"\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                  />\r\n                  <AuthSubmitBtn type=\"submit\" value=\"ВОЙТИ\" />\r\n                </>\r\n              )}\r\n              {isForgetPass && (\r\n                <AuthForgetSubmitBtn>ОТПРАВИТЬ</AuthForgetSubmitBtn>\r\n              )}\r\n            </AuthForm>\r\n            <Question onClick={() => setIsForgetPass((prev) => !prev)}>\r\n              {!isForgetPass ? \"  Забыли пароль?\" : \" Уже есть аккаунт?\"}\r\n              <ErrorField>{!isForgetPass && allValidationError}</ErrorField>\r\n            </Question>\r\n          </AuthBlock>\r\n          <SlideSideMenu isShowMenu={isShowMenu} />\r\n        </AuthBlockWrap>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport QUERY from \"../../query\";\r\nimport { defaultColor } from \"../../constants\";\r\nimport Popup from \"../../components/popup/Popup\";\r\n\r\nconst GoBackBtnD = styled(Link)`\r\n    font-size: 16px;\r\n    display: block;\r\n    font-weight: normal;\r\n    height: 100px;\r\n    width: 150px;\r\n    line-height: 100px;\r\n    &:hover {\r\n      color: ${defaultColor};\r\n    }\r\n    @media (max-width: 760px) {\r\n      display: none;\r\n    }\r\n  `,\r\n  GoBackBtnArrowD = styled.span`\r\n    font-size: 18px;\r\n    padding-right: 5px;\r\n  `,\r\n  EditCompanyContent = styled.div`\r\n    width: 1000px;\r\n    margin: 0 auto;\r\n    @media (max-width: 760px) {\r\n      width: 100vw;\r\n      overflow: hidden;\r\n      margin: 0;\r\n      position: relative;\r\n      display: block;\r\n      padding-top: 60px;\r\n    }\r\n  `,\r\n  HeaderText = styled.h3`\r\n    font-weight: 700;\r\n    font-size: 24px;\r\n    margin-bottom: 40px;\r\n    @media (max-width: 760px) {\r\n      width: 100vw;\r\n      padding: 5px;\r\n      font-weight: 700;\r\n      font-size: 18px;\r\n      margin-bottom: 15px;\r\n      text-align: center;\r\n    }\r\n  `,\r\n  NewCompany = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: ${defaultColor};\r\n    cursor: pointer;\r\n    color: #fff;\r\n    width: 240px;\r\n    height: 40px;\r\n    border-radius: 5px;\r\n    font-size: 14px;\r\n    font-weight: 700;\r\n    text-transform: uppercase;\r\n    margin-top: 20px;\r\n    &:hover {\r\n      opacity: 0.7;\r\n    }\r\n    @media (max-width: 760px) {\r\n      margin: 20px auto;\r\n    }\r\n  `,\r\n  Table = styled.table`\r\n    width: 80%;\r\n    border-bottom: 1px solid #eaeaea;\r\n    @media (max-width: 760px) {\r\n      display: flex;\r\n      flex: 1;\r\n      width: 100vw;\r\n    }\r\n  `,\r\n  Tr = styled.tr`\r\n    border-top: 1px solid #eaeaea;\r\n    display: flex;\r\n    @media (max-width: 760px) {\r\n      display: flex;\r\n      width: 100vw;\r\n      border-bottom: 1px solid #eaeaea;\r\n      padding: 0 15px;\r\n    }\r\n  `,\r\n  Td = styled.td`\r\n    padding: 4px;\r\n    display: flex;\r\n    flex: 1;\r\n    &:first-of-type {\r\n      flex: 1.5;\r\n    }\r\n    &:nth-child(2) {\r\n      font-weight: 400;\r\n      font-size: 18px;\r\n    }\r\n    &:nth-child(3) {\r\n      font-weight: 400;\r\n      font-size: 18px;\r\n      color: #aeaeae;\r\n    }\r\n    &:nth-child(4) {\r\n      font-weight: 500;\r\n      font-size: 18px;\r\n      color: ${defaultColor};\r\n    }\r\n    @media (max-width: 760px) {\r\n      display: flex;\r\n      height: 50px;\r\n      line-height: 45px;\r\n      font-weight: 700;\r\n      display: inline-block;\r\n      &:nth-child(2) {\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        -o-text-overflow: ellipsis;\r\n        text-overflow: ellipsis;\r\n        display: flex;\r\n        flex: 2 !important;\r\n      }\r\n\r\n      &:nth-child(2) {\r\n        display: flex;\r\n        text-transform: capitalize;\r\n        justify-content: center;\r\n        font-weight: 700;\r\n        flex: 1.3 !important;\r\n      }\r\n\r\n      &:nth-child(3) {\r\n        display: none;\r\n        justify-content: center;\r\n        flex: 1.3 !important;\r\n        font-weight: 700;\r\n      }\r\n    }\r\n  `,\r\n  TdDelete = styled.td`\r\n    width: 30px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    color: ${defaultColor};\r\n    transition: 0.3s ease color;\r\n    font-weight: 400;\r\n    font-size: 22px;\r\n    &:hover {\r\n      color: #000;\r\n    }\r\n  `,\r\n  TdDisable = styled(Td)`\r\n    cursor: pointer;\r\n    font-weight: 500;\r\n    &:hover {\r\n      opacity: 0.7;\r\n    }\r\n  `,\r\n  NameLink = styled(Link)`\r\n    display: block;\r\n    width: 100%;\r\n    transition: 0.3s ease color;\r\n    &:hover {\r\n      color: ${defaultColor};\r\n    }\r\n  `,\r\n  PopupQuestion = styled.p`\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n    text-align: center;\r\n  `,\r\n  PopupBtnsWrap = styled.div`\r\n    display: flex;\r\n    justify-content: space-around;\r\n    margin-top: 20px;\r\n  `,\r\n  Yes = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    width: 120px;\r\n    justify-content: center;\r\n    height: 40px;\r\n    border-radius: 5px;\r\n    color: #fff;\r\n    font-weight: 400;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    text-transform: uppercase;\r\n    &:hover {\r\n      opacity: 0.7;\r\n    }\r\n\r\n    background-color: ${defaultColor};\r\n  `,\r\n  No = styled(Yes)`\r\n    background-color: #fff;\r\n    border: 2px solid ${defaultColor};\r\n    color: #000;\r\n  `;\r\n\r\nconst EditCompany = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false),\r\n    [isShowMenu, setIsShowMenu] = useState(false),\r\n    [cookies] = useCookies([]),\r\n    [isLoading, setIsLoading] = useState(true),\r\n    [places, setPlaces] = useState([]),\r\n    [showPopupIsDelete, setShowPopupIsDelete] = useState(false),\r\n    [clickedDeleteBtnName, setClickedDeleteBtnName] = useState(\"\"),\r\n    [clickedDeleteBtnId, setClickedDeleteBtnId] = useState(\"\");\r\n\r\n  const togglePopupIsDelete = () => {\r\n      showPopupIsDelete\r\n        ? setShowPopupIsDelete(false)\r\n        : setShowPopupIsDelete(true);\r\n    },\r\n    hideSideMenu = () => {\r\n      setShowSlideSideMenu(false);\r\n      document.body.style.overflow = \"visible\";\r\n      setIsShowMenu(false);\r\n    };\r\n\r\n  useEffect(() => {\r\n    if (showPopupIsDelete) {\r\n      document.body.style.overflow = \"hidden\";\r\n    } else {\r\n      document.body.style.overflow = \"auto\";\r\n    }\r\n  }, [showPopupIsDelete]);\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function (e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const refreshData = () => {\r\n    QUERY({\r\n      query: `query {\r\n            places(first: 200) { data {id name alias disabled categories{name }}}\r\n          }`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          setIsLoading(false);\r\n          setPlaces(data.data.places.data);\r\n        } else {\r\n          console.log(data.errors, \"EDIT ERROR\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err, \"EDIT ERROR\"));\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshData();\r\n    sessionStorage.setItem(\"prevZoom\", \"\");\r\n    sessionStorage.setItem(\"prevCenter\", \"\");\r\n  }, []);\r\n\r\n  const SwipePageSpring = useSpring({\r\n    right: isShowMenu ? 200 : 0,\r\n    config: { duration: 200 },\r\n  });\r\n\r\n  const createNewCompany = () => {\r\n      setIsLoading(true);\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n          createPlace(\r\n            input:{\r\n              name: \"Стандартное название\",\r\n              address:\"улица Ленина 8, Минск, Беларусь\",\r\n              description: \"введите описание\",\r\n              coordinates: \"53.9006799,27.5582599\",\r\n              alias:\"pseudonim\",\r\n              categories:{\r\n                connect: 2\r\n              }    \r\n            }){id name address description coordinates categories{slug}}        \r\n      }`,\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setIsLoading(false);\r\n          if (!data.errors) {\r\n            console.log(data, \"____ID____\");\r\n            refreshData();\r\n            return <Redirect to={`/admin/${data.data.createPlace.id}`} />;\r\n          } else {\r\n            console.log(data.errors, \"EDIT ERROR\");\r\n          }\r\n        })\r\n        .catch((err) => console.log(err, \"EDIT ERROR\"));\r\n    },\r\n    deleteCompany = (id) => {\r\n      setIsLoading(true);\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n          deletePlace(\r\n             id:${id}\r\n            ){id name}        \r\n      }`,\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setIsLoading(false);\r\n\r\n          if (!data.errors) {\r\n            console.log(data, \"____ID____\");\r\n            refreshData();\r\n          } else {\r\n            console.log(data.errors, \"EDIT ERROR\");\r\n          }\r\n        })\r\n        .catch((err) => console.log(err, \"EDIT ERROR\"));\r\n    },\r\n    toggleDisabled = (id, disabled) => {\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n        updatePlace(\r\n          input:{\r\n            id:\"${id}\"            \r\n            disabled : ${disabled ? false : true}\r\n          }\r\n        ){id disabled}\r\n      }`,\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (!data.errors) {\r\n            refreshData();\r\n          } else {\r\n          }\r\n        })\r\n        .catch((err) => {});\r\n    };\r\n\r\n  const hide = (e) => {\r\n      if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu)\r\n        hideSideMenu();\r\n    },\r\n    deleteOne = (name, id) => {\r\n      togglePopupIsDelete();\r\n      setClickedDeleteBtnName(name);\r\n      setClickedDeleteBtnId(id);\r\n    };\r\n\r\n  if (!Number(cookies.origin_id)) {\r\n    return <Redirect to=\"/login\" />;\r\n  } else if (Number(cookies.origin_id) !== 1) {\r\n    return <Redirect to=\"/\" />;\r\n  } else {\r\n    return (\r\n      <div onClick={(e) => hide(e)}>\r\n        <Header\r\n          isShowMenu={isShowMenu}\r\n          logo\r\n          burger\r\n          arrow\r\n          showSlideSideMenu={showSlideSideMenu}\r\n          showSideMenu={showSideMenu}\r\n        />\r\n\r\n        <EditCompanyContent as={animated.div} style={SwipePageSpring}>\r\n          <GoBackBtnD to=\"/\">\r\n            <GoBackBtnArrowD>&#8592;</GoBackBtnArrowD>\r\n            На главную\r\n          </GoBackBtnD>\r\n\r\n          <HeaderText>СПИСОК ЗАВЕДЕНИЙ</HeaderText>\r\n\r\n          <Table>\r\n            <tbody>\r\n              {!!places &&\r\n                !!places.length &&\r\n                places.map(({ id, name, alias, categories, disabled }) => {\r\n                  return (\r\n                    <Tr key={id}>\r\n                      <TdDelete onClick={() => deleteOne(name, id)}>\r\n                        &#215;\r\n                      </TdDelete>\r\n                      <Td>\r\n                        <NameLink to={`/admin/${id}`}>{name}</NameLink>\r\n                      </Td>\r\n                      <Td>{alias && alias.toLowerCase()}</Td>\r\n                      <Td>\r\n                        {categories[0] &&\r\n                          categories[0].name &&\r\n                          categories[0].name.toLowerCase()}\r\n                      </Td>\r\n\r\n                      <TdDisable onClick={() => toggleDisabled(id, disabled)}>\r\n                        {disabled ? \"Выкл.\" : \"Вкл.\"}\r\n                      </TdDisable>\r\n                    </Tr>\r\n                  );\r\n                })}\r\n            </tbody>\r\n          </Table>\r\n          <NewCompany onClick={() => createNewCompany()}>\r\n            Создать заведение\r\n          </NewCompany>\r\n        </EditCompanyContent>\r\n\r\n        {isLoading && <Loader />}\r\n        <SlideSideMenu isShowMenu={isShowMenu} />\r\n        {showPopupIsDelete && (\r\n          <Popup\r\n            togglePopup={togglePopupIsDelete}\r\n            style={{ padding: \"20px\", borderRadius: \"10px\" }}\r\n          >\r\n            <PopupQuestion>{`Действительно хотите удалить  \"${clickedDeleteBtnName}\"?`}</PopupQuestion>\r\n            <PopupBtnsWrap>\r\n              <Yes\r\n                onClick={() => {\r\n                  deleteCompany(clickedDeleteBtnId);\r\n                  setShowPopupIsDelete(false);\r\n                }}\r\n              >\r\n                да\r\n              </Yes>\r\n              <No onClick={() => setShowPopupIsDelete(false)}>нет</No>\r\n            </PopupBtnsWrap>\r\n          </Popup>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default EditCompany;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport QUERY from \"../../query\";\r\nimport {\r\n  GoBackBtn,\r\n  GoBackBtnArrow,\r\n  AuthBlock,\r\n  HeadTitle,\r\n  AuthBlockWrap,\r\n  AuthForm,\r\n  AuthInput,\r\n  AuthSubmitBtn,\r\n  Question,\r\n  ErrorField,\r\n  AuthForgetSubmitBtn,\r\n} from \"./Login\";\r\n\r\nconst SuccessText = styled.p`\r\n  font-weight: 400;\r\n  font-size: 14px;\r\n  line-height: 16px;\r\n  text-align: center;\r\n  margin-bottom: 25px;\r\n  margin-top: 5px;\r\n`;\r\n\r\nconst Registration = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false),\r\n    [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n      setShowSlideSideMenu(false);\r\n      document.body.style.overflow = \"visible\";\r\n      setIsShowMenu(false);\r\n    },\r\n    showSideMenu = () => {\r\n      setShowSlideSideMenu(true);\r\n      document.body.style.overflow = \"hidden\";\r\n      setIsShowMenu(true);\r\n    };\r\n\r\n  const [name, setName] = useState(\"\"),\r\n    [email, setEmail] = useState(\"\"),\r\n    [password, setPassword] = useState(\"\"),\r\n    [rePassword, setRePassword] = useState(\"\"),\r\n    [isSuccess, setIsSuccess] = useState(false),\r\n    [cookies, setCookie, removeCookie] = useCookies([]),\r\n    [allValidationError, setAllValidationError] = useState(null),\r\n    [oneValidationError, setOneValidationError] = useState(null);\r\n\r\n  const register = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (sessionStorage.getItem(\"uniqueCompanyType\")) {\r\n      sessionStorage.setItem(\"uniqueCompanyType\", \"\");\r\n    }\r\n\r\n    sessionStorage.setItem(\"prevZoom\", \"\");\r\n    sessionStorage.setItem(\"prevCenter\", \"\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (allValidationError) {\r\n      const nameFirstErrInput = Object.keys(allValidationError)[0].split(\r\n        \".\"\r\n      )[1];\r\n\r\n      for (let i = 0; i < register.current.children.length; i++) {\r\n        register.current.children[i].style.boxShadow = \"none\";\r\n      }\r\n\r\n      register.current.children[nameFirstErrInput].style.boxShadow =\r\n        \"0 0 1px 1px rgb(255, 54, 54)\";\r\n\r\n      setOneValidationError(\r\n        allValidationError[`input.${nameFirstErrInput}`][0]\r\n      );\r\n    }\r\n  }, [allValidationError]);\r\n\r\n  window.onresize = function (e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const registration = () => {\r\n    QUERY({\r\n      query: `mutation {\r\n        register (input: {\r\n          name: \"${name}\", email: \"${email}\",\r\n          password: \"${password}\" password_confirmation: \"${rePassword}\"\r\n        }) {\r\n          status\r\n          tokens{access_token refresh_token expires_in token_type\r\n          user{id name email }\r\n         }}\r\n      }`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          setCookie(\"origin_data\", data.data.register.tokens.access_token);\r\n          setCookie(\"origin_id\", data.data.register.tokens.user.id);\r\n\r\n          setName(\"\");\r\n          setEmail(\"\");\r\n          setPassword(\"\");\r\n          setRePassword(\"\");\r\n          setIsSuccess(true);\r\n        } else {\r\n          removeCookie(\"origin_data\");\r\n          removeCookie(\"origin_id\");\r\n          setAllValidationError(data.errors[0].extensions.validation);\r\n          console.log(data.errors, \"REGISER ERR\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        removeCookie(\"origin_data\");\r\n        removeCookie(\"origin_id\");\r\n        console.log(err, \"  *****************ERR\");\r\n      });\r\n  };\r\n\r\n  const animateProps = useSpring({\r\n    right: isShowMenu ? 200 : 0,\r\n    config: { duration: 200 },\r\n  });\r\n\r\n  const hide = (e) => {\r\n      if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n        hideSideMenu();\r\n      }\r\n    },\r\n    registrationClick = (e) => {\r\n      e.preventDefault();\r\n      registration();\r\n    };\r\n\r\n  if (!!Number(cookies.origin_id)) {\r\n    return <Redirect to=\"/\" />;\r\n  } else {\r\n    return (\r\n      <div>\r\n        <Header\r\n          arrow\r\n          isShowMenu={isShowMenu}\r\n          logo\r\n          burger\r\n          showSlideSideMenu={showSlideSideMenu}\r\n          showSideMenu={showSideMenu}\r\n        />\r\n        <AuthBlockWrap\r\n          as={animated.div}\r\n          onClick={(e) => hide(e)}\r\n          style={animateProps}\r\n        >\r\n          <GoBackBtn to=\"/\">\r\n            <GoBackBtnArrow>&#8592;</GoBackBtnArrow>\r\n            На главную\r\n          </GoBackBtn>\r\n          <AuthBlock>\r\n            {!isSuccess && (\r\n              <>\r\n                <HeadTitle>РЕГИСТРАЦИЯ</HeadTitle>\r\n                <AuthForm ref={register} onSubmit={(e) => registrationClick(e)}>\r\n                  <AuthInput\r\n                    type=\"name\"\r\n                    name=\"name\"\r\n                    placeholder=\"Имя\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                  />\r\n                  <AuthInput\r\n                    type=\"text\"\r\n                    name=\"email\"\r\n                    placeholder=\"E-mail\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                  />\r\n                  <AuthInput\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"Пароль\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                  />\r\n                  <AuthInput\r\n                    type=\"password\"\r\n                    name=\"re_password\"\r\n                    placeholder=\"Повтор пароля\"\r\n                    value={rePassword}\r\n                    onChange={(e) => setRePassword(e.target.value)}\r\n                  />\r\n                  <AuthSubmitBtn type=\"submit\" value=\"Зарегистрироваться\" />\r\n                </AuthForm>\r\n                <Question as={Link} to=\"/login\">\r\n                  Уже есть аккаунт?\r\n                  <ErrorField> {oneValidationError}</ErrorField>\r\n                </Question>\r\n              </>\r\n            )}\r\n            {isSuccess && (\r\n              <>\r\n                <h4>ПОЗДРАВЛЯЕМ!</h4>\r\n                <SuccessText>Вы успешно прошли регистрацию!</SuccessText>\r\n                <AuthForgetSubmitBtn to=\"/\">\r\n                  ПЕРЕЙТИ НА ГЛАВНУЮ\r\n                </AuthForgetSubmitBtn>\r\n              </>\r\n            )}\r\n          </AuthBlock>\r\n          <SlideSideMenu isShowMenu={isShowMenu} />\r\n        </AuthBlockWrap>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Registration;\r\n","import React from \"react\";\r\nimport { slide as Menu } from \"react-burger-menu\";\r\n\r\nexport default (props) => <Menu {...props}>{props.children}</Menu>;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport VideoPlayer from \"../../components/videoPlayer/VideoPlayer\";\r\nimport Switch from \"react-switch\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nimport { defaultColor } from \"../../constants\";\r\nimport QUERY from \"../../query\";\r\n\r\nconst DisableStreamD = styled.span`\r\n  width: 80%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 10px;\r\n  div {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst DisableStreamToNexDayD = styled.span`\r\n  font-size: 16px;\r\n  color: #6f6f6f;\r\n`;\r\n\r\nconst DisableStreamTextD = styled.span`\r\n  font-size: 18px;\r\n  color: #000;\r\n`;\r\n\r\nconst StreamBlock = styled.div`\r\n  font-size: 18px;\r\n`;\r\n\r\nconst H3 = styled.h3`\r\n  font-size: 24px;\r\n`;\r\n\r\nconst VideoWrap = styled.div`\r\n  margin-top: 20px;\r\n  width: 80%;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ChooseStreamAddress = styled.div`\r\n  margin-top: 15px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst CameraAddressWrapper = styled.div`\r\n  width: 80%;\r\n  display: flex;\r\n`;\r\n\r\nconst CameraAddresLable = styled.span`\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n  color: #4f4f4f;\r\n  background-color: #fff;\r\n  margin-right: 15px;\r\n  padding-top: 2px;\r\n`;\r\n\r\nconst StreamAddress = styled.input`\r\n  width: 100%;\r\n  border-radius: 5px;\r\n  outline: none;\r\n  border: 1px solid #eee;\r\n  padding: 0 7px;\r\n  flex: 1;\r\n  height: 30px;\r\n`;\r\n\r\nconst ChooseStreamAddressSaveBtn = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-transform: uppercase;\r\n  cursor: pointer;\r\n  border: 1px solid #eee;\r\n  height: 40px;\r\n  width: 244px;\r\n  margin-top: 37px;\r\n  border-radius: 5px;\r\n  background-color: #f8104d;\r\n  color: #fff;\r\n  transition: 0.3s ease opacity;\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  &:hover {\r\n    opacity: 0.8;\r\n  }\r\n`;\r\n\r\nconst CancelBtnProfile = styled.div`\r\n  border: 2px solid #c4c4c4;\r\n  color: #4f4f4f;\r\n  font-weight: 700;\r\n  font-size: 14px;\r\n  border-radius: 5px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 244px;\r\n  height: 39px;\r\n  cursor: pointer;\r\n  margin: 38px 0 15px 0;\r\n  &:hover {\r\n    color: rgb(227, 42, 108);\r\n    border: 2px solid rgb(227, 42, 108);\r\n    transition: 0.3s ease all;\r\n  }\r\n`;\r\n\r\nconst Stream = ({ index, DATA, props, refreshData }) => {\r\n  const [cookies] = useCookies([]);\r\n\r\n  const [switchChecked, setSwitchChecked] = useState(null),\r\n    [streamAddressData, setStreamAddressData] = useState(\"\");\r\n\r\n  const toNewDateFormat = (date) => {\r\n    const dataArr = date.split(\"/\");\r\n    if (dataArr[0].length < 2) dataArr[0] = \"0\" + dataArr[0];\r\n    const dataArrNew = [dataArr[2], dataArr[0], dataArr[1]],\r\n      dataString = dataArrNew.join(\"-\");\r\n\r\n    return dataString;\r\n  };\r\n\r\n  const isStream = DATA.streams && DATA.streams[0],\r\n    streamAddressPlaceholder =\r\n      (isStream && isStream.url && isStream.url) || \"Введите адрес стрима\";\r\n\r\n  useEffect(() => {\r\n    isStream &&\r\n      isStream.see_you_tomorrow &&\r\n      setSwitchChecked(\r\n        isStream.see_you_tomorrow ===\r\n          toNewDateFormat(new Date().toLocaleDateString())\r\n      );\r\n  }, [DATA.streams]);\r\n\r\n  const createStream = (name) => {\r\n      if (cookies.origin_data) {\r\n        QUERY(\r\n          {\r\n            query: `mutation {\r\n              createStream(\r\n                input:{\r\n                  name: \"${DATA.name}\"\r\n                  url :\"https://partycamera.org/${name}/index.m3u8\"\r\n                  preview : \"http://partycamera.org:80/${name}/preview.mp4\"\r\n                  place:{connect:\"${props.match.params.id}\"}                  \r\n                }) {id name url}\r\n            }`,\r\n          },\r\n          cookies.origin_data\r\n        )\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            !data.errors\r\n              ? refreshData()\r\n              : console.log(data.errors, \"CREATE STREAM ERRORS\");\r\n          })\r\n          .catch((err) => console.log(err, \"CREATE STREAM ERR\"));\r\n      }\r\n    },\r\n    updateStream = (name) => {\r\n      if (cookies.origin_data) {\r\n        const videoPreview = name.split(\"/\"),\r\n          videoPreviewUrl = name.replace(\r\n            videoPreview[videoPreview.length - 1],\r\n            \"image.jpg\"\r\n          );\r\n\r\n        QUERY(\r\n          {\r\n            query: `mutation {\r\n            updateStream (\r\n              input:{\r\n                id:\"${isStream.id}\"\r\n                url :\"${name}\"\r\n                preview : \"${videoPreviewUrl}\"\r\n              }\r\n            ) { id name url }\r\n          }`,\r\n          },\r\n          cookies.origin_data\r\n        )\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            if (!data.errors) {\r\n              refreshData();\r\n            } else {\r\n              console.log(data.errors, \"UPDATESTREAM ERRORS\");\r\n            }\r\n          })\r\n          .catch((err) => console.log(err, \"UPDATESTREAM ERR\"));\r\n      }\r\n    },\r\n    deleteStream = () => {\r\n      if (cookies.origin_data && isStream) {\r\n        QUERY(\r\n          {\r\n            query: `mutation {\r\n              deleteStream(id:\"${+isStream.id}\"\r\n                ) {id name url}\r\n            }`,\r\n          },\r\n          cookies.origin_data\r\n        )\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            if (!data.errors) {\r\n              refreshData();\r\n            } else {\r\n              console.log(data.errors, \"DELETE STREAM ERRORS\");\r\n            }\r\n          })\r\n          .catch((err) => console.log(err, \"CREATE STREAM ERR\"));\r\n      }\r\n    },\r\n    disableStream = (data) => {\r\n      let dataString = \"\";\r\n      if (data)\r\n        dataString = data.indexOf(\"-\") === -1 ? toNewDateFormat(data) : data;\r\n\r\n      if (cookies.origin_data && isStream) {\r\n        QUERY(\r\n          {\r\n            query: `mutation {\r\n            updateStream (\r\n              input:{\r\n                id:\"${+isStream.id}\"\r\n               ${\r\n                 data\r\n                   ? ` see_you_tomorrow: \"${dataString}\"`\r\n                   : ` see_you_tomorrow: ${data}`\r\n               }               \r\n              }\r\n            ) { id name url }\r\n          }`,\r\n          },\r\n          cookies.origin_data\r\n        )\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            console.log(data, \"---data\");\r\n            !data.errors\r\n              ? refreshData()\r\n              : console.log(data.errors, \"disableStream ERRORS\");\r\n          })\r\n          .catch((err) => console.log(err, \"disableStream ERR\"));\r\n      }\r\n    },\r\n    save = () => {\r\n      if (\r\n        streamAddressData &&\r\n        streamAddressData.toLocaleLowerCase() !== \"delete\"\r\n      ) {\r\n        !isStream\r\n          ? createStream(streamAddressData)\r\n          : updateStream(streamAddressData);\r\n      } else if (streamAddressData.toLocaleLowerCase() === \"delete\") {\r\n        deleteStream();\r\n      }\r\n\r\n      disableStream(\r\n        switchChecked ? toNewDateFormat(new Date().toLocaleDateString()) : null\r\n      );\r\n    };\r\n\r\n  return (\r\n    <StreamBlock key={index}>\r\n      <H3>СТРИМ</H3>\r\n      {isStream && (\r\n        <>\r\n          <VideoWrap>\r\n            <VideoPlayer preview={isStream.preview} src={isStream.url} />\r\n          </VideoWrap>\r\n          <DisableStreamD>\r\n            <div>\r\n              <DisableStreamTextD>Отключить стрим</DisableStreamTextD>\r\n              <DisableStreamToNexDayD>\r\n                Выключить до следующего дня\r\n              </DisableStreamToNexDayD>\r\n            </div>\r\n\r\n            <Switch\r\n              onChange={setSwitchChecked}\r\n              checked={switchChecked}\r\n              onColor={defaultColor}\r\n              offColor=\"#999\"\r\n              uncheckedIcon={false}\r\n              checkedIcon={false}\r\n            />\r\n          </DisableStreamD>\r\n        </>\r\n      )}\r\n\r\n      <ChooseStreamAddress>\r\n        <CameraAddressWrapper>\r\n          <CameraAddresLable>Адрес камеры:</CameraAddresLable>\r\n          <StreamAddress\r\n            placeholder={streamAddressPlaceholder}\r\n            value={streamAddressData}\r\n            onInput={(e) => setStreamAddressData(e.target.value)}\r\n          />\r\n        </CameraAddressWrapper>\r\n        <div style={{ display: \"flex\" }}>\r\n          <ChooseStreamAddressSaveBtn\r\n            style={{ marginRight: \"19px\" }}\r\n            onClick={() => save()}\r\n          >\r\n            Сохранить\r\n          </ChooseStreamAddressSaveBtn>\r\n          <CancelBtnProfile onClick={() => setStreamAddressData(\"\")}>\r\n            Отмена\r\n          </CancelBtnProfile>\r\n        </div>\r\n      </ChooseStreamAddress>\r\n    </StreamBlock>\r\n  );\r\n};\r\n\r\nexport default Stream;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport VideoPlayer from \"../../components/videoPlayer/VideoPlayer\";\r\nimport Switch from \"react-switch\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { defaultColor } from \"../../constants\";\r\nimport QUERY from \"../../query\";\r\n\r\nconst Wrap = styled.div`\r\n  position: relative;\r\n  top: -46px;\r\n`;\r\n\r\nconst HeaderWrap = styled.div`\r\n  display: flex;\r\n  height: 44px;\r\n  border-bottom: 1px solid #ececec;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 25px;\r\n`;\r\n\r\nconst CancelSave = styled.p`\r\n  letter-spacing: 0.5px;\r\n  color: defaultColor;\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n`;\r\n\r\nconst PartyLive = styled.p`\r\n  display: inline-block;\r\n  font-weight: 700;\r\n  font-size: 24px;\r\n  letter-spacing: 0.05em;\r\n  transition: 0.3s ease all;\r\n  color: #323232;\r\n  @media (max-width: 760px) {\r\n    font-size: 20px;\r\n  }\r\n`;\r\n\r\nconst Live = styled.span`\r\n  display: inline-block;\r\n  background-color: ${defaultColor};\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  margin-left: 3px;\r\n  padding: 0 7px;\r\n`;\r\n\r\nconst AdminMenuTitleM = styled.p`\r\n  text-align: center;\r\n  padding-top: 20px;\r\n  padding-bottom: 10px;\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst DisableStreamM = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin: 10px;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst DisableStreamTextM = styled.div`\r\n  font-size: 18px;\r\n`;\r\n\r\nconst DisableStreamToNexDayM = styled.div`\r\n  font-size: 16px;\r\n`;\r\n\r\nconst StreamMobile = ({ closeAllSidebar, DATA, refreshData }) => {\r\n  const [cookies] = useCookies([]);\r\n\r\n  const [switchChecked, setSwitchChecked] = useState(null);\r\n\r\n  const toNewDateFormat = (date) => {\r\n    const dataArr = date.split(\"/\");\r\n    if (dataArr[0].length < 2) dataArr[0] = \"0\" + dataArr[0];\r\n    const dataArrNew = [dataArr[2], dataArr[0], dataArr[1]],\r\n      dataString = dataArrNew.join(\"-\");\r\n\r\n    return dataString;\r\n  };\r\n\r\n  const isStream = DATA.streams && DATA.streams[0];\r\n\r\n  useEffect(() => {\r\n    isStream &&\r\n      isStream.see_you_tomorrow &&\r\n      setSwitchChecked(\r\n        isStream.see_you_tomorrow ===\r\n          toNewDateFormat(new Date().toLocaleDateString())\r\n      );\r\n  }, [DATA.streams]);\r\n\r\n  const disableStream = (data) => {\r\n      if (cookies.origin_data && isStream) {\r\n        QUERY(\r\n          {\r\n            query: `mutation {\r\n            updateStream (\r\n              input:{\r\n                id:\"${isStream.id}\"\r\n               ${\r\n                 data\r\n                   ? ` see_you_tomorrow: \"${data}\"`\r\n                   : ` see_you_tomorrow: ${data}`\r\n               }               \r\n              }\r\n            ) { id name url }\r\n          }`,\r\n          },\r\n          cookies.origin_data\r\n        )\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            !data.errors\r\n              ? refreshData()\r\n              : console.log(data.errors, \"disableStream ERRORS\");\r\n          })\r\n          .catch((err) => console.log(err, \"disableStream ERR\"));\r\n      }\r\n    },\r\n    save = () => {\r\n      closeAllSidebar();\r\n      disableStream(\r\n        switchChecked ? toNewDateFormat(new Date().toLocaleDateString()) : null\r\n      );\r\n    };\r\n\r\n  return (\r\n    <Wrap>\r\n      <HeaderWrap>\r\n        <CancelSave onClick={() => closeAllSidebar()}>Отмена</CancelSave>\r\n        <Link to=\"/\">\r\n          <PartyLive>\r\n            PARTY<Live>.LIVE</Live>\r\n          </PartyLive>\r\n        </Link>\r\n        <CancelSave onClick={() => save()}>Готово</CancelSave>\r\n      </HeaderWrap>\r\n      <AdminMenuTitleM>Стрим</AdminMenuTitleM>\r\n      {isStream && (\r\n        <>\r\n          <div className=\"videoWrapAdminMobile\">\r\n            <VideoPlayer preview={isStream.preview} src={isStream.url} />\r\n          </div>\r\n          <DisableStreamM>\r\n            <div>\r\n              <DisableStreamTextM>Отключить стрим</DisableStreamTextM>\r\n              <DisableStreamToNexDayM>\r\n                Выключить до следующего дня\r\n              </DisableStreamToNexDayM>\r\n            </div>\r\n            <Switch\r\n              onChange={setSwitchChecked}\r\n              checked={switchChecked}\r\n              onColor={defaultColor}\r\n              offColor=\"#999\"\r\n              uncheckedIcon={false}\r\n              checkedIcon={false}\r\n            />\r\n          </DisableStreamM>\r\n        </>\r\n      )}\r\n    </Wrap>\r\n  );\r\n};\r\n\r\nexport default StreamMobile;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { defaultColor } from \"../../constants\";\r\n\r\nconst TPName = styled.p`\r\n  text-align: center;\r\n  padding-bottom: 15px;\r\n  font-weight: 700;\r\n  font-size: 16px;\r\n  color: #909090;\r\n`;\r\n\r\nconst TP = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding-bottom: 15px;\r\n  background: #ffffff;\r\n  border: 1px solid #d6d6d6;\r\n  box-sizing: border-box;\r\n  box-shadow: 4px 4px 4px rgba(0, 0, 0, 0.25);\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  margin: 5px;\r\n`;\r\n\r\nconst TPHoursMinutesWrap = styled.div`\r\n  font-size: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 60px;\r\n  height: 120px;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst TPHoursMinutes = styled.span`\r\n  font-weight: 700;\r\n  font-size: 24px;\r\n  line-height: 28px;\r\n  padding: 10px 0;\r\n  justify-content: center;\r\n`;\r\n\r\nconst TopArrow = styled.span`\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  width: 100%;\r\n  height: 20px;\r\n  position: relative;\r\n  &:after {\r\n    content: \"\";\r\n    width: 15px;\r\n    height: 2px;\r\n    top: 7px;\r\n    right: 17.5px;\r\n    background-color: #909090;\r\n    position: absolute;\r\n    border-radius: 2px;\r\n    transform: rotate(45deg);\r\n  }\r\n  &:before {\r\n    content: \"\";\r\n    width: 15px;\r\n    height: 2px;\r\n    top: 7px;\r\n    left: 17.5px;\r\n    background-color: #909090;\r\n    position: absolute;\r\n    border-radius: 2px;\r\n    transform: rotate(-45deg);\r\n  }\r\n  &:hover::after {\r\n    background-color: ${defaultColor};\r\n  }\r\n  &:hover::before {\r\n    background-color: ${defaultColor};\r\n  }\r\n`;\r\n\r\nconst BottomArrow = styled(TopArrow)`\r\n  &:after {\r\n    content: \"\";\r\n    width: 15px;\r\n    height: 2px;\r\n    top: 9px;\r\n    right: 17.5px;\r\n    background-color: #909090;\r\n    position: absolute;\r\n    transform: rotate(-45deg);\r\n    border-radius: 2px;\r\n  }\r\n  &:before {\r\n    content: \"\";\r\n    width: 15px;\r\n    height: 2px;\r\n    top: 9px;\r\n    left: 17.5px;\r\n    background-color: #909090;\r\n    position: absolute;\r\n    border-radius: 2px;\r\n    transform: rotate(45deg);\r\n  }\r\n`;\r\n\r\nconst TwoDots = styled.span`\r\n  display: flex;\r\n  width: 10px;\r\n  font-weight: 700;\r\n  align-self: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst TimePicker = ({ timePickerName, setTime, realTimeInPicker }) => {\r\n  const [hours, setHours] = useState(realTimeInPicker.split(\":\")[0]),\r\n    [minutes, setMinutes] = useState(realTimeInPicker.split(\":\")[1]);\r\n\r\n  const clickHandlerTop = (e, max) => {\r\n      e.target.nextSibling.innerText = +e.target.nextSibling.innerText + 1;\r\n      if (+e.target.nextSibling.innerText === max) {\r\n        e.target.nextSibling.innerText = 0;\r\n      }\r\n      if (+e.target.nextSibling.innerText < 10) {\r\n        e.target.nextSibling.innerText = \"0\" + e.target.nextSibling.innerText;\r\n      }\r\n      if (max === 24) {\r\n        setHours(e.target.nextSibling.innerText);\r\n      } else {\r\n        setMinutes(e.target.nextSibling.innerText);\r\n      }\r\n    },\r\n    clickHandlerBottom = (e, max) => {\r\n      if (+e.target.previousSibling.innerText === 0) {\r\n        e.target.previousSibling.innerText = max;\r\n      }\r\n      e.target.previousSibling.innerText =\r\n        +e.target.previousSibling.innerText - 1;\r\n\r\n      if (e.target.previousSibling.innerText < 10) {\r\n        e.target.previousSibling.innerText =\r\n          \"0\" + e.target.previousSibling.innerText;\r\n      }\r\n      if (max === 24) {\r\n        setHours(e.target.previousSibling.innerText);\r\n      } else {\r\n        setMinutes(e.target.previousSibling.innerText);\r\n      }\r\n    };\r\n\r\n  useEffect(() => {\r\n    setTime(hours, minutes);\r\n  }, [hours, minutes]);\r\n\r\n  return (\r\n    <div>\r\n      <TPName>{timePickerName}</TPName>\r\n      <TP>\r\n        <TPHoursMinutesWrap>\r\n          <TopArrow onClick={(e) => clickHandlerTop(e, 24)}></TopArrow>\r\n          <TPHoursMinutes>\r\n            {realTimeInPicker && realTimeInPicker.split(\":\")[0]}\r\n          </TPHoursMinutes>\r\n          <BottomArrow onClick={(e) => clickHandlerBottom(e, 24)}></BottomArrow>\r\n        </TPHoursMinutesWrap>\r\n        <TwoDots>:</TwoDots>\r\n        <TPHoursMinutesWrap>\r\n          <TopArrow onClick={(e) => clickHandlerTop(e, 60)}></TopArrow>\r\n          <TPHoursMinutes>\r\n            {realTimeInPicker && realTimeInPicker.split(\":\")[1]}\r\n          </TPHoursMinutes>\r\n          <BottomArrow onClick={(e) => clickHandlerBottom(e, 60)}></BottomArrow>\r\n        </TPHoursMinutesWrap>\r\n      </TP>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimePicker;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nimport QUERY from \"../../query\";\r\nimport Popup from \"../../components/popup/Popup\";\r\nimport TimePicker from \"./TimePicker\";\r\n\r\nimport {\r\n  EN_SHORT_TO_NUMBER,\r\n  EN_SHORT_TO_RU_SHORT,\r\n  SHORT_DAY_OF_WEEK,\r\n} from \"../../constants\";\r\n\r\nconst MobileTimePickerHeader = styled.div`\r\n    display: none;\r\n    @media (max-width: 760px) {\r\n      display: flex;\r\n      margin-bottom: 31px;\r\n      height: 44px;\r\n      border-bottom: 1px solid #ececec;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      padding: 0 25px;\r\n    }\r\n  `,\r\n  CancelSave = styled.p`\r\n    letter-spacing: 0.5px;\r\n    color: defaultColor;\r\n    font-size: 16px;\r\n    font-weight: normal;\r\n  `,\r\n  Title = styled.p`\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n    letter-spacing: 0.5px;\r\n    text-transform: uppercase;\r\n  `,\r\n  TimePickerContainer = styled.p`\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n  `,\r\n  MakeAsDayOffMobile = styled.p`\r\n    display: none;\r\n    @media (max-width: 760px) {\r\n      display: block;\r\n      font-size: 18px;\r\n      color: #f8104d;\r\n      padding: 30px 0;\r\n      text-align: center;\r\n      cursor: pointer;\r\n      font-weight: normal;\r\n      &:hover {\r\n        color: #000;\r\n      }\r\n    }\r\n  `,\r\n  PopupPickerBtnsWrap = styled.div`\r\n    display: flex;\r\n    justify-content: space-around;\r\n    margin-top: 20px;\r\n  `,\r\n  PopupPickerBtn = styled.p`\r\n    border-radius: 5px;\r\n    width: 170px;\r\n    height: 36px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    &:hover {\r\n      opacity: 0.8;\r\n    }\r\n    @media (max-width: 760px) {\r\n      display: none;\r\n    }\r\n  `,\r\n  Save = styled(PopupPickerBtn)`\r\n    background: #f8104d;\r\n    color: #fff;\r\n  `,\r\n  Cancel = styled(PopupPickerBtn)`\r\n    background: #fff;\r\n    border: 2px solid #c4c4c4;\r\n  `;\r\n\r\nconst DatePickerPopup = ({\r\n  togglePopupDatePicker,\r\n  windowWidth,\r\n  titleInPicker,\r\n  setAsDayOf,\r\n  startRealTimeInPicker,\r\n  isSetWorkTimeDPick,\r\n  isEmptyTime,\r\n  props,\r\n  enumWeekName,\r\n  endRealTimeInPicker,\r\n  refreshData,\r\n  clickedTime,\r\n  DATA,\r\n  tomorrowFromDay,\r\n}) => {\r\n  const [cookies] = useCookies([]);\r\n\r\n  const [startTimePicker, setStartTimePicker] = useState(\"00:00\"),\r\n    [endTimePicker, setEndTimePicker] = useState(\"00:00\");\r\n\r\n  const setWorkTimeOfOneDay = () => {\r\n      if (cookies.origin_data) {\r\n        if (isEmptyTime) {\r\n          //СОЗДАТЬ время работы заведения\r\n          QUERY(\r\n            {\r\n              query: `mutation {\r\n                  updatePlace(\r\n                    input:{\r\n                      id:\"${props.match.params.id}\"\r\n                      schedules:{\r\n                        create:{\r\n                          day: ${enumWeekName} start_time: \"${startTimePicker}\" end_time: \"${endTimePicker}\"\r\n                        }\r\n                      }\r\n                    }\r\n                  ){id}\r\n                }`,\r\n            },\r\n            cookies.origin_data\r\n          )\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n              !data.errors\r\n                ? refreshData()\r\n                : console.log(data.errors, \" ERRORS\");\r\n            })\r\n            .catch((err) => console.log(err, \"  ERR\"));\r\n        }\r\n\r\n        if (!isEmptyTime) {\r\n          //ИЗМЕНИТЬ время работы заведения\r\n          QUERY(\r\n            {\r\n              query: `mutation {\r\n              updateSchedule(\r\n                input:{\r\n                  id:\"${clickedTime.id}\" start_time: \"${startTimePicker}\" end_time: \"${endTimePicker}\"\r\n                }\r\n              ){id}\r\n            }`,\r\n            },\r\n            cookies.origin_data\r\n          )\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n              !data.errors\r\n                ? refreshData()\r\n                : console.log(data.errors, \" ERRORS\");\r\n            })\r\n            .catch((err) => console.log(err, \" ERR\"));\r\n        }\r\n      }\r\n    },\r\n    setStreamTimeOfOneDay = () => {\r\n      if (cookies.origin_data) {\r\n        if (DATA.streams[0] && !isEmptyTime) {\r\n          // не пустое время стрима и стрим уже существет\r\n          QUERY(\r\n            {\r\n              query: `mutation {\r\n              updateStream (\r\n                input:{\r\n                  id:\"${DATA.streams[0].id}\"\r\n                  schedules:{\r\n                    update:[\r\n                       {\r\n                        id: ${clickedTime.id}\r\n                        start_time: \"${startTimePicker}\"\r\n                        end_time: \"${endTimePicker}\"\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              ) {\r\n                id name url\r\n                }\r\n            }`,\r\n            },\r\n            cookies.origin_data\r\n          )\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n              !data.errors\r\n                ? refreshData()\r\n                : console.log(data.errors, \" ERRORS\");\r\n            })\r\n            .catch((err) => console.log(err, \" ERR\"));\r\n        }\r\n        if (DATA.streams[0] && isEmptyTime) {\r\n          // пустое время стрима и стрим уже существет\r\n          QUERY(\r\n            {\r\n              query: `mutation {\r\n              updateStream (\r\n                input:{\r\n                  id:\"${DATA.streams[0].id}\"\r\n                  schedules:{\r\n                    create:[\r\n                       {\r\n                        day: ${enumWeekName}\r\n                        start_time: \"${startTimePicker}\"\r\n                        end_time: \"${endTimePicker}\"\r\n                      }\r\n                    ]\r\n                  }\r\n                }\r\n              ) {\r\n                id name url\r\n                }\r\n            }`,\r\n            },\r\n            cookies.origin_data\r\n          )\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n              !data.errors\r\n                ? refreshData()\r\n                : console.log(data.errors, \" ERRORS\");\r\n            })\r\n            .catch((err) => console.log(err, \" ERR\"));\r\n        }\r\n      }\r\n    },\r\n    setStartTime = (h, m) => setStartTimePicker(\"\" + h + \":\" + m),\r\n    setEndTime = (h, m) => setEndTimePicker(\"\" + h + \":\" + m),\r\n    ready = () => {\r\n      togglePopupDatePicker();\r\n      isSetWorkTimeDPick && setWorkTimeOfOneDay();\r\n      !isSetWorkTimeDPick && setStreamTimeOfOneDay();\r\n    },\r\n    save = () => {\r\n      togglePopupDatePicker();\r\n      isSetWorkTimeDPick && setWorkTimeOfOneDay();\r\n      !isSetWorkTimeDPick && setStreamTimeOfOneDay();\r\n    },\r\n    setAsDayOfClick = () => {\r\n      setAsDayOf();\r\n      togglePopupDatePicker();\r\n    };\r\n\r\n  const firstName =\r\n      EN_SHORT_TO_RU_SHORT[enumWeekName] ||\r\n      EN_SHORT_TO_RU_SHORT[clickedTime.day],\r\n    secondName =\r\n      startTimePicker.split(\":\")[0] * 3600 +\r\n        startTimePicker.split(\":\")[1] * 60 <=\r\n      endTimePicker.split(\":\")[0] * 3600 + endTimePicker.split(\":\")[1] * 60\r\n        ? EN_SHORT_TO_RU_SHORT[enumWeekName] ||\r\n          EN_SHORT_TO_RU_SHORT[clickedTime.day]\r\n        : SHORT_DAY_OF_WEEK[\r\n            tomorrowFromDay(EN_SHORT_TO_NUMBER[enumWeekName || clickedTime.day])\r\n          ];\r\n\r\n  return (\r\n    <Popup\r\n      togglePopup={togglePopupDatePicker}\r\n      wrpaStyle={windowWidth <= 760 ? { alignItems: \"flex-end\" } : {}}\r\n      style={\r\n        windowWidth <= 760\r\n          ? { height: \"100%\" }\r\n          : { borderRadius: \"5px\", transform: \"scale(1.5)\" }\r\n      }\r\n    >\r\n      <div className=\"popupWrapper\">\r\n        <MobileTimePickerHeader>\r\n          <CancelSave onClick={() => togglePopupDatePicker()}>\r\n            Отмена\r\n          </CancelSave>\r\n          <Title>{titleInPicker}</Title>\r\n          <CancelSave onClick={() => ready()}>Готово</CancelSave>\r\n        </MobileTimePickerHeader>\r\n\r\n        <TimePickerContainer>\r\n          <TimePicker\r\n            realTimeInPicker={startRealTimeInPicker}\r\n            timePickerName={firstName}\r\n            setTime={setStartTime}\r\n          />\r\n          <span className=\"space\"></span>\r\n          <TimePicker\r\n            realTimeInPicker={endRealTimeInPicker}\r\n            timePickerName={secondName}\r\n            setTime={setEndTime}\r\n          />\r\n        </TimePickerContainer>\r\n\r\n        <PopupPickerBtnsWrap>\r\n          <Save onClick={() => save()}>Сохранить</Save>\r\n          <Cancel onClick={() => togglePopupDatePicker()}>Отмена</Cancel>\r\n        </PopupPickerBtnsWrap>\r\n        <MakeAsDayOffMobile onClick={() => setAsDayOfClick()}>\r\n          Сделать выходным\r\n        </MakeAsDayOffMobile>\r\n      </div>\r\n    </Popup>\r\n  );\r\n};\r\n\r\nexport default DatePickerPopup;\r\n","import React from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport GoogleMap from \"../../components/googleMap/GoogleMap\";\r\n\r\nimport QUERY from \"../../query\";\r\nimport Popup from \"../../components/popup/Popup\";\r\n\r\nconst GoogleMapPopup = ({ togglePopupGoogleMap, DATA, props, refreshData }) => {\r\n  const [cookies] = useCookies([]);\r\n\r\n  const chooseNewAddress = (streetName, latLng) => {\r\n    if (cookies.origin_data) {\r\n      const stringLatLng = \"\" + latLng.lat + \",\" + latLng.lng;\r\n\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n          updatePlace(\r\n            input:{\r\n              id:\"${props.match.params.id}\"\r\n              address : \"${streetName}\"\r\n              coordinates: \"${stringLatLng}\"\r\n            }\r\n          ){id address coordinates}\r\n        }`,\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (!data.errors) {\r\n            togglePopupGoogleMap();\r\n            refreshData();\r\n          }\r\n        })\r\n        .catch((err) => console.log(err, \"ADMIN UPDATEPLACE ERR\"));\r\n    }\r\n  };\r\n\r\n  const initialCenterMap = DATA.coordinates\r\n    ? {\r\n        lat: Number(DATA.coordinates.split(\",\")[0]),\r\n        lng: Number(DATA.coordinates.split(\",\")[1]),\r\n      }\r\n    : null;\r\n\r\n  return (\r\n    <Popup\r\n      togglePopup={togglePopupGoogleMap}\r\n      style={{\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n      }}\r\n    >\r\n      <GoogleMap\r\n        initialCenterMap={initialCenterMap}\r\n        togglePopupGoogleMap={togglePopupGoogleMap}\r\n        chooseNewAddress={chooseNewAddress}\r\n        isNewAddress\r\n      />\r\n    </Popup>\r\n  );\r\n};\r\n\r\nexport default GoogleMapPopup;\r\n","import React from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport styled from \"styled-components\";\r\n\r\nimport QUERY from \"../../query\";\r\nimport Popup from \"../../components/popup/Popup\";\r\n\r\nconst AdminMenuTitleM = styled.p`\r\n    text-align: center;\r\n    padding-top: 20px;\r\n    padding-bottom: 10px;\r\n    font-weight: bold;\r\n    font-size: 18px;\r\n    text-transform: uppercase;\r\n  `,\r\n  DescTextareaM = styled.textarea`\r\n    outline: none;\r\n    color: #4f4f4f;\r\n    opacity: none;\r\n    border: none;\r\n    border-bottom: 1px solid #e5e5e5;\r\n    box-sizing: border-box;\r\n    line-height: 24px;\r\n    padding: 5px;\r\n    width: calc(100% - 30px);\r\n    margin: 0 15px;\r\n    font-style: normal;\r\n    font-weight: 300;\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    resize: none;\r\n  `,\r\n  DescLengthM = styled.p`\r\n    font-weight: 500;\r\n    color: ${(props) =>\r\n      props.descOfCompany.length === props.descOfCompanyLimit\r\n        ? \"red\"\r\n        : \"green\"};\r\n    width: 100%;\r\n    font-size: 10px;\r\n    text-align: right;\r\n    padding-left: 10px;\r\n    padding-right: 15px;\r\n  `,\r\n  Header = styled.div`\r\n    display: flex;\r\n    height: 44px;\r\n    border-bottom: 1px solid #ececec;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 0 25px;\r\n  `,\r\n  Cancel = styled.p`\r\n    display: flex;\r\n    letter-spacing: 0.5px;\r\n    color: defaultColor;\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n  `,\r\n  Ready = styled.p`\r\n    letter-spacing: 0.5px;\r\n    color: defaultColor;\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n  `;\r\n\r\nconst DescriptionPopup = ({\r\n  togglePopupDescription,\r\n  DATA,\r\n  setDescOfCompany,\r\n  props,\r\n  descOfCompany,\r\n  refreshData,\r\n  descOfCompanyLimit,\r\n}) => {\r\n  const [cookies] = useCookies([]);\r\n\r\n  const updateDescription = () => {\r\n      if (cookies.origin_data) {\r\n        QUERY(\r\n          {\r\n            query: `mutation {\r\n            updatePlace(\r\n              input:{\r\n                id:\"${props.match.params.id}\"\r\n                description:\"${descOfCompany || DATA.description}\" \r\n              }\r\n            ){id}\r\n          }`,\r\n          },\r\n          cookies.origin_data\r\n        )\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            !data.errors ? refreshData() : console.log(data.errors, \" ERRORS\");\r\n          })\r\n          .catch((err) => console.log(err, \"  *******ERR\"));\r\n      }\r\n    },\r\n    cancel = () => {\r\n      togglePopupDescription();\r\n      setDescOfCompany(DATA.description);\r\n    },\r\n    save = () => {\r\n      updateDescription();\r\n      togglePopupDescription();\r\n    };\r\n\r\n  return (\r\n    <Popup\r\n      togglePopup={togglePopupDescription}\r\n      style={{\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n      }}\r\n    >\r\n      <Header>\r\n        <Cancel onClick={() => cancel()}>Отмена</Cancel>\r\n        <Ready onClick={() => save()}>Готово</Ready>\r\n      </Header>\r\n      <AdminMenuTitleM>Описание</AdminMenuTitleM>\r\n      <DescTextareaM\r\n        id=\"autoresizeTextarea\"\r\n        maxLength={descOfCompanyLimit}\r\n        value={descOfCompany}\r\n        onChange={(e) => setDescOfCompany(e.target.value)}\r\n      />\r\n\r\n      <DescLengthM\r\n        descOfCompany={descOfCompany}\r\n        descOfCompanyLimit={descOfCompanyLimit}\r\n      >\r\n        {descOfCompany.length} / {descOfCompanyLimit}\r\n      </DescLengthM>\r\n    </Popup>\r\n  );\r\n};\r\n\r\nexport default DescriptionPopup;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AvatarEditor from \"react-avatar-editor\";\r\n\r\nconst CropperMobile = ({ imgSrc, editorRef }) => {\r\n  const [count, setCount] = useState(1);\r\n\r\n  useEffect(() => {\r\n    const Hammer = window.Hammer,\r\n      hammerEvent = document.getElementById(\"hammerEvent\"),\r\n      mc = new Hammer(hammerEvent);\r\n\r\n    mc.get(\"pinch\").set({ enable: true });\r\n\r\n    mc.on(\"pinch\", (ev) => {\r\n      if (ev.scale < 1) {\r\n        setCount((prev) => {\r\n          if (prev >= 0.3) {\r\n            return prev - 0.01;\r\n          } else {\r\n            return prev;\r\n          }\r\n        });\r\n      } else {\r\n        setCount((prev) => {\r\n          if (prev <= 3) {\r\n            return prev + 0.01;\r\n          } else {\r\n            return prev;\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        width: `${window.innerWidth - 40}px`,\r\n        height: `${window.innerWidth - 40}px`,\r\n        margin: \"0 auto\",\r\n      }}\r\n      id=\"hammerEvent\"\r\n    >\r\n      <AvatarEditor\r\n        width={window.innerWidth - 60}\r\n        height={(window.innerWidth - 60) * 0.56}\r\n        image={imgSrc}\r\n        border={10}\r\n        scale={count}\r\n        ref={editorRef}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CropperMobile;\r\n","import React, { useRef } from \"react\";\r\nimport { defaultColor } from \"../../constants\";\r\nimport styled from \"styled-components\";\r\nimport CropperMobile from \"./CropperMobile\";\r\nimport Dropzone from \"react-dropzone\";\r\n\r\nimport Popup from \"../../components/popup/Popup\";\r\n\r\nconst CancelSave = styled.p`\r\n    letter-spacing: 0.5px;\r\n    color: defaultColor;\r\n    font-size: 16px;\r\n    font-weight: 500;\r\n  `,\r\n  Title = styled.p`\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n    letter-spacing: 0.5px;\r\n    text-transform: uppercase;\r\n  `,\r\n  MobileTimePickerHeader = styled.div`\r\n    display: none;\r\n    @media (max-width: 760px) {\r\n      display: flex;\r\n      margin-bottom: 31px;\r\n      height: 44px;\r\n      border-bottom: 1px solid #ececec;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      padding: 0 25px;\r\n    }\r\n  `;\r\n\r\nconst UploadFilePopup = ({\r\n  togglePopupUploadFile,\r\n  setImgSrc,\r\n  titleInPicker,\r\n  imgSrc,\r\n  uploadImageTranscode,\r\n  acceptedFileTypes,\r\n  imageMaxSize,\r\n  handleOnDrop,\r\n}) => {\r\n  const editorRef = useRef(null);\r\n\r\n  const onCrop = () => {\r\n      if (editorRef.current) {\r\n        const canvas = editorRef.current.getImage().toDataURL();\r\n        fetch(canvas)\r\n          .then((res) => res.blob())\r\n          .then((blob) => uploadImageTranscode(blob));\r\n      }\r\n    },\r\n    cancel = () => {\r\n      setImgSrc(null);\r\n      togglePopupUploadFile();\r\n    },\r\n    save = () => {\r\n      togglePopupUploadFile();\r\n      onCrop();\r\n    };\r\n\r\n  return (\r\n    <Popup\r\n      togglePopup={togglePopupUploadFile}\r\n      style={{\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n      }}\r\n    >\r\n      <MobileTimePickerHeader>\r\n        <CancelSave onClick={() => cancel()}>Отмена</CancelSave>\r\n        <Title>{titleInPicker}</Title>\r\n        <CancelSave onClick={() => save()}>Готово</CancelSave>\r\n      </MobileTimePickerHeader>\r\n      <CropperMobile imgSrc={imgSrc} editorRef={editorRef} />\r\n      <Dropzone\r\n        multiple={false}\r\n        accept={acceptedFileTypes}\r\n        maxSize={imageMaxSize}\r\n        onDrop={(acceptedFiles, rejectedFiles) =>\r\n          handleOnDrop(acceptedFiles, rejectedFiles)\r\n        }\r\n      >\r\n        {({ getRootProps, getInputProps }) => {\r\n          return (\r\n            <section style={{ display: \"flex\" }}>\r\n              <div className=\"changePhotoBlock\" {...getRootProps()}>\r\n                <input\r\n                  className=\"changePhotoInput previewRef\"\r\n                  {...getInputProps()}\r\n                />\r\n              </div>\r\n            </section>\r\n          );\r\n        }}\r\n      </Dropzone>\r\n    </Popup>\r\n  );\r\n};\r\n\r\nexport default UploadFilePopup;\r\n","import React from \"react\";\r\nimport { defaultColor } from \"../../constants\";\r\nimport styled from \"styled-components\";\r\n\r\nimport QUERY from \"../../query\";\r\n\r\nimport Popup from \"../../components/popup/Popup\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nconst AdminMenuTitleM = styled.p`\r\n    text-align: center;\r\n    padding-top: 20px;\r\n    padding-bottom: 10px;\r\n    font-weight: bold;\r\n    font-size: 18px;\r\n    text-transform: uppercase;\r\n  `,\r\n  Header = styled.div`\r\n    display: flex;\r\n    height: 44px;\r\n    border-bottom: 1px solid #ececec;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 0 25px;\r\n  `,\r\n  CancelSave = styled.p`\r\n    letter-spacing: 0.5px;\r\n    color: defaultColor;\r\n    font-weight: 500;\r\n    font-size: 18px;\r\n  `,\r\n  CategoryBtn = styled.span`\r\n    display: inline-block;\r\n    height: 50px;\r\n    width: 45%;\r\n    border-radius: 5px;\r\n    border: 2px solid #c4c4c4;\r\n    cursor: pointer;\r\n    font-weight: 700;\r\n    font-size: 12px;\r\n    text-transform: uppercase;\r\n    margin: 8px;\r\n    &:hover {\r\n      background-color: #f8104d;\r\n      color: #fff;\r\n    }\r\n  `;\r\n\r\nconst ChooseTypePopup = ({\r\n  togglePopupChooseType,\r\n  DATA,\r\n  setTypeOfCompany,\r\n  setTypeOfCompanyId,\r\n  props,\r\n  typeOfCompanyId,\r\n  refreshData,\r\n  uniqueCompanyType,\r\n  typeOfCompany,\r\n  setHoveredBtn,\r\n  renderCustomTypeImg,\r\n  hoveredBtn,\r\n}) => {\r\n  const [cookies] = useCookies([]);\r\n\r\n  const updateCategory = () => {\r\n      if (cookies.origin_data) {\r\n        QUERY(\r\n          {\r\n            query: `mutation {\r\n            updatePlace(\r\n              input:{\r\n                id:\"${props.match.params.id}\"\r\n                ${\r\n                  DATA.categories &&\r\n                  DATA.categories[0] &&\r\n                  typeOfCompanyId &&\r\n                  typeOfCompanyId !== DATA.categories[0].id\r\n                    ? `categories:{\r\n                    disconnect:\"${DATA.categories[0].id}\"\r\n                    connect:\"${typeOfCompanyId}\"\r\n                  }`\r\n                    : typeOfCompanyId\r\n                    ? `categories:{\r\n                            connect:\"${typeOfCompanyId}\"\r\n                          }`\r\n                    : `categories:{}`\r\n                }\r\n              }\r\n            ){id}\r\n          }`,\r\n          },\r\n          cookies.origin_data\r\n        )\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            !data.errors ? refreshData() : console.log(data.errors, \" ERRORS\");\r\n          })\r\n          .catch((err) => console.log(err, \"  *******ERR\"));\r\n      }\r\n    },\r\n    cancel = () => {\r\n      setTypeOfCompany(\r\n        DATA.categories && DATA.categories[0] && DATA.categories[0].name\r\n      );\r\n      setTypeOfCompanyId(\r\n        DATA.categories && DATA.categories[0] && DATA.categories[0].id\r\n      );\r\n      togglePopupChooseType();\r\n    },\r\n    save = () => {\r\n      updateCategory();\r\n      togglePopupChooseType();\r\n    },\r\n    btnClick = (el) => {\r\n      setTypeOfCompany(el.name);\r\n      setTypeOfCompanyId(el.id);\r\n    },\r\n    getBtnStyle = (el) => {\r\n      return el && el.name && typeOfCompany && typeOfCompany === el.name\r\n        ? {\r\n            background: defaultColor,\r\n            color: \"#fff\",\r\n          }\r\n        : !typeOfCompany &&\r\n          DATA.categories &&\r\n          DATA.categories[0] &&\r\n          el &&\r\n          el.name &&\r\n          DATA.categories[0].name === el.name\r\n        ? {\r\n            background: defaultColor,\r\n            color: \"#fff\",\r\n          }\r\n        : {};\r\n    },\r\n    getBtnImg = (el) => {\r\n      return typeOfCompany && typeOfCompany === el.name\r\n        ? renderCustomTypeImg(el.slug, true)\r\n        : !typeOfCompany &&\r\n          DATA.categories &&\r\n          DATA.categories[0] &&\r\n          DATA.categories[0].name === el.name\r\n        ? renderCustomTypeImg(el.slug, true)\r\n        : hoveredBtn === el.name\r\n        ? renderCustomTypeImg(el.slug, true)\r\n        : renderCustomTypeImg(el.slug, false);\r\n    };\r\n\r\n  return (\r\n    <Popup\r\n      togglePopup={togglePopupChooseType}\r\n      style={{\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n      }}\r\n    >\r\n      <Header>\r\n        <CancelSave onClick={() => cancel()}>Отмена</CancelSave>\r\n        <CancelSave onClick={() => save()}>Готово</CancelSave>\r\n      </Header>\r\n      <AdminMenuTitleM>Тип заведения</AdminMenuTitleM>\r\n      <div style={{ width: \"100%\" }}>\r\n        {!!uniqueCompanyType &&\r\n          uniqueCompanyType.map((el, i) => (\r\n            <CategoryBtn\r\n              key={i}\r\n              style={getBtnStyle(el)}\r\n              onClick={() => btnClick(el)}\r\n              onMouseOver={() => setHoveredBtn(el.name)}\r\n              onMouseOut={() => setHoveredBtn(\"\")}\r\n            >\r\n              <span style={{ position: \"relative\", top: \"10px\" }}>\r\n                {getBtnImg(el)}\r\n              </span>\r\n              <span style={{ position: \"relative\", top: \"4px\" }}>\r\n                {el.name}\r\n              </span>\r\n            </CategoryBtn>\r\n          ))}\r\n      </div>\r\n    </Popup>\r\n  );\r\n};\r\n\r\nexport default ChooseTypePopup;\r\n","import React from \"react\";\r\nimport { defaultColor } from \"../../constants\";\r\nimport styled from \"styled-components\";\r\n\r\nimport CustomImg from \"../../components/customImg/CustomImg\";\r\n\r\nconst LeftAdminBtnD = styled.li`\r\n    font-size: 13px;\r\n    font-weight: 800;\r\n    height: 35px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    color: ${({ clicked }) => (clicked ? defaultColor : \"#000\")};\r\n    letter-spacing: 1px;\r\n    &:hover {\r\n      color: ${defaultColor};\r\n    }\r\n  `,\r\n  AdminImgWrapD = styled.div`\r\n    width: 30px;\r\n    height: 30px;\r\n    margin-right: 16px;\r\n  `;\r\n\r\nconst LeftMenu = ({ el, setLeftMenuSettings, id }) => {\r\n  const click = () => {\r\n    setLeftMenuSettings((prev) => {\r\n      let newArr = [...prev];\r\n      newArr.forEach((el) => (el.clicked = false));\r\n      newArr[id] = {\r\n        ...newArr[id],\r\n        clicked: true,\r\n      };\r\n      return newArr;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <LeftAdminBtnD clicked={el.clicked} key={id} onClick={() => click()}>\r\n      {el.img && (\r\n        <AdminImgWrapD>\r\n          <CustomImg className={el.class} alt={el.altImg} name={el.img} />\r\n        </AdminImgWrapD>\r\n      )}\r\n      {el.name}\r\n    </LeftAdminBtnD>\r\n  );\r\n};\r\n\r\nexport default LeftMenu;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport Cropper from \"cropperjs\";\r\nimport Dropzone from \"react-dropzone\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport styled from \"styled-components\";\r\nimport autosize from \"autosize\";\r\nimport axios from \"axios\";\r\n\r\nimport CustomImg from \"../../components/customImg/CustomImg\";\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport QUERY from \"../../query\";\r\nimport {\r\n  EN_SHORT_DAY_OF_WEEK,\r\n  EN_SHORT_TO_RU_SHORT,\r\n  SHORT_DAY_OF_WEEK,\r\n  defaultColor,\r\n  queryPath,\r\n} from \"../../constants\";\r\nimport { numberDayNow } from \"../../calculateTime\";\r\nimport SideBar from \"./Sidebar\";\r\n\r\nimport Stream from \"./Stream\";\r\nimport StreamMobile from \"./StreamMobile\";\r\n\r\nimport \"./admin.css\";\r\nimport \"./sidebar.css\";\r\nimport \"cropperjs/dist/cropper.min.css\";\r\nimport \"./imagecropper.css\";\r\nimport DatePickerPopup from \"./DatePickerPopup\";\r\nimport GoogleMapPopup from \"./GoogleMapPopup\";\r\nimport DescriptionPopup from \"./DescriptionPopup\";\r\nimport UploadFilePopup from \"./UploadFilePopup\";\r\nimport ChooseTypePopup from \"./ChooseTypePopup\";\r\nimport LeftMenu from \"./LeftMenu\";\r\n\r\nconst AdminStyle = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst AdminWrapper = styled.div`\r\n  display: flex;\r\n  width: 1000px;\r\n  margin: 0 auto;\r\n  @media (max-width: 760px) {\r\n    max-width: 100%;\r\n  }\r\n`;\r\n\r\nconst PartyLive = styled.p`\r\n  display: inline-block;\r\n  font-weight: 700;\r\n  font-size: 24px;\r\n  letter-spacing: 0.05em;\r\n  transition: 0.3s ease all;\r\n  color: #323232;\r\n  @media (max-width: 760px) {\r\n    font-size: 20px;\r\n  }\r\n`;\r\n\r\nconst Live = styled.span`\r\n  display: inline-block;\r\n  background-color: ${defaultColor};\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  margin-left: 3px;\r\n  padding: 0 7px;\r\n`;\r\n// ---------------------------------------------\r\nconst LeftAdminMenuD = styled.div`\r\n  flex: 1.5;\r\n  padding: 0px 10px 10px 0;\r\n  @media (max-width: 760px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst GoBack = styled(Link)`\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  height: 100px;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  letter-spacing: 0.5px;\r\n  &:hover {\r\n    color: rgb(227, 42, 108);\r\n  }\r\n`;\r\n\r\nconst GoBackArrow = styled.span`\r\n  font-size: 18px;\r\n  padding-right: 10px;\r\n  padding-bottom: 2px;\r\n`;\r\n\r\nconst LeftAdminMenuInnerD = styled.div`\r\n  position: fixed;\r\n`;\r\n\r\nconst AdminContentD = styled.div`\r\n  display: flex;\r\n  flex: 4;\r\n  padding: 100px 10px 10px 10px;\r\n  flex-direction: column;\r\n  @media (max-width: 760px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst ProfileTitleD = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst ProfileTitleH3D = styled.h3`\r\n  font-size: 24px;\r\n  line-height: 24px;\r\n`;\r\n\r\nconst ProfileTitleNameD = styled.span`\r\n  padding-left: 12px;\r\n  color: ${defaultColor};\r\n  font-weight: bold;\r\n  font-size: 24px;\r\n  line-height: 24px;\r\n`;\r\n\r\nconst ProfileContentD = styled.div`\r\n  margin-top: 22px;\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\n\r\nconst CropWrapperD = styled.div`\r\n  position: relative;\r\n  height: 205px;\r\n  background: #fff;\r\n`;\r\n\r\nconst PreviewPhotoTextD = styled.p`\r\n  font-size: 22px;\r\n  font-weight: 500;\r\n  color: #aeaeae;\r\n`;\r\n\r\nconst PreviewPhotoD = styled.div`\r\n  display: flex;\r\n  height: 200px;\r\n  width: 320px;\r\n  background-color: #f2f2f7;\r\n  border-radius: 10px;\r\n  color: #aeaeae;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  cursor: pointer;\r\n  &:hover {\r\n    border: ${({ doNotHoverBorder }) =>\r\n      doNotHoverBorder ? \"\" : `2px solid ${defaultColor}`};\r\n  }\r\n  &:hover ${PreviewPhotoTextD} {\r\n    color: ${defaultColor};\r\n    transition: 0.3s ease all;\r\n  }\r\n`;\r\n\r\nconst ImgContainerD = styled.div`\r\n  width: 320px;\r\n  height: 200px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst CanvasImageD = styled.canvas`\r\n  display: none;\r\n`;\r\n\r\nconst DescriptionWrapD = styled.div`\r\n  display: flex;\r\n  flex-direction: column !important;\r\n  font-size: 10px;\r\n  margin-top: 10px;\r\n  width: ${(props) => props.width && props.width};\r\n  height: ${(props) => props.height && props.height};\r\n`;\r\n\r\nconst LengthofDescriptionD = styled.span`\r\n  padding-left: 10px;\r\n  font-weight: 500;\r\n  font-size: 11px;\r\n  text-align: end;\r\n  color: ${(props) =>\r\n    props.descOfCompany.length === props.descOfCompanyLimit ? \"red\" : \"green\"};\r\n  @media (max-width: 760px) {\r\n    width: 100%;\r\n    font-size: 10px;\r\n  }\r\n`;\r\n\r\nconst DayOffDotD = styled.span`\r\n  width: 6px;\r\n  height: 6px;\r\n  border-radius: 50%;\r\n  background: ${defaultColor};\r\n  display: inline-block;\r\n  top: -10px;\r\n  position: relative;\r\n  left: 2px;\r\n`;\r\n\r\n// ____________________________________________-\r\n\r\nconst PreviewPhotoM = styled.div`\r\n  display: flex;\r\n  height: 122px;\r\n  width: 213px;\r\n  background-color: #f2f2f7;\r\n  border: 2px solid #909090;\r\n  border-radius: 10px;\r\n  color: #aeaeae;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  transition: 0.3s ease all;\r\n  align-self: center;\r\n  margin-top: 15px;\r\n  &:hover {\r\n    border: 2px solid ${defaultColor};\r\n    color: ${defaultColor};\r\n  }\r\n`;\r\n\r\nconst AddressM = styled.div`\r\n  display: inline-block;\r\n  overflow: hidden;\r\n  font-weight: 300;\r\n  font-size: 16px;\r\n  color: #4f4f4f;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  border-bottom: 1px solid #e5e5e5;\r\n  margin: 15px 0;\r\n  padding: 15px 0;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst DescriptionM = styled.div`\r\n  display: inline-block;\r\n  overflow: hidden;\r\n  font-weight: 300;\r\n  font-size: 16px;\r\n  color: #4f4f4f;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  border-bottom: 1px solid #e5e5e5;\r\n  margin: 15px 0;\r\n  padding: 15px 0;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst AdminMenuTitleM = styled.p`\r\n  text-align: center;\r\n  padding-top: 20px;\r\n  padding-bottom: 10px;\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nconst Admin = (props) => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n  const [DATA, setDATA] = useState([]);\r\n  const [showPopupDatePicker, setShowPopapDatePicker] = useState(false);\r\n  const [showPopupGoogleMap, setShowPopapGoogleMap] = useState(false);\r\n  const [showPopupDescription, setShowPopapDescription] = useState(false);\r\n  const [showPopupChooseType, setShowPopapChooseType] = useState(false);\r\n  const [showPopupUploadFile, setShowPopapUploadFile] = useState(false);\r\n\r\n  const [startRealTimeInPicker, setStartRealTimeInPicker] = useState();\r\n  const [endRealTimeInPicker, setEndRealTimeInPicker] = useState();\r\n  const [isEmptyTime, setIsEmptyTime] = useState(true);\r\n  const [enumWeekName, setEnumWeekName] = useState(\"\");\r\n  const [isSetWorkTimeDPick, setIsSetWorkTimeDPick] = useState(false);\r\n  const [streamAddressData, setStreamAddressData] = useState(\"\");\r\n  const [clickedTime, setClickedTime] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [uniqueCompanyType, setUniqueCompanyType] = useState();\r\n  const [hoveredBtn, setHoveredBtn] = useState(\"\");\r\n  const [nameOfCompany, setNameOfCompany] = useState(\"\");\r\n  const [aliasOfCompany, setAliasOfCompany] = useState(\"\");\r\n  const [typeOfCompany, setTypeOfCompany] = useState(\"\");\r\n  const [typeOfCompanyId, setTypeOfCompanyId] = useState(\"\");\r\n  const [descOfCompany, setDescOfCompany] = useState(\"\");\r\n  const [titleInPicker, setTitleInPicker] = useState(\"\");\r\n  const [isSuccessSave, setIsSuccessSave] = useState(false);\r\n\r\n  const [cookies] = useCookies([]);\r\n\r\n  useEffect(() => {\r\n    if (cookies.origin_data) {\r\n      refreshData();\r\n    }\r\n\r\n    QUERY({ query: `query {categories { id name slug } }` })\r\n      .then((res) => res.json())\r\n      .then((data) => setUniqueCompanyType(data.data.categories))\r\n      .catch((err) => console.log(err, \"UNIQUE ADMIN ERR\"));\r\n  }, []);\r\n\r\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n  !windowWidth && setWindowWidth(window.innerWidth);\r\n\r\n  useEffect(() => {\r\n    window.onresize = function (e) {\r\n      setWindowWidth(e.target.innerWidth);\r\n    };\r\n  });\r\n\r\n  const refreshData = () => {\r\n    QUERY({\r\n      query: `query {\r\n      place (id:\"${props.match.params.id}\") {\r\n        id name address description alias profile_image\r\n        streams{url name id preview schedules{id day start_time end_time}}\r\n        schedules {id day start_time end_time}\r\n        categories {id name slug}\r\n      }\r\n  }`,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          setIsLoading(false);\r\n          setDATA(data.data.place);\r\n        } else {\r\n          console.log(data.errors, \"REFRESH ERRORS\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err, \"REFRESH ERR\"));\r\n  };\r\n\r\n  const setAsDayOf = (id) => {\r\n    if (cookies.origin_data) {\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n            deleteSchedule(id:\"${id || clickedTime.id}\"){\r\n              id day start_time end_time\r\n            }\r\n          }`,\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          !data.errors\r\n            ? refreshData()\r\n            : console.log(data.errors, \"DELETESCHEDULE ERRORS\");\r\n        })\r\n        .catch((err) => console.log(err, \"  DELETESCHEDULE ERR\"));\r\n    }\r\n  };\r\n\r\n  const updateStream = (name) => {\r\n    if (cookies.origin_data) {\r\n      const videoPreview = name.split(\"/\"),\r\n        videoPreviewUrl = name.replace(\r\n          videoPreview[videoPreview.length - 1],\r\n          \"image.jpg\"\r\n        );\r\n\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n            updateStream (\r\n              input:{\r\n                id:\"${DATA.streams[0].id}\"\r\n                url :\"${name}\"\r\n                preview : \"${videoPreviewUrl}\"\r\n              }\r\n            ) { id name url }\r\n          }`,\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          !data.errors\r\n            ? refreshData()\r\n            : console.log(data.errors, \"UPDATESTREAM ERRORS\");\r\n        })\r\n        .catch((err) => console.log(err, \"UPDATESTREAM ERR\"));\r\n    }\r\n  };\r\n\r\n  const createStream = (name) => {\r\n    if (cookies.origin_data) {\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n              createStream(\r\n                input:{\r\n                  name: \"${DATA.name}\"\r\n                  url :\"https://partycamera.org/${name}/index.m3u8\"\r\n                  preview : \"http://partycamera.org:80/${name}/preview.mp4\"\r\n                  place:{connect:\"${props.match.params.id}\"}                  \r\n                }) {id name url}\r\n            }`,\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          !data.errors\r\n            ? refreshData()\r\n            : console.log(data.errors, \"CREATE STREAM ERRORS\");\r\n        })\r\n        .catch((err) => console.log(err, \"CREATE STREAM ERR\"));\r\n    }\r\n  };\r\n\r\n  const hideSideMenu = () => {\r\n      setShowSlideSideMenu(false);\r\n      document.body.style.overflow = \"visible\";\r\n      setIsShowMenu(false);\r\n    },\r\n    showSideMenu = () => {\r\n      setShowSlideSideMenu(true);\r\n      document.body.style.overflow = \"hidden\";\r\n      setIsShowMenu(true);\r\n    };\r\n\r\n  window.onresize = function (e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const togglePopupDatePicker = (whatPickerWillShow) => {\r\n      setTitleInPicker(whatPickerWillShow);\r\n      setShowPopapDatePicker(!showPopupDatePicker);\r\n    },\r\n    togglePopupGoogleMap = () => setShowPopapGoogleMap(!showPopupGoogleMap),\r\n    togglePopupDescription = () =>\r\n      setShowPopapDescription(!showPopupDescription),\r\n    togglePopupChooseType = () => setShowPopapChooseType(!showPopupChooseType),\r\n    togglePopupUploadFile = () => setShowPopapUploadFile(!showPopupUploadFile);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      showPopupDatePicker ||\r\n      showPopupGoogleMap ||\r\n      showPopupDescription ||\r\n      showPopupChooseType ||\r\n      showPopupUploadFile\r\n    ) {\r\n      document.body.style.overflow = \"hidden\";\r\n    } else {\r\n      document.body.style.overflow = \"auto\";\r\n    }\r\n  }, [\r\n    showPopupDatePicker,\r\n    showPopupGoogleMap,\r\n    showPopupDescription,\r\n    showPopupChooseType,\r\n    showPopupUploadFile,\r\n  ]);\r\n\r\n  const SetNewTimeObject = (data) => {\r\n    const timeObject = {};\r\n    EN_SHORT_DAY_OF_WEEK.forEach((e, i) => {\r\n      data.forEach((el, ind) => {\r\n        if (!timeObject[e.day]) {\r\n          timeObject[e.day] = \"Пусто\";\r\n        }\r\n        if (el.day) {\r\n          timeObject[el.day] = el;\r\n        }\r\n      });\r\n    });\r\n    return timeObject;\r\n  };\r\n\r\n  const [leftMenuSettings, setLeftMenuSettings] = useState(\r\n    sessionStorage.getItem(\"opened_li_admin\")\r\n      ? JSON.parse(sessionStorage.getItem(\"opened_li_admin\"))\r\n      : [\r\n          {\r\n            name: \"ПРОФИЛЬ ЗАВЕДЕНИЯ\",\r\n            img: \"barIcon\",\r\n            altImg: \"profile\",\r\n            clicked: true,\r\n            class: \"barIconClass\",\r\n          },\r\n          {\r\n            name: \"ГРАФИК РАБОТЫ\",\r\n            img: \"clocklite\",\r\n            altImg: \"work\",\r\n            clicked: false,\r\n            class: \"clockliteClass\",\r\n          },\r\n          {\r\n            name: \"ГРАФИК ТРАНСЛЯЦИЙ\",\r\n            img: \"video-camera\",\r\n            altImg: \"camera\",\r\n            clicked: false,\r\n            class: \"videoCameraClass\",\r\n          },\r\n          {\r\n            name: \"СТРИМ\",\r\n            img: \"streaming\",\r\n            altImg: \"stream\",\r\n            clicked: false,\r\n            class: \"streamingClass\",\r\n          },\r\n        ]\r\n  );\r\n\r\n  useEffect(() => {\r\n    sessionStorage.setItem(\"opened_li_admin\", JSON.stringify(leftMenuSettings));\r\n  }, [leftMenuSettings]);\r\n\r\n  useEffect(() => {\r\n    DATA.description && setDescOfCompany(DATA.description);\r\n  }, [DATA.description]);\r\n\r\n  useEffect(() => {\r\n    DATA.name && setNameOfCompany(DATA.name);\r\n  }, [DATA.name]);\r\n\r\n  useEffect(() => {\r\n    DATA.alias && setAliasOfCompany(DATA.alias);\r\n  }, [DATA.alias]);\r\n\r\n  const descOfCompanyLimit = 300;\r\n\r\n  const updatePlaceData = () => {\r\n    if (cookies.origin_data) {\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n            updatePlace(\r\n              input:{\r\n                id:\"${props.match.params.id}\"\r\n                name:\"${nameOfCompany || DATA.name}\"\r\n                alias:\"${aliasOfCompany || DATA.alias}\"              \r\n                ${\r\n                  DATA.categories &&\r\n                  DATA.categories[0] &&\r\n                  typeOfCompanyId &&\r\n                  typeOfCompanyId !== DATA.categories[0].id\r\n                    ? `categories:{\r\n                    disconnect:\"${DATA.categories[0].id}\"\r\n                    connect:\"${typeOfCompanyId}\"\r\n                  }`\r\n                    : typeOfCompanyId\r\n                    ? `categories:{\r\n                      disconnect:\"${typeOfCompanyId}\"\r\n                    }`\r\n                    : `categories:{\r\n                      \r\n                    }`\r\n                }\r\n              }\r\n            ){id}\r\n          }`,\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (!data.errors) {\r\n            setIsSuccessSave(true);\r\n            setTimeout(() => {\r\n              setIsSuccessSave(false);\r\n            }, 2000);\r\n          } else {\r\n            console.log(data.errors, \" ERRORS\");\r\n          }\r\n        })\r\n        .catch((err) => console.log(err, \"  *******ERR\"));\r\n    }\r\n  };\r\n\r\n  const updateOrRemoveUploadImage = (profile_image) => {\r\n    QUERY(\r\n      {\r\n        query: `mutation {\r\n          updatePlace(\r\n            input:{\r\n              id:\"${props.match.params.id}\"\r\n              ${\r\n                profile_image\r\n                  ? `profile_image: \"${profile_image}\"`\r\n                  : `profile_image: ${null}`\r\n              }             \r\n            }\r\n          ){id profile_image}\r\n        }`,\r\n      },\r\n      cookies.origin_data\r\n    )\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (!data.errors) {\r\n          handeleClearToDefault();\r\n          refreshData();\r\n        } else {\r\n          console.log(data.errors, \" ERRORS\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err, \"  *******ERR\"));\r\n  };\r\n\r\n  const uploadImageTranscode = (blob) => {\r\n    if (cookies.origin_data) {\r\n      const query = `\r\n          mutation ($file: Upload!) {\r\n            placeImage(file: $file)\r\n          }\r\n        `;\r\n\r\n      const data = {\r\n        file: null,\r\n      };\r\n\r\n      const operations = JSON.stringify({\r\n        query,\r\n        variables: {\r\n          data,\r\n        },\r\n      });\r\n\r\n      let formData = new FormData();\r\n      formData.append(\"operations\", operations);\r\n      const map = {\r\n        0: [\"variables.file\"],\r\n      };\r\n      formData.append(\"map\", JSON.stringify(map));\r\n      formData.append(\"0\", blob || imageDestination);\r\n      axios({\r\n        url: `${queryPath}/graphql`,\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: cookies.origin_data\r\n            ? \"Bearer \" + cookies.origin_data\r\n            : \"\",\r\n        },\r\n        data: formData,\r\n      })\r\n        .then((res) => {\r\n          res.data.data.placeImage &&\r\n            updateOrRemoveUploadImage(res.data.data.placeImage);\r\n        })\r\n        .catch((err) => console.log(err, \" ERR\"));\r\n    }\r\n  };\r\n\r\n  document.body.style.background = \"#fff\";\r\n\r\n  const [imgSrc, setImgSrc] = useState(null);\r\n  const imagePreviewCanvas = useRef(null);\r\n\r\n  const imageMaxSize = 10000000000,\r\n    acceptedFileTypes =\r\n      \"image/x-png, image/png, image/jpg, image/jpeg, image/gif\",\r\n    acceptedFileTypesArray = acceptedFileTypes\r\n      .split(\",\")\r\n      .map((item) => item.trim());\r\n\r\n  const imageElementRef = useRef(null);\r\n  const [imageDestination, setImageDestination] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (imageElementRef.current) {\r\n      const cropper = new Cropper(imageElementRef.current, {\r\n        zoomable: true,\r\n        scalable: false,\r\n        dragMode: \"move\",\r\n        aspectRatio: 16 / 9,\r\n        rotatable: true,\r\n        movableL: true,\r\n        modal: true,\r\n        imageSmoothingEnabled: true,\r\n        crop: (e) => {\r\n          const canvas = cropper.getCroppedCanvas();\r\n          canvas.toBlob(function (blob) {\r\n            if (blob) {\r\n              const formData = new FormData();\r\n              formData.append(\"my-file\", blob, \"filename.png\");\r\n              setImageDestination(blob);\r\n            }\r\n          });\r\n        },\r\n      });\r\n    }\r\n  }, [imageElementRef.current]);\r\n\r\n  const handeleClearToDefault = () => setImgSrc(null);\r\n\r\n  const verifyFile = (files) => {\r\n    if (files && files.length > 0) {\r\n      const currentFile = files[0],\r\n        currentFileType = currentFile.type,\r\n        currentFileSize = currentFile.size;\r\n\r\n      if (currentFileSize > imageMaxSize) {\r\n        alert(\"слишком большой размер файла\");\r\n        return false;\r\n      }\r\n      if (!acceptedFileTypesArray.includes(currentFileType)) {\r\n        alert(\"поддерживаются только изображения\");\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const handleOnDrop = (files, rejectedFiles) => {\r\n    if (rejectedFiles && rejectedFiles.length > 0) verifyFile(rejectedFiles);\r\n\r\n    if (files && files.length > 0) {\r\n      const isVerified = verifyFile(files);\r\n      if (isVerified) {\r\n        const currentFile = files[0];\r\n        const myFileItemReader = new FileReader();\r\n\r\n        myFileItemReader.onloadend = function (theFile) {\r\n          var image = new Image();\r\n          image.src = theFile.target.result;\r\n        };\r\n\r\n        myFileItemReader.addEventListener(\r\n          \"load\",\r\n          (theFile) => {\r\n            const myResult = myFileItemReader.result;\r\n            setImgSrc(\"\");\r\n\r\n            setImgSrc(myResult);\r\n          },\r\n          false\r\n        );\r\n        myFileItemReader.readAsDataURL(currentFile);\r\n      }\r\n    }\r\n  };\r\n\r\n  const isWorkTimeOrDayOff = (oneDay, i) => {\r\n    if (oneDay && oneDay.id) {\r\n      if (\r\n        oneDay.start_time.split(\":\")[0] * 3600 +\r\n          oneDay.start_time.split(\":\")[1] * 60 <=\r\n        oneDay.end_time.split(\":\")[0] * 3600 +\r\n          oneDay.end_time.split(\":\")[1] * 60\r\n      ) {\r\n        return (\r\n          <p>\r\n            {oneDay.start_time.replace(\":\", \".\")}\r\n            {\" - \"}\r\n            {oneDay.end_time.replace(\":\", \".\")}{\" \"}\r\n          </p>\r\n        );\r\n      } else {\r\n        return (\r\n          <p>\r\n            {oneDay.start_time.replace(\":\", \".\")}\r\n            {\" - \"}\r\n            {oneDay.end_time.replace(\":\", \".\")}\r\n          </p>\r\n        );\r\n      }\r\n    } else {\r\n      return \"Выходной\";\r\n    }\r\n  };\r\n\r\n  const isSetAsDayOff = (oneDay) => {\r\n    if (oneDay && oneDay.id) {\r\n      return \"Сделать выходным\";\r\n    } else {\r\n      return \"Выходной\";\r\n    }\r\n  };\r\n\r\n  const renderCustomTypeImg = (slug, active) => {\r\n    return (\r\n      <CustomImg\r\n        alt=\"Icon\"\r\n        className=\"сompanyNavImg\"\r\n        name={slug}\r\n        active={active ? true : false}\r\n        width=\"30\"\r\n        height=\"30\"\r\n      />\r\n    );\r\n  };\r\n\r\n  const animateProps = useSpring({\r\n    right: isShowMenu ? 200 : 0,\r\n    config: { duration: 200 },\r\n  });\r\n\r\n  const animateSavedProps = useSpring({\r\n    bottom: isSuccessSave ? 20 : -100,\r\n    config: { duration: 200 },\r\n  });\r\n\r\n  const tomorrowFromDay = (day) => {\r\n    if (day === 6) {\r\n      return 0;\r\n    } else {\r\n      return day + 1;\r\n    }\r\n  };\r\n\r\n  const [validationErr, setValidationErr] = useState({});\r\n\r\n  const checkValidationError = () => {\r\n    if (nameOfCompany.length < 1) {\r\n      setValidationErr({\r\n        nameOfCompany: \"обязательно для заполнения\",\r\n      });\r\n      return false;\r\n    } else if (\r\n      (aliasOfCompany && !aliasOfCompany.match(\"^[a-zA-Z0-9]+$\")) ||\r\n      aliasOfCompany.length < 1\r\n    ) {\r\n      setValidationErr({\r\n        aliasOfCompany: \"только латиница и цифры и поле не пустое\",\r\n      });\r\n      return false;\r\n    } else {\r\n      setValidationErr({});\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const [streamOpen, setStreamOpen] = useState(false);\r\n  const [profileOpen, setPprofileOpen] = useState(false);\r\n  const [workScheduleOpen, setWorkScheduleOpen] = useState(false);\r\n  const [streamScheduleOpen, setStreamScheduleOpen] = useState(false);\r\n\r\n  const closeAllSidebar = () => {\r\n    setStreamOpen(false);\r\n    setPprofileOpen(false);\r\n    setWorkScheduleOpen(false);\r\n    setStreamScheduleOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    sessionStorage.setItem(\"prevZoom\", \"\");\r\n    sessionStorage.setItem(\"prevCenter\", \"\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    autosize(document.querySelectorAll(\"textarea\"));\r\n  });\r\n\r\n  const hide = (e) => {\r\n    if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu)\r\n      hideSideMenu();\r\n  };\r\n\r\n  if (!Number(cookies.origin_id)) {\r\n    return <Redirect to=\"/login\" />;\r\n  } else {\r\n    return (\r\n      <div>\r\n        <div onClick={(e) => hide(e)}>\r\n          <AdminStyle\r\n            as={animated.div}\r\n            style={animateProps}\r\n            onClick={(e) => hide(e)}\r\n          >\r\n            <Header\r\n              isShowMenu={isShowMenu}\r\n              logo\r\n              burger\r\n              arrow\r\n              showSlideSideMenu={showSlideSideMenu}\r\n              showSideMenu={showSideMenu}\r\n            />\r\n            {isLoading && <Loader />}\r\n            {!isLoading && (\r\n              <AdminWrapper>\r\n                {/* __________________DESCTOP__________________ */}\r\n                <LeftAdminMenuD>\r\n                  <GoBack to={\"/editCompany\"}>\r\n                    <GoBackArrow>&#8592;</GoBackArrow>К списку заведений\r\n                  </GoBack>\r\n                  <LeftAdminMenuInnerD>\r\n                    <ul>\r\n                      {leftMenuSettings.map((el, id) => (\r\n                        <LeftMenu\r\n                          el={el}\r\n                          setLeftMenuSettings={setLeftMenuSettings}\r\n                          id={id}\r\n                        />\r\n                      ))}\r\n                    </ul>\r\n                  </LeftAdminMenuInnerD>\r\n                </LeftAdminMenuD>\r\n\r\n                <AdminContentD>\r\n                  {leftMenuSettings.map((el, i) => {\r\n                    if (el.clicked && i === 0) {\r\n                      return (\r\n                        <div key={i}>\r\n                          <ProfileTitleD>\r\n                            <ProfileTitleH3D>ПРОФИЛЬ ЗАВЕДЕНИЯ</ProfileTitleH3D>\r\n                            <ProfileTitleNameD>({DATA.name})</ProfileTitleNameD>\r\n                          </ProfileTitleD>\r\n                          <ProfileContentD>\r\n                            <div>\r\n                              {imgSrc ? (\r\n                                <div>\r\n                                  <CropWrapperD>\r\n                                    <ImgContainerD>\r\n                                      <img\r\n                                        ref={imageElementRef}\r\n                                        src={imgSrc}\r\n                                        alt=\"src\"\r\n                                      />\r\n                                    </ImgContainerD>\r\n                                    <CanvasImageD\r\n                                      ref={imagePreviewCanvas}\r\n                                    ></CanvasImageD>\r\n                                  </CropWrapperD>\r\n                                </div>\r\n                              ) : (\r\n                                <PreviewPhotoD\r\n                                  doNotHoverBorder={DATA.profile_image}\r\n                                  onClick={() =>\r\n                                    document\r\n                                      .querySelector(\".previewRef\")\r\n                                      .click()\r\n                                  }\r\n                                >\r\n                                  {DATA.profile_image ? (\r\n                                    <img\r\n                                      className={\"uploadImgStyle\"}\r\n                                      src={`${queryPath}/storage/${DATA.profile_image.replace(\r\n                                        \".png\",\r\n                                        \".jpg\"\r\n                                      )}`}\r\n                                      alt=\"image\"\r\n                                    />\r\n                                  ) : (\r\n                                    <>\r\n                                      <PreviewPhotoTextD>\r\n                                        Загрузить фото\r\n                                      </PreviewPhotoTextD>\r\n                                    </>\r\n                                  )}\r\n                                </PreviewPhotoD>\r\n                              )}\r\n                              {DATA.profile_image && !imgSrc && (\r\n                                <div style={{ marginTop: \"10px\" }}>\r\n                                  <span\r\n                                    className=\"changePhoto\"\r\n                                    style={{ marginRight: \"20px\" }}\r\n                                    onClick={() =>\r\n                                      document\r\n                                        .querySelector(\".previewRef\")\r\n                                        .click()\r\n                                    }\r\n                                  >\r\n                                    Изменить\r\n                                  </span>\r\n                                  <span\r\n                                    className=\"changePhoto\"\r\n                                    onClick={() => updateOrRemoveUploadImage()}\r\n                                  >\r\n                                    Удалить\r\n                                  </span>\r\n                                </div>\r\n                              )}\r\n                              <Dropzone\r\n                                multiple={false}\r\n                                accept={acceptedFileTypes}\r\n                                maxSize={imageMaxSize}\r\n                                onDrop={(acceptedFiles, rejectedFiles) =>\r\n                                  handleOnDrop(acceptedFiles, rejectedFiles)\r\n                                }\r\n                              >\r\n                                {({ getRootProps, getInputProps }) => {\r\n                                  return (\r\n                                    <section style={{ display: \"flex\" }}>\r\n                                      <div\r\n                                        className=\"changePhotoBlock previewRef\"\r\n                                        {...getRootProps()}\r\n                                      >\r\n                                        <input\r\n                                          className=\"changePhotoInput\"\r\n                                          {...getInputProps()}\r\n                                        />\r\n                                        {imgSrc && (\r\n                                          <p className=\"changePhoto\">\r\n                                            Изменить\r\n                                          </p>\r\n                                        )}\r\n                                      </div>\r\n                                      {imgSrc && (\r\n                                        <span\r\n                                          className=\"changePhoto\"\r\n                                          onClick={handeleClearToDefault}\r\n                                        >\r\n                                          Отмена\r\n                                        </span>\r\n                                      )}\r\n                                    </section>\r\n                                  );\r\n                                }}\r\n                              </Dropzone>\r\n                            </div>\r\n                            <div\r\n                              className=\"profileDataDesc\"\r\n                              style={{\r\n                                width: \"100%\",\r\n                                height: \"250px\",\r\n                                margin: 0,\r\n                                paddingLeft: \"29px\",\r\n                              }}\r\n                            >\r\n                              <div\r\n                                className=\"inputBlockWrap\"\r\n                                style={{\r\n                                  flexDirection: \"column\",\r\n                                  alignItems: \"flex-start\",\r\n                                }}\r\n                              >\r\n                                <p\r\n                                  style={{\r\n                                    fontWeight: \"700\",\r\n                                    fontSize: \"16px\",\r\n                                  }}\r\n                                >\r\n                                  Описание:\r\n                                </p>\r\n                                <DescriptionWrapD\r\n                                  width={\"100%\"}\r\n                                  height={\"185px\"}\r\n                                >\r\n                                  <textarea\r\n                                    className=\"descTextarea\"\r\n                                    style={{\r\n                                      padding: \"0 5px\",\r\n                                    }}\r\n                                    maxLength={descOfCompanyLimit}\r\n                                    value={descOfCompany}\r\n                                    onChange={(e) =>\r\n                                      setDescOfCompany(e.target.value)\r\n                                    }\r\n                                  />\r\n                                  <LengthofDescriptionD\r\n                                    descOfCompany={descOfCompany}\r\n                                    descOfCompanyLimit={descOfCompanyLimit}\r\n                                  >\r\n                                    {descOfCompany.length} /{\" \"}\r\n                                    {descOfCompanyLimit}\r\n                                  </LengthofDescriptionD>\r\n                                </DescriptionWrapD>\r\n                              </div>\r\n                            </div>\r\n                          </ProfileContentD>\r\n                          <div className=\"profileDataDesc\">\r\n                            <div className=\"inputBlockWrap\">\r\n                              <p\r\n                                className=\"blockNameDesc\"\r\n                                style={\r\n                                  validationErr[\"nameOfCompany\"]\r\n                                    ? { color: \"red\" }\r\n                                    : {}\r\n                                }\r\n                              >\r\n                                Название заведения:\r\n                                <span style={{ color: \"red\" }}>*</span>\r\n                              </p>\r\n                              <input\r\n                                type=\"text\"\r\n                                placeholder={DATA.name}\r\n                                value={nameOfCompany}\r\n                                onChange={(e) =>\r\n                                  setNameOfCompany(e.target.value)\r\n                                }\r\n                              />\r\n                            </div>\r\n                            <div className=\"inputBlockWrap\">\r\n                              <p\r\n                                className=\"blockNameDesc\"\r\n                                style={\r\n                                  validationErr[\"aliasOfCompany\"]\r\n                                    ? { color: \"red\" }\r\n                                    : {}\r\n                                }\r\n                              >\r\n                                Псевдоним:\r\n                                <span style={{ color: \"red\" }}>*</span>\r\n                              </p>\r\n                              <input\r\n                                pattern=\"^[a-zA-Z0-9]+$\"\r\n                                type=\"text\"\r\n                                placeholder={DATA.alias}\r\n                                value={aliasOfCompany}\r\n                                onChange={(e) =>\r\n                                  setAliasOfCompany(\r\n                                    e.target.value.toLowerCase()\r\n                                  )\r\n                                }\r\n                              />\r\n                            </div>\r\n                            <div className=\"bigInputBlockWrap\">\r\n                              <p className=\"blockNameDesc\">Категория:</p>\r\n                              <div className=\"categoryBtnWrap\">\r\n                                {!!uniqueCompanyType &&\r\n                                  uniqueCompanyType.map((el, i) => {\r\n                                    return (\r\n                                      <span\r\n                                        className=\"categoryBtn\"\r\n                                        key={i}\r\n                                        style={\r\n                                          el &&\r\n                                          el.name &&\r\n                                          typeOfCompany &&\r\n                                          typeOfCompany === el.name\r\n                                            ? {\r\n                                                background: defaultColor,\r\n                                                color: \"#fff\",\r\n                                              }\r\n                                            : !typeOfCompany &&\r\n                                              DATA.categories &&\r\n                                              DATA.categories[0] &&\r\n                                              el &&\r\n                                              el.name &&\r\n                                              DATA.categories[0].name ===\r\n                                                el.name\r\n                                            ? {\r\n                                                background: defaultColor,\r\n                                                color: \"#fff\",\r\n                                              }\r\n                                            : {}\r\n                                        }\r\n                                        onClick={() => {\r\n                                          setTypeOfCompany(el.name);\r\n                                          setTypeOfCompanyId(el.id);\r\n                                        }}\r\n                                        onMouseOver={() =>\r\n                                          setHoveredBtn(el.name)\r\n                                        }\r\n                                        onMouseOut={() => setHoveredBtn(\"\")}\r\n                                      >\r\n                                        {typeOfCompany &&\r\n                                        typeOfCompany === el.name\r\n                                          ? renderCustomTypeImg(el.slug, true)\r\n                                          : !typeOfCompany &&\r\n                                            DATA.categories &&\r\n                                            DATA.categories[0] &&\r\n                                            DATA.categories[0].name === el.name\r\n                                          ? renderCustomTypeImg(el.slug, true)\r\n                                          : hoveredBtn === el.name\r\n                                          ? renderCustomTypeImg(el.slug, true)\r\n                                          : renderCustomTypeImg(el.slug, false)}\r\n                                        <span\r\n                                          style={{\r\n                                            display: \"inline-block\",\r\n                                            width: \"5px\",\r\n                                          }}\r\n                                        ></span>\r\n                                        {el.name}\r\n                                      </span>\r\n                                    );\r\n                                  })}\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"inputBlockWrap\">\r\n                              <p className=\"addressText blockNameDesc\">\r\n                                Адрес заведения:\r\n                              </p>\r\n                              <div className=\"addressBlockWrapp\">\r\n                                <input\r\n                                  disabled\r\n                                  type=\"text\"\r\n                                  value={\r\n                                    DATA.address &&\r\n                                    DATA.address\r\n                                      .split(\",\")[0]\r\n                                      .replace(\"улица\", \"ул.\")\r\n                                      .replace(\"проспект\", \"пр-т.\")\r\n                                  }\r\n                                />\r\n                                <div>\r\n                                  <span\r\n                                    className=\"chooseAddressHoveredDesc\"\r\n                                    onClick={() => togglePopupGoogleMap()}\r\n                                  >\r\n                                    ВЫБРАТЬ АДРЕС НА КАРТЕ\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                            <div>\r\n                              <p\r\n                                style={{ marginRight: \"20px\" }}\r\n                                className=\"saveBtnProfile\"\r\n                                onClick={() => {\r\n                                  checkValidationError() &&\r\n                                    uploadImageTranscode();\r\n                                  checkValidationError() && updatePlaceData();\r\n                                }}\r\n                              >\r\n                                СОХРАНИТЬ\r\n                              </p>\r\n                              <Link\r\n                                to={\"/editCompany\"}\r\n                                className=\"cancelBtnProfile\"\r\n                                onClick={() => {\r\n                                  setValidationErr({});\r\n                                  setNameOfCompany(DATA.name);\r\n                                  setAliasOfCompany(DATA.alias);\r\n                                  setTypeOfCompany(\r\n                                    DATA.categories &&\r\n                                      DATA.categories[0] &&\r\n                                      DATA.categories[0].name\r\n                                  );\r\n                                  setTypeOfCompanyId(\r\n                                    DATA.categories &&\r\n                                      DATA.categories[0] &&\r\n                                      DATA.categories[0].id\r\n                                  );\r\n                                  setDescOfCompany(DATA.description);\r\n                                }}\r\n                              >\r\n                                ОТМЕНА\r\n                              </Link>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    }\r\n                    if (el.clicked && i === 1) {\r\n                      return (\r\n                        <div key={i} className=\"workTimeTableWrap\">\r\n                          <h3 style={{ paddingLeft: \"15px\" }}>ГРАФИК РАБОТЫ</h3>\r\n                          <table className=\"tableWorkDesc\">\r\n                            <tbody>\r\n                              {DATA.schedules &&\r\n                                EN_SHORT_DAY_OF_WEEK.map((el, i) => {\r\n                                  const oneDay = SetNewTimeObject(\r\n                                    DATA.schedules\r\n                                  )[el.day];\r\n                                  return (\r\n                                    <tr key={i}>\r\n                                      <td\r\n                                        style={\r\n                                          numberDayNow === i\r\n                                            ? {\r\n                                                fontWeight: \"700\",\r\n                                                color: defaultColor,\r\n                                              }\r\n                                            : { fontWeight: \"normal\" }\r\n                                        }\r\n                                      >\r\n                                        {EN_SHORT_TO_RU_SHORT[el.day]}\r\n\r\n                                        {oneDay &&\r\n                                          oneDay.start_time &&\r\n                                          (oneDay.start_time.split(\":\")[0] *\r\n                                            3600 +\r\n                                            oneDay.start_time.split(\":\")[1] *\r\n                                              60 <=\r\n                                          oneDay.end_time.split(\":\")[0] * 3600 +\r\n                                            oneDay.end_time.split(\":\")[1] * 60\r\n                                            ? \"\"\r\n                                            : `-${\r\n                                                SHORT_DAY_OF_WEEK[\r\n                                                  tomorrowFromDay(i)\r\n                                                ]\r\n                                              }`)}\r\n                                        {numberDayNow === i && <DayOffDotD />}\r\n                                      </td>\r\n                                      <td\r\n                                        style={\r\n                                          numberDayNow === i\r\n                                            ? {\r\n                                                fontWeight: \"700\",\r\n                                              }\r\n                                            : {}\r\n                                        }\r\n                                        className=\"timeTd\"\r\n                                        onClick={() => {\r\n                                          if (oneDay && oneDay.id) {\r\n                                            setIsEmptyTime(false); //не пустое время\r\n                                            setEnumWeekName(\"\"); //день недели для отправки запроса\r\n                                            setStartRealTimeInPicker(\r\n                                              oneDay.start_time\r\n                                            );\r\n                                            setEndRealTimeInPicker(\r\n                                              oneDay.end_time\r\n                                            );\r\n                                            togglePopupDatePicker();\r\n                                            setClickedTime(oneDay); //объект для отправки запроса\r\n                                            setIsSetWorkTimeDPick(true);\r\n                                          } else {\r\n                                            setIsEmptyTime(true);\r\n                                            setEnumWeekName(el.day);\r\n                                            setStartRealTimeInPicker(\"00:00\");\r\n                                            setEndRealTimeInPicker(\"00:00\");\r\n                                            togglePopupDatePicker();\r\n                                            setIsSetWorkTimeDPick(true);\r\n                                          }\r\n                                        }}\r\n                                      >\r\n                                        {isWorkTimeOrDayOff(oneDay, i)}\r\n                                      </td>\r\n                                      <td\r\n                                        style={\r\n                                          (numberDayNow === i\r\n                                            ? {\r\n                                                fontWeight: \"700\",\r\n                                              }\r\n                                            : {},\r\n                                          isSetAsDayOff(\r\n                                            oneDay\r\n                                          ).toLowerCase() === \"выходной\"\r\n                                            ? { color: \"#000\" }\r\n                                            : {})\r\n                                        }\r\n                                        className=\"doAsDayOfTd\"\r\n                                        onClick={() => setAsDayOf(oneDay.id)}\r\n                                      >\r\n                                        {isSetAsDayOff(oneDay)}\r\n                                      </td>\r\n                                    </tr>\r\n                                  );\r\n                                })}\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      );\r\n                    }\r\n                    if (el.clicked && i === 2) {\r\n                      return (\r\n                        <div className=\"workTimeTableWrap\">\r\n                          <h3 style={{ paddingLeft: \"15px\" }}>\r\n                            ГРАФИК ТРАНСЛЯЦИЙ\r\n                          </h3>\r\n                          <table className=\"tableWorkDesc\">\r\n                            <tbody>\r\n                              {DATA.streams &&\r\n                                EN_SHORT_DAY_OF_WEEK.map((el, i) => {\r\n                                  const oneDay = SetNewTimeObject(\r\n                                    DATA.streams[0]\r\n                                      ? DATA.streams[0].schedules\r\n                                      : []\r\n                                  )[el.day];\r\n                                  return (\r\n                                    <tr key={i}>\r\n                                      <td\r\n                                        style={\r\n                                          numberDayNow === i\r\n                                            ? {\r\n                                                fontWeight: \"700\",\r\n                                                color: defaultColor,\r\n                                              }\r\n                                            : {\r\n                                                fontWeight: \"normal\",\r\n                                              }\r\n                                        }\r\n                                      >\r\n                                        {EN_SHORT_TO_RU_SHORT[el.day]}\r\n                                        {oneDay &&\r\n                                          oneDay.start_time &&\r\n                                          (oneDay.start_time.split(\":\")[0] *\r\n                                            3600 +\r\n                                            oneDay.start_time.split(\":\")[1] *\r\n                                              60 <=\r\n                                          oneDay.end_time.split(\":\")[0] * 3600 +\r\n                                            oneDay.end_time.split(\":\")[1] * 60\r\n                                            ? \"\"\r\n                                            : `-${\r\n                                                SHORT_DAY_OF_WEEK[\r\n                                                  tomorrowFromDay(i)\r\n                                                ]\r\n                                              }`)}\r\n                                        {numberDayNow === i && <DayOffDotD />}\r\n                                      </td>\r\n                                      <td\r\n                                        style={\r\n                                          numberDayNow === i\r\n                                            ? {\r\n                                                fontWeight: \"700\",\r\n                                              }\r\n                                            : {}\r\n                                        }\r\n                                        className=\"timeTd\"\r\n                                        onClick={() => {\r\n                                          if (!DATA.streams[0]) {\r\n                                            alert(\"Стрим еще не создан\");\r\n                                          } else {\r\n                                            if (oneDay && oneDay.id) {\r\n                                              setIsEmptyTime(false); //не пустое время\r\n                                              setEnumWeekName(\"\");\r\n                                              setStartRealTimeInPicker(\r\n                                                oneDay.start_time\r\n                                              );\r\n                                              setEndRealTimeInPicker(\r\n                                                oneDay.end_time\r\n                                              );\r\n                                              togglePopupDatePicker();\r\n                                              setClickedTime(oneDay);\r\n                                              setIsSetWorkTimeDPick(false);\r\n                                            } else {\r\n                                              setIsEmptyTime(true); //пустое время\r\n                                              setEnumWeekName(el.day);\r\n                                              setStartRealTimeInPicker(\"00:00\");\r\n                                              setEndRealTimeInPicker(\"00:00\");\r\n                                              togglePopupDatePicker();\r\n                                              setIsSetWorkTimeDPick(false);\r\n                                            }\r\n                                          }\r\n                                        }}\r\n                                      >\r\n                                        {isWorkTimeOrDayOff(oneDay, i)}\r\n                                      </td>\r\n                                      <td\r\n                                        style={\r\n                                          numberDayNow === i\r\n                                            ? {\r\n                                                fontWeight: \"700\",\r\n                                              }\r\n                                            : {}\r\n                                        }\r\n                                        className=\"doAsDayOfTd\"\r\n                                        onClick={() => setAsDayOf(oneDay.id)}\r\n                                      >\r\n                                        {isSetAsDayOff(oneDay)}\r\n                                      </td>\r\n                                    </tr>\r\n                                  );\r\n                                })}\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      );\r\n                    }\r\n                    if (el.clicked && i === 3) {\r\n                      return (\r\n                        <Stream\r\n                          index={i}\r\n                          DATA={DATA}\r\n                          props={props}\r\n                          setDATA={setDATA}\r\n                          refreshData={refreshData}\r\n                          setIsLoading={setIsLoading}\r\n                        />\r\n                      );\r\n                    }\r\n                  })}\r\n                </AdminContentD>\r\n\r\n                {/* __________________MOBILE__________________ */}\r\n                <div className=\"adminContentMobile\">\r\n                  <div className=\"adminMenuContainer\">\r\n                    {/* ____________________________________ Стрим */}\r\n                    <div className=\"menuBlockWrap \">\r\n                      <div\r\n                        className=\"menuBlock\"\r\n                        onClick={(e) => setStreamOpen(true)}\r\n                      >\r\n                        Стрим<span className=\"rotateArrow\"></span>\r\n                      </div>\r\n                      <SideBar\r\n                        isOpen={streamOpen}\r\n                        right\r\n                        pageWrapId={\"page-wrap\"}\r\n                        outerContainerId={\"App\"}\r\n                        width={\"100%\"}\r\n                      >\r\n                        <StreamMobile\r\n                          closeAllSidebar={closeAllSidebar}\r\n                          DATA={DATA}\r\n                          refreshData={refreshData}\r\n                        />\r\n                      </SideBar>\r\n                    </div>\r\n                    {/* ______________________________Профиль заведения */}\r\n                    <div className=\"menuBlockWrap profile\">\r\n                      <div\r\n                        className=\"menuBlock\"\r\n                        onClick={(e) => setPprofileOpen(true)}\r\n                      >\r\n                        Профиль заведения\r\n                        <span className=\"rotateArrow\"></span>\r\n                      </div>\r\n                      <div className=\"drDownWrap\">\r\n                        <SideBar\r\n                          styles={{ padding: \"0px !important\" }}\r\n                          style={{ padding: 0 }}\r\n                          isOpen={profileOpen}\r\n                          right\r\n                          pageWrapId={\"page-wrap\"}\r\n                          outerContainerId={\"App\"}\r\n                          width={\"100%\"}\r\n                        >\r\n                          <div style={{ position: \"relative\", top: \"-46px\" }}>\r\n                            <div\r\n                              style={{\r\n                                display: \"flex\",\r\n                                height: \"44px\",\r\n                                borderBottom: \"1px solid #ECECEC\",\r\n                                alignItems: \"center\",\r\n                                justifyContent: \"space-between\",\r\n                                padding: \"0 25px\",\r\n                              }}\r\n                            >\r\n                              <p\r\n                                className=\"\"\r\n                                style={{\r\n                                  letterSpacing: \"0.5px\",\r\n                                  color: defaultColor,\r\n                                  fontWeight: 500,\r\n                                  fontSize: \"18px\",\r\n                                }}\r\n                                onClick={() => {\r\n                                  closeAllSidebar();\r\n                                  setValidationErr({});\r\n                                  setNameOfCompany(DATA.name);\r\n                                  setAliasOfCompany(DATA.alias);\r\n                                }}\r\n                              >\r\n                                Отмена\r\n                              </p>\r\n                              <Link to=\"/\">\r\n                                <PartyLive>\r\n                                  PARTY<Live>.LIVE</Live>\r\n                                </PartyLive>\r\n                              </Link>\r\n                              <p\r\n                                style={{\r\n                                  letterSpacing: \"0.5px\",\r\n                                  color: defaultColor,\r\n                                  fontWeight: 500,\r\n                                  fontSize: \"18px\",\r\n                                }}\r\n                                className=\"\"\r\n                                onClick={() => {\r\n                                  checkValidationError() && updatePlaceData();\r\n                                  checkValidationError() && closeAllSidebar();\r\n                                }}\r\n                              >\r\n                                Готово\r\n                              </p>\r\n                            </div>\r\n\r\n                            <AdminMenuTitleM>Профиль</AdminMenuTitleM>\r\n\r\n                            <div\r\n                              className=\"uploadFileContainer\"\r\n                              style={{ paddingTop: \"0\" }}\r\n                            >\r\n                              <div className=\"uploadFile\">\r\n                                {imgSrc ? (\r\n                                  <></>\r\n                                ) : (\r\n                                  <>\r\n                                    <PreviewPhotoM\r\n                                      onClick={() => {\r\n                                        togglePopupUploadFile();\r\n                                        document\r\n                                          .querySelector(\".previewRef\")\r\n                                          .click();\r\n                                      }}\r\n                                    >\r\n                                      {DATA.profile_image ? (\r\n                                        <img\r\n                                          className={\"uploadImgStyleMobile\"}\r\n                                          src={`${queryPath}/storage/${DATA.profile_image.replace(\r\n                                            \".png\",\r\n                                            \".jpg\"\r\n                                          )}`}\r\n                                          alt=\"image\"\r\n                                          style={{ height: \"120px\" }}\r\n                                        />\r\n                                      ) : (\r\n                                        <p>Загрузить фото</p>\r\n                                      )}\r\n                                    </PreviewPhotoM>\r\n                                    <div\r\n                                      style={{\r\n                                        display: \"flex\",\r\n                                        justifyContent: \"center\",\r\n                                        fontWeight: \"bold\",\r\n                                        fontSize: \"16px\",\r\n                                        marginTop: \"15px\",\r\n                                      }}\r\n                                    >\r\n                                      <span\r\n                                        style={{ marginRight: \"30px\" }}\r\n                                        onClick={() => {\r\n                                          togglePopupUploadFile();\r\n                                          document\r\n                                            .querySelector(\".previewRef\")\r\n                                            .click();\r\n                                        }}\r\n                                      >\r\n                                        Изменить\r\n                                      </span>\r\n                                      <span\r\n                                        onClick={() =>\r\n                                          updateOrRemoveUploadImage()\r\n                                        }\r\n                                      >\r\n                                        Удалить\r\n                                      </span>\r\n                                    </div>\r\n                                  </>\r\n                                )}\r\n                                <Dropzone\r\n                                  multiple={false}\r\n                                  accept={acceptedFileTypes}\r\n                                  maxSize={imageMaxSize}\r\n                                  onDrop={(acceptedFiles, rejectedFiles) =>\r\n                                    handleOnDrop(acceptedFiles, rejectedFiles)\r\n                                  }\r\n                                >\r\n                                  {({ getRootProps, getInputProps }) => {\r\n                                    return (\r\n                                      <section style={{ display: \"flex\" }}>\r\n                                        <div\r\n                                          className=\"changePhotoBlock\"\r\n                                          {...getRootProps()}\r\n                                        >\r\n                                          <input\r\n                                            className=\"changePhotoInput previewRef\"\r\n                                            {...getInputProps()}\r\n                                          />\r\n                                          {imgSrc && (\r\n                                            <p className=\"changePhoto\">\r\n                                              Изменить\r\n                                            </p>\r\n                                          )}\r\n                                        </div>\r\n                                        {imgSrc && (\r\n                                          <span\r\n                                            className=\"changePhoto\"\r\n                                            onClick={handeleClearToDefault}\r\n                                          >\r\n                                            Удалить\r\n                                          </span>\r\n                                        )}\r\n                                      </section>\r\n                                    );\r\n                                  }}\r\n                                </Dropzone>\r\n                              </div>\r\n                            </div>\r\n                            {/* ================================================= */}\r\n                            <div className=\"profileDataDesc\">\r\n                              <div\r\n                                className=\"inputBlockWrap\"\r\n                                style={{\r\n                                  flexDirection: \"row\",\r\n                                  alignItems: \"center\",\r\n                                }}\r\n                              >\r\n                                <p\r\n                                  style={\r\n                                    validationErr[\"nameOfCompany\"]\r\n                                      ? { color: \"red\" }\r\n                                      : {}\r\n                                  }\r\n                                >\r\n                                  Название:\r\n                                </p>\r\n                                <input\r\n                                  type=\"text\"\r\n                                  placeholder={DATA.name}\r\n                                  value={nameOfCompany}\r\n                                  onChange={(e) =>\r\n                                    setNameOfCompany(e.target.value)\r\n                                  }\r\n                                />\r\n                              </div>\r\n                              <div\r\n                                className=\"inputBlockWrap\"\r\n                                style={{\r\n                                  flexDirection: \"row\",\r\n                                  alignItems: \"center\",\r\n                                }}\r\n                              >\r\n                                <p\r\n                                  style={\r\n                                    validationErr[\"aliasOfCompany\"]\r\n                                      ? { color: \"red\" }\r\n                                      : {}\r\n                                  }\r\n                                >\r\n                                  Псевдоним:\r\n                                </p>\r\n                                <input\r\n                                  type=\"text\"\r\n                                  placeholder={DATA.alias}\r\n                                  value={aliasOfCompany}\r\n                                  onChange={(e) =>\r\n                                    setAliasOfCompany(\r\n                                      e.target.value.toLowerCase()\r\n                                    )\r\n                                  }\r\n                                />\r\n                              </div>\r\n                              <div className=\"bigInputBlockWrap\">\r\n                                <p>Категория:</p>\r\n\r\n                                <div\r\n                                  className=\"categoryBtnWrap\"\r\n                                  style={{\r\n                                    margin: 0,\r\n                                    justifyContent: \"space-between\",\r\n                                    alignItems: \"center\",\r\n                                  }}\r\n                                >\r\n                                  {DATA.categories &&\r\n                                    DATA.categories[0] &&\r\n                                    DATA.categories[0].slug && (\r\n                                      <span\r\n                                        className=\"categoryAloneBtn\"\r\n                                        style={{ margin: 0 }}\r\n                                      >\r\n                                        {renderCustomTypeImg(\r\n                                          DATA.categories[0].slug,\r\n                                          false\r\n                                        )}\r\n                                        {DATA.categories[0].name}\r\n                                      </span>\r\n                                    )}\r\n\r\n                                  <span\r\n                                    className=\"ChooseNewCategory\"\r\n                                    onClick={() => togglePopupChooseType()}\r\n                                  >\r\n                                    Выбрать...\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                              <div\r\n                                className=\"inputBlockWrap\"\r\n                                style={{\r\n                                  flexDirection: \"row\",\r\n                                  alignItems: \"center\",\r\n                                  margin: 0,\r\n                                }}\r\n                              >\r\n                                <p className=\"addressTextMobile\">Адрес:</p>\r\n                                <AddressM\r\n                                  onClick={() => togglePopupGoogleMap()}\r\n                                >\r\n                                  {DATA.address &&\r\n                                    DATA.address\r\n                                      .split(\",\")[0]\r\n                                      .replace(\"улица\", \"ул.\")\r\n                                      .replace(\"проспект\", \"пр-т.\")}\r\n                                </AddressM>\r\n                              </div>\r\n                              <div\r\n                                className=\"inputBlockWrap\"\r\n                                style={{\r\n                                  flexDirection: \"row\",\r\n                                  alignItems: \"center\",\r\n                                  margin: 0,\r\n                                }}\r\n                              >\r\n                                <p>Описание:</p>\r\n                                <DescriptionM\r\n                                  onClick={() => togglePopupDescription()}\r\n                                >\r\n                                  {descOfCompany}\r\n                                </DescriptionM>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </SideBar>\r\n                      </div>\r\n                    </div>\r\n                    {/* ______________________________________ График работы */}\r\n                    <div className=\"menuBlockWrap workSchedule\">\r\n                      <div\r\n                        className=\"menuBlock\"\r\n                        onClick={(e) => setWorkScheduleOpen(true)}\r\n                      >\r\n                        График работы<span className=\"rotateArrow\"></span>\r\n                      </div>\r\n                      <div className=\"drDownWrapPaddingOff\">\r\n                        <SideBar\r\n                          isOpen={workScheduleOpen}\r\n                          right\r\n                          pageWrapId={\"page-wrap\"}\r\n                          outerContainerId={\"App\"}\r\n                          width={\"100%\"}\r\n                        >\r\n                          <div style={{ position: \"relative\", top: \"-46px\" }}>\r\n                            <div>\r\n                              <div\r\n                                style={{\r\n                                  display: \"flex\",\r\n                                  height: \"44px\",\r\n                                  borderBottom: \"1px solid #ECECEC\",\r\n                                  alignItems: \"center\",\r\n                                  justifyContent: \"space-between\",\r\n                                  padding: \"0 25px\",\r\n                                }}\r\n                              >\r\n                                <p\r\n                                  className=\"\"\r\n                                  style={{\r\n                                    letterSpacing: \"0.5px\",\r\n                                    color: defaultColor,\r\n                                    fontSize: \"16px\",\r\n                                    fontWeight: \"normal\",\r\n                                  }}\r\n                                  onClick={() => {\r\n                                    closeAllSidebar();\r\n                                  }}\r\n                                >\r\n                                  Отмена\r\n                                </p>\r\n                                <Link to=\"/\">\r\n                                  <PartyLive>\r\n                                    PARTY<Live>.LIVE</Live>\r\n                                  </PartyLive>\r\n                                </Link>\r\n                                <p\r\n                                  style={{\r\n                                    letterSpacing: \"0.5px\",\r\n                                    color: defaultColor,\r\n                                    fontSize: \"16px\",\r\n                                    fontWeight: \"normal\",\r\n                                  }}\r\n                                  className=\"\"\r\n                                  onClick={() => {\r\n                                    closeAllSidebar();\r\n                                  }}\r\n                                >\r\n                                  Готово\r\n                                </p>\r\n                              </div>\r\n                              <AdminMenuTitleM>График работы</AdminMenuTitleM>\r\n                              <div>\r\n                                <table>\r\n                                  <tbody>\r\n                                    {DATA.schedules &&\r\n                                      EN_SHORT_DAY_OF_WEEK.map((el, i) => {\r\n                                        const oneDay = SetNewTimeObject(\r\n                                          DATA.schedules\r\n                                        )[el.day];\r\n                                        return (\r\n                                          <tr key={i}>\r\n                                            <td\r\n                                              className=\"dayOfWeekScheduleMobile\"\r\n                                              style={\r\n                                                numberDayNow === i\r\n                                                  ? {\r\n                                                      color: defaultColor,\r\n                                                      fontWeight: \"700\",\r\n                                                    }\r\n                                                  : { fontWeight: \"400\" }\r\n                                              }\r\n                                            >\r\n                                              {EN_SHORT_TO_RU_SHORT[el.day]}\r\n                                            </td>\r\n                                            <td\r\n                                              style={\r\n                                                numberDayNow === i\r\n                                                  ? {\r\n                                                      fontWeight: \"700\",\r\n                                                    }\r\n                                                  : {}\r\n                                              }\r\n                                              onClick={() => {\r\n                                                if (oneDay && oneDay.id) {\r\n                                                  setIsEmptyTime(false); //не пустое время\r\n                                                  setEnumWeekName(\"\"); //день недели для отправки запроса\r\n                                                  setStartRealTimeInPicker(\r\n                                                    oneDay.start_time\r\n                                                  );\r\n                                                  setEndRealTimeInPicker(\r\n                                                    oneDay.end_time\r\n                                                  );\r\n                                                  togglePopupDatePicker(\r\n                                                    \"График работы\"\r\n                                                  );\r\n                                                  setClickedTime(oneDay); //объект для отправки запроса\r\n                                                  setIsSetWorkTimeDPick(true);\r\n                                                } else {\r\n                                                  setIsEmptyTime(true);\r\n                                                  setEnumWeekName(el.day);\r\n                                                  setStartRealTimeInPicker(\r\n                                                    \"00:00\"\r\n                                                  );\r\n                                                  setEndRealTimeInPicker(\r\n                                                    \"00:00\"\r\n                                                  );\r\n                                                  togglePopupDatePicker(\r\n                                                    \"График работы\"\r\n                                                  );\r\n                                                  setIsSetWorkTimeDPick(true);\r\n                                                }\r\n                                              }}\r\n                                            >\r\n                                              {isWorkTimeOrDayOff(oneDay)}\r\n                                            </td>\r\n                                          </tr>\r\n                                        );\r\n                                      })}\r\n                                  </tbody>\r\n                                </table>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </SideBar>\r\n                      </div>\r\n                    </div>\r\n                    {/* _____________________________________ График трансляций */}\r\n                    <div className=\"menuBlockWrap streamSchedule\">\r\n                      <div\r\n                        className=\"menuBlock\"\r\n                        onClick={(e) => setStreamScheduleOpen(true)}\r\n                      >\r\n                        График трансляций\r\n                        <span className=\"rotateArrow\"></span>\r\n                      </div>\r\n                      <div className=\"drDownWrapPaddingOff\">\r\n                        <SideBar\r\n                          isOpen={streamScheduleOpen}\r\n                          right\r\n                          pageWrapId={\"page-wrap\"}\r\n                          outerContainerId={\"App\"}\r\n                          width={\"100%\"}\r\n                        >\r\n                          <div style={{ position: \"relative\", top: \"-46px\" }}>\r\n                            <div\r\n                              style={{\r\n                                display: \"flex\",\r\n                                height: \"44px\",\r\n                                borderBottom: \"1px solid #ECECEC\",\r\n                                alignItems: \"center\",\r\n                                justifyContent: \"space-between\",\r\n                                padding: \"0 25px\",\r\n                              }}\r\n                            >\r\n                              <p\r\n                                className=\"\"\r\n                                style={{\r\n                                  letterSpacing: \"0.5px\",\r\n                                  color: defaultColor,\r\n                                  fontSize: \"16px\",\r\n                                  fontWeight: \"normal\",\r\n                                }}\r\n                                onClick={() => {\r\n                                  closeAllSidebar();\r\n                                }}\r\n                              >\r\n                                Отмена\r\n                              </p>\r\n                              <Link to=\"/\">\r\n                                <PartyLive>\r\n                                  PARTY<Live>.LIVE</Live>\r\n                                </PartyLive>\r\n                              </Link>\r\n                              <p\r\n                                style={{\r\n                                  letterSpacing: \"0.5px\",\r\n                                  color: defaultColor,\r\n                                  fontSize: \"16px\",\r\n                                  fontWeight: \"normal\",\r\n                                }}\r\n                                className=\"\"\r\n                                onClick={() => {\r\n                                  closeAllSidebar();\r\n                                }}\r\n                              >\r\n                                Готово\r\n                              </p>\r\n                            </div>\r\n                            <div>\r\n                              <div className=\"chooseStreamAddress\">\r\n                                <input\r\n                                  className=\"streamAddress\"\r\n                                  placeholder={\r\n                                    (DATA.streams &&\r\n                                      DATA.streams[0] &&\r\n                                      DATA.streams[0].url &&\r\n                                      DATA.streams[0].url) ||\r\n                                    \"Введите адрес стрима\"\r\n                                  }\r\n                                  value={streamAddressData}\r\n                                  onInput={(e) =>\r\n                                    setStreamAddressData(e.target.value)\r\n                                  }\r\n                                />\r\n                                <div\r\n                                  className=\"chooseStreamAddressSaveBtn\"\r\n                                  onClick={() => {\r\n                                    if (streamAddressData) {\r\n                                      if (!DATA.streams[0]) {\r\n                                        createStream(streamAddressData);\r\n                                      } else {\r\n                                        updateStream(streamAddressData);\r\n                                      }\r\n                                    } else {\r\n                                      alert(\"Заполните поле\");\r\n                                    }\r\n                                  }}\r\n                                >\r\n                                  Сохранить\r\n                                </div>\r\n                              </div>\r\n                              <AdminMenuTitleM>\r\n                                График трансляций\r\n                              </AdminMenuTitleM>\r\n                              <table>\r\n                                <tbody>\r\n                                  {DATA.streams &&\r\n                                    EN_SHORT_DAY_OF_WEEK.map((el, i) => {\r\n                                      const oneDay = SetNewTimeObject(\r\n                                        DATA.streams[0]\r\n                                          ? DATA.streams[0].schedules\r\n                                          : []\r\n                                      )[el.day];\r\n                                      return (\r\n                                        <tr key={i}>\r\n                                          <td\r\n                                            className=\"dayOfWeekScheduleMobile\"\r\n                                            style={\r\n                                              numberDayNow === i\r\n                                                ? {\r\n                                                    color: defaultColor,\r\n                                                    fontWeight: \"700\",\r\n                                                  }\r\n                                                : { fontWeight: \"400\" }\r\n                                            }\r\n                                          >\r\n                                            {EN_SHORT_TO_RU_SHORT[el.day]}\r\n                                          </td>\r\n                                          <td\r\n                                            style={\r\n                                              numberDayNow === i\r\n                                                ? {\r\n                                                    fontWeight: \"700\",\r\n                                                  }\r\n                                                : {}\r\n                                            }\r\n                                            onClick={() => {\r\n                                              if (!DATA.streams[0]) {\r\n                                                alert(\"Стрим еще не создан\");\r\n                                              } else {\r\n                                                if (oneDay && oneDay.id) {\r\n                                                  setIsEmptyTime(false); //не пустое время\r\n                                                  setEnumWeekName(\"\");\r\n                                                  setStartRealTimeInPicker(\r\n                                                    oneDay.start_time\r\n                                                  );\r\n                                                  setEndRealTimeInPicker(\r\n                                                    oneDay.end_time\r\n                                                  );\r\n                                                  togglePopupDatePicker(\r\n                                                    \"График трансляций\"\r\n                                                  );\r\n                                                  setClickedTime(oneDay);\r\n                                                  setIsSetWorkTimeDPick(false);\r\n                                                } else {\r\n                                                  setIsEmptyTime(true); //пустое время\r\n                                                  setEnumWeekName(el.day);\r\n                                                  setStartRealTimeInPicker(\r\n                                                    \"00:00\"\r\n                                                  );\r\n                                                  setEndRealTimeInPicker(\r\n                                                    \"00:00\"\r\n                                                  );\r\n                                                  togglePopupDatePicker(\r\n                                                    \"График трансляций\"\r\n                                                  );\r\n                                                  setIsSetWorkTimeDPick(false);\r\n                                                }\r\n                                              }\r\n                                            }}\r\n                                          >\r\n                                            {isWorkTimeOrDayOff(oneDay)}\r\n                                          </td>\r\n                                        </tr>\r\n                                      );\r\n                                    })}\r\n                                </tbody>\r\n                              </table>\r\n                            </div>\r\n                          </div>\r\n                        </SideBar>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </AdminWrapper>\r\n            )}\r\n          </AdminStyle>\r\n          <SlideSideMenu isShowMenu={isShowMenu} />\r\n\r\n          {showPopupDatePicker && (\r\n            <DatePickerPopup\r\n              togglePopupDatePicker={togglePopupDatePicker}\r\n              windowWidth={windowWidth}\r\n              titleInPicker={titleInPicker}\r\n              setAsDayOf={setAsDayOf}\r\n              startRealTimeInPicker={startRealTimeInPicker}\r\n              isSetWorkTimeDPick={isSetWorkTimeDPick}\r\n              isEmptyTime={isEmptyTime}\r\n              props={props}\r\n              enumWeekName={enumWeekName}\r\n              endRealTimeInPicker={endRealTimeInPicker}\r\n              refreshData={refreshData}\r\n              clickedTime={clickedTime}\r\n              DATA={DATA}\r\n              tomorrowFromDay={tomorrowFromDay}\r\n            />\r\n          )}\r\n          {showPopupChooseType && (\r\n            <ChooseTypePopup\r\n              togglePopupChooseType={togglePopupChooseType}\r\n              DATA={DATA}\r\n              setTypeOfCompany={setTypeOfCompany}\r\n              setTypeOfCompanyId={setTypeOfCompanyId}\r\n              props={props}\r\n              typeOfCompanyId={typeOfCompanyId}\r\n              refreshData={refreshData}\r\n              uniqueCompanyType={uniqueCompanyType}\r\n              typeOfCompany={typeOfCompany}\r\n              setHoveredBtn={setHoveredBtn}\r\n              renderCustomTypeImg={renderCustomTypeImg}\r\n              hoveredBtn={hoveredBtn}\r\n            />\r\n          )}\r\n          {showPopupDescription && (\r\n            <DescriptionPopup\r\n              togglePopupDescription={togglePopupDescription}\r\n              DATA={DATA}\r\n              setDescOfCompany={setDescOfCompany}\r\n              props={props}\r\n              descOfCompany={descOfCompany}\r\n              refreshData={refreshData}\r\n              descOfCompanyLimit={descOfCompanyLimit}\r\n            />\r\n          )}\r\n          {showPopupGoogleMap && (\r\n            <GoogleMapPopup\r\n              togglePopupGoogleMap={togglePopupGoogleMap}\r\n              DATA={DATA}\r\n              props={props}\r\n              refreshData={refreshData}\r\n            />\r\n          )}\r\n          {showPopupUploadFile && (\r\n            <UploadFilePopup\r\n              togglePopupUploadFile={togglePopupUploadFile}\r\n              setImgSrc={setImgSrc}\r\n              titleInPicker={titleInPicker}\r\n              imgSrc={imgSrc}\r\n              uploadImageTranscode={uploadImageTranscode}\r\n              acceptedFileTypes={acceptedFileTypes}\r\n              imageMaxSize={imageMaxSize}\r\n              handleOnDrop={handleOnDrop}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        <animated.div\r\n          className=\"successSaved\"\r\n          style={{\r\n            bottom: animateSavedProps.bottom,\r\n            background: defaultColor,\r\n          }}\r\n        >\r\n          <div>\r\n            <p>Сохранено</p>\r\n          </div>\r\n        </animated.div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Admin;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  format,\r\n  addMonths,\r\n  subMonths,\r\n  startOfWeek,\r\n  addDays,\r\n  startOfMonth,\r\n  endOfMonth,\r\n  endOfWeek,\r\n  isSameMonth,\r\n  isSameDay,\r\n  addYears,\r\n  subYears,\r\n  startOfYear,\r\n  getWeekOfMonth\r\n} from \"date-fns\";\r\n\r\nimport \"./calendar.css\";\r\n\r\nimport { ru } from \"date-fns/locale\";\r\nimport buildLocalizeFn from \"date-fns/locale/_lib/buildLocalizeFn\";\r\n\r\nconst monthValues = {\r\n  narrow: [\"Я\", \"Ф\", \"М\", \"А\", \"М\", \"И\", \"И\", \"А\", \"С\", \"О\", \"Н\", \"Д\"],\r\n  abbreviated: [\r\n    \"янв.\",\r\n    \"фев.\",\r\n    \"март\",\r\n    \"апр.\",\r\n    \"май\",\r\n    \"июнь\",\r\n    \"июль\",\r\n    \"авг.\",\r\n    \"сент.\",\r\n    \"окт.\",\r\n    \"нояб.\",\r\n    \"дек.\"\r\n  ],\r\n  wide: [\r\n    \"январь\",\r\n    \"февраль\",\r\n    \"март\",\r\n    \"апрель\",\r\n    \"май\",\r\n    \"июнь\",\r\n    \"июль\",\r\n    \"август\",\r\n    \"сентябрь\",\r\n    \"октябрь\",\r\n    \"ноябрь\",\r\n    \"декабрь\"\r\n  ]\r\n};\r\n\r\nru.localize.month = buildLocalizeFn({\r\n  values: monthValues,\r\n  defaultWidth: \"wide\",\r\n  defaultFormattingWidth: \"wide\"\r\n});\r\n\r\nconst Calendar = () => {\r\n  const [currentMonth, setCurrentMonth] = useState(new Date());\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n\r\n  const [currentYear, setCurrentYear] = useState(new Date());\r\n  const [showTopFixedBlock, setShowTopFixedBloc] = useState(false);\r\n\r\n  const [choosedDayMonth, setChoosedDayMonth] = useState(false);\r\n\r\n  document.body.style.background = \"#fff\";\r\n\r\n  const renderHeader = allMonths => {\r\n    const dateFormat = \"MMMM\";\r\n    return (\r\n      <div className=\"monthNameBigCalendar\">\r\n        <div className=\"\">\r\n          {!allMonths && (\r\n            <div className=\"icon\" onClick={prevMonth}>\r\n              chevron_left\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col col-center\">\r\n          <span>\r\n            {format(allMonths || currentMonth, dateFormat, { locale: ru })}\r\n          </span>\r\n        </div>\r\n        {!allMonths && (\r\n          <div className=\"\" onClick={nextMonth}>\r\n            <div className=\"icon\">chevron_right</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderDays = () => {\r\n    const dateFormat = \"E\";\r\n    const days = [];\r\n    let startDate = startOfWeek(currentMonth, { weekStartsOn: 1 });\r\n    for (let i = 0; i < 7; i++) {\r\n      days.push(\r\n        <div\r\n          className=\"col col-center\"\r\n          key={i}\r\n          style={\r\n            format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n            format(addDays(startDate, i), \"E\") === \"Sun\"\r\n              ? { color: \"#f86262\" }\r\n              : {}\r\n          }\r\n        >\r\n          {format(addDays(startDate, i), \"E\") === \"Sat\"\r\n            ? \"Сб\"\r\n            : format(addDays(startDate, i), dateFormat, { locale: ru }).slice(\r\n                0,\r\n                2\r\n              )}\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div\r\n        className=\"days row\"\r\n        style={{\r\n          background: \"rgb(243, 242, 242)\",\r\n          boxShadow: \"0 0 1px 0 rgba(0,0,0,0.05)\"\r\n        }}\r\n      >\r\n        {days}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const onDateClick = (day, e) => {\r\n    document.body.style.overflow = \"hidden\";\r\n    setSelectedDate(day);\r\n\r\n    const currentRow = e.target.closest(\".animationRow\");\r\n    const currentCalendar = e.target.closest(\".animationMonthCalendar\");\r\n    const animationMonthCalendar = document.getElementsByClassName(\r\n      \"animationMonthCalendar\"\r\n    );\r\n    const curCalendarId = document.getElementById(format(selectedDate, \"MMMM\"));\r\n    const calendarBody = curCalendarId.querySelector(\".body\");\r\n    const animationRows = calendarBody.querySelectorAll(\".animationRow\");\r\n\r\n    for (let j = 0; j < 12; j++) {\r\n      if (animationRows[j]) {\r\n        animationRows[j].style.height = \"50px\";\r\n      }\r\n      animationMonthCalendar[j].style.display = \"none\";\r\n    }\r\n\r\n    currentCalendar.style.display = \"block\";\r\n    currentCalendar.style.marginTop =\r\n      100 - getWeekOfMonth(day, { weekStartsOn: 1 }) * 50 + \"px\";\r\n\r\n    setTimeout(() => {\r\n      currentRow.style.height = window.innerHeight + \"px\";\r\n    }, 350);\r\n\r\n    setChoosedDayMonth(format(day, \"MMMM yyyy\", { locale: ru }));\r\n  };\r\n\r\n  const renderCells = allMonths => {\r\n    const monthStart = startOfMonth(allMonths || currentMonth);\r\n    const monthEnd = endOfMonth(monthStart);\r\n    const startDate = startOfWeek(monthStart, { weekStartsOn: 1 });\r\n    const endDate = endOfWeek(monthEnd);\r\n\r\n    const dateFormat = \"d\";\r\n    const rows = [];\r\n    let days = [];\r\n    let day = startDate;\r\n    let formattedDate = \"\";\r\n\r\n    while (day <= endDate) {\r\n      for (let i = 0; i < 7; i++) {\r\n        formattedDate = format(day, dateFormat);\r\n        const cloneDay = day;\r\n        days.push(\r\n          <div\r\n            className={`col cell outline ${\r\n              !isSameMonth(day, monthStart)\r\n                ? !choosedDayMonth\r\n                  ? \"disabled\"\r\n                  : \"disabledOpacity\"\r\n                : isSameDay(day, selectedDate)\r\n                ? \"selected\"\r\n                : \"\"\r\n            }`}\r\n            style={\r\n              format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n              format(addDays(startDate, i), \"E\") === \"Sun\"\r\n                ? isSameMonth(day, monthStart)\r\n                  ? { color: \"#f86262\", height: \"50px\" }\r\n                  : { height: \"50px\" }\r\n                : { height: \"50px\" }\r\n            }\r\n            key={day}\r\n            onClick={e => {\r\n              !e.target.classList.contains(\"disabled\") &&\r\n                !e.target.classList.contains(\"disabledOpacity\") &&\r\n                !e.target.classList.contains(\"numberDisabled\") &&\r\n                onDateClick(cloneDay, e);\r\n            }}\r\n          >\r\n            <span\r\n              className={\r\n                !isSameMonth(day, monthStart)\r\n                  ? \"number numberDisabled\"\r\n                  : \"number\"\r\n              }\r\n            >\r\n              {formattedDate}\r\n            </span>\r\n          </div>\r\n        );\r\n        day = addDays(day, 1);\r\n      }\r\n      rows.push(\r\n        <div\r\n          className=\"row animationRow\"\r\n          key={day}\r\n          style={{ height: \"50px\", overflow: \"hidden\" }}\r\n        >\r\n          {days}\r\n          <div className=\"calendarDayDescription\">\r\n            <p>{format(selectedDate, \"EEEE d MMMM yyyy\", { locale: ru })} г.</p>\r\n          </div>\r\n        </div>\r\n      );\r\n      days = [];\r\n    }\r\n    return <div className=\"body\">{rows}</div>;\r\n  };\r\n\r\n  const nextMonth = () => {\r\n    setCurrentMonth(addMonths(currentMonth, 1));\r\n  };\r\n  const prevMonth = () => {\r\n    setCurrentMonth(subMonths(currentMonth, 1));\r\n  };\r\n\r\n  // ==================IOS START======================\r\n  //ALL MONTHS\r\n  let yearStart = startOfYear(currentYear);\r\n  const monthsOfYear = [];\r\n  for (let i = 0; i < 12; i++) {\r\n    monthsOfYear.push(yearStart);\r\n    yearStart = addMonths(yearStart, 1);\r\n  }\r\n\r\n  const nextIosYear = () => {\r\n    setCurrentYear(addYears(currentYear, 1));\r\n  };\r\n  const prevIosYear = () => {\r\n    setCurrentYear(subYears(currentYear, 1));\r\n  };\r\n\r\n  const renderIosHeader = () => {\r\n    const dateFormat = \"yyyy\";\r\n    return (\r\n      <div className=\"headerIos rowIos \">\r\n        <div className=\"\">\r\n          <div className=\"icon\" onClick={prevIosYear}>\r\n            chevron_left\r\n          </div>\r\n        </div>\r\n        <div className=\"headerIosYear\">\r\n          <span>{format(currentYear, dateFormat, { locale: ru })}</span>\r\n        </div>\r\n        <div className=\"\" onClick={nextIosYear}>\r\n          <div className=\"icon\">chevron_right</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderIosCells = el => {\r\n    const monthStart = startOfMonth(el);\r\n    const monthEnd = endOfMonth(monthStart);\r\n    const startDate = startOfWeek(monthStart, { weekStartsOn: 1 });\r\n    const endDate = endOfWeek(monthEnd);\r\n\r\n    const clickOnMonth = () => {\r\n      setCurrentMonth(el);\r\n\r\n      const iosCalendar = document.getElementsByClassName(\"iosCalendar\")[0];\r\n      const bigCalendarWrap = document.getElementsByClassName(\r\n        \"bigCalendarWrap\"\r\n      )[0];\r\n\r\n      iosCalendar.style.opacity = \"0\";\r\n      iosCalendar.style.zIndex = 0;\r\n\r\n      bigCalendarWrap.style.opacity = \"1\";\r\n      bigCalendarWrap.style.display = \"block\";\r\n      bigCalendarWrap.style.zIndex = 1;\r\n\r\n      setShowTopFixedBloc(true);\r\n\r\n      setTimeout(() => {\r\n        document\r\n          .getElementById(format(el, \"MMMM\"))\r\n          .scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n        window.scrollTo(0, window.pageYOffset);\r\n      }, 500);\r\n    };\r\n\r\n    const dateFormat = \"d\";\r\n    const rows = [];\r\n    let days = [];\r\n    let day = startDate;\r\n    let formattedDate = \"\";\r\n    while (day <= endDate) {\r\n      for (let i = 0; i < 7; i++) {\r\n        formattedDate = format(day, dateFormat);\r\n        days.push(\r\n          <div\r\n            className={`col cellIos ${\r\n              !isSameMonth(day, monthStart)\r\n                ? \"disabledIos\"\r\n                : isSameDay(day, selectedDate)\r\n                ? \"selectedIos\"\r\n                : \"\"\r\n            }`}\r\n            style={{\r\n              height: \"18px\",\r\n              fontSize: \"10px\"\r\n            }}\r\n            key={day}\r\n          >\r\n            <span\r\n              className=\"number\"\r\n              style={\r\n                format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n                format(addDays(startDate, i), \"E\") === \"Sun\"\r\n                  ? { color: \"#999\", display: \"flex\", alignSelf: \"center\" }\r\n                  : { display: \"flex\", alignSelf: \"center\" }\r\n              }\r\n            >\r\n              {formattedDate}\r\n            </span>\r\n          </div>\r\n        );\r\n        day = addDays(day, 1);\r\n      }\r\n      rows.push(\r\n        <div className=\"rowIos\" key={day}>\r\n          {days}\r\n        </div>\r\n      );\r\n      days = [];\r\n    }\r\n    return (\r\n      <div\r\n        className=\"iosCalendarWrap\"\r\n        onClick={e => {\r\n          clickOnMonth();\r\n        }}\r\n      >\r\n        <p\r\n          className=\"iosMonth\"\r\n          style={\r\n            isSameMonth(el, new Date())\r\n              ? { color: \"rgb(248, 98, 98)\" }\r\n              : { color: \"black\" }\r\n          }\r\n        >\r\n          {format(el, \"MMMM\", { locale: ru })}\r\n        </p>\r\n        <div className=\"body\">{rows}</div>\r\n      </div>\r\n    );\r\n  };\r\n  // ==================IOS END====================\r\n\r\n  return (\r\n    <div className=\"calendar\" style={{ border: \"none\" }}>\r\n      <div className=\"iosCalendar\">\r\n        {renderIosHeader()}\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            flexWrap: \"wrap\",\r\n            margin: \"5px\",\r\n            background: \"#fff\"\r\n          }}\r\n        >\r\n          {monthsOfYear.map((el, i) => {\r\n            return (\r\n              <div className=\"animationCalendarBlock\" key={i}>\r\n                {renderIosCells(el)}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <div>\r\n        {\r\n          <div\r\n            className={\r\n              showTopFixedBlock ? \"fixedBlocksShow\" : \"fixedBlocksHide\"\r\n            }\r\n          >\r\n            <p\r\n              className=\"topArrowWrap\"\r\n              onClick={e => {\r\n                if (!choosedDayMonth) {\r\n                  // CLICK по    < 2020 >\r\n                  const iosCalendar = document.getElementsByClassName(\r\n                    \"iosCalendar\"\r\n                  )[0];\r\n                  const bigCalendarWrap = document.getElementsByClassName(\r\n                    \"bigCalendarWrap\"\r\n                  )[0];\r\n                  setShowTopFixedBloc(false);\r\n\r\n                  iosCalendar.style.opacity = \"1\";\r\n                  iosCalendar.style.zIndex = 1;\r\n\r\n                  bigCalendarWrap.style.opacity = \"0\";\r\n                  bigCalendarWrap.style.display = \"none\";\r\n                } else {\r\n                  // CLICK по    < январь 2020\r\n                  document.body.style.overflow = \"auto\";\r\n\r\n                  const animationMonthCalendar = document.getElementsByClassName(\r\n                    \"animationMonthCalendar\"\r\n                  );\r\n\r\n                  const curCalendarId = document.getElementById(\r\n                    format(selectedDate, \"MMMM\")\r\n                  );\r\n                  const calendarBody = curCalendarId.querySelector(\".body\");\r\n                  const animationRows = calendarBody.querySelectorAll(\r\n                    \".animationRow\"\r\n                  );\r\n\r\n                  for (let j = 0; j < 12; j++) {\r\n                    if (animationRows[j]) {\r\n                      animationRows[j].style.height = \"50px\";\r\n                    }\r\n                  }\r\n                  setChoosedDayMonth(false);\r\n\r\n                  setTimeout(() => {\r\n                    for (let i = 0; i < 12; i++) {\r\n                      animationMonthCalendar[i].style.display = \"block\";\r\n                      animationMonthCalendar[i].style.marginTop = 10 + \"px\";\r\n                      if (i === 0) {\r\n                        animationMonthCalendar[i].style.marginTop = 100 + \"px\";\r\n                      }\r\n                    }\r\n                    document\r\n                      .getElementById(format(selectedDate, \"MMMM\"))\r\n                      .scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n                  }, 400);\r\n                }\r\n              }}\r\n            >\r\n              <span className=\"topArrowCalendar\">\r\n                <span>{choosedDayMonth || format(currentYear, \"yyyy\")}</span>\r\n              </span>\r\n            </p>\r\n            {renderDays()}\r\n          </div>\r\n        }\r\n        <div className={`bigCalendarWrap`}>\r\n          {monthsOfYear.map((el, i) => {\r\n            return (\r\n              <div\r\n                key={i}\r\n                id={format(el, \"MMMM\")}\r\n                className=\"animationMonthCalendar\"\r\n                style={\r\n                  ({ margin: \"10px\" },\r\n                  +format(el, \"M\") === 1\r\n                    ? { marginTop: \"100px\" }\r\n                    : { marginTop: \"10px\" })\r\n                }\r\n              >\r\n                {renderHeader(el)}\r\n                {renderCells(el)}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calendar;\r\n","import React from \"react\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\nimport { CookiesProvider } from \"react-cookie\";\r\n\r\nimport Home from \"./pages/home/Home\";\r\nimport Map from \"./pages/map/Map\";\r\nimport Company from \"./pages/company/Company\";\r\nimport Login from \"./pages/auth/Login\";\r\nimport EditCompany from \"./pages/editCompany/EditCompany\";\r\nimport Registration from \"./pages/auth/Registration\";\r\nimport Admin from \"./pages/admin/Admin\";\r\nimport Calendar from \"./components/calendar/Calendar\";\r\n\r\nimport \"./App.css\";\r\n\r\nconst customHistory = createBrowserHistory();\r\n\r\nconst App = () => {\r\n  return (\r\n    <BrowserRouter history={customHistory}>\r\n      <CookiesProvider>\r\n        <div className=\"App\">\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route path=\"/map\" component={Map} />\r\n            <Route path=\"/company/:id\" component={Company} />\r\n            <Route path=\"/login\" component={Login} />\r\n            <Route path=\"/registration\" component={Registration} />\r\n            <Route path=\"/admin/:id\" component={Admin} />\r\n            <Route path=\"/calendar\" component={Calendar} />\r\n            <Route path=\"/editCompany\" component={EditCompany} />\r\n            <Redirect to=\"/\" />\r\n          </Switch>\r\n        </div>\r\n      </CookiesProvider>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}