{"version":3,"sources":["calculateTime.js","query.js","components/companyNav/CompanyNav.js","components/typeNav/TypeNav.js","getDistance.js","components/smallCompanyBlock/SmallCompanyBlock.js","components/slideSideMenu/SlideSideMenu.js","components/bottomMenu/BottomMenu.js","components/burger/Burger.js","components/header/Header.js","components/loader/Loader.js","pages/home/Home.js","constants.js","pages/map/Map.js","components/popup/Popup.js","pages/company/Company.js","pages/auth/Login.js","pages/editCompany/EditCompany.js","pages/auth/Registration.js","pages/admin/Admin.js","components/calendar/Calendar.js","App.js","serviceWorker.js","index.js"],"names":["numberDayYest","QUERY","body","origin_data","Promise","resolve","fetch","method","mode","JSON","stringify","headers","Authorization","CompanyNav","style","clickedType","currentPage","toSlideFixedNav","useState","uniqueCompanyType","setUniqueCompanyType","isDown","setIsDown","startX","setStartX","scrollLeft","setScrollLeft","clickedTypeLocal","setClickedTypeLocal","slideBtnMenu","useRef","useEffect","query","then","res","json","data","categories","catch","err","console","log","supportsTouch","document","documentElement","smoothscroll","polyfill","className","animation","left","ref","onMouseDown","e","pageX","current","offsetLeft","onMouseLeave","onMouseUp","onMouseMove","preventDefault","walk","onClick","to","map","el","i","slideBtn","React","createRef","name","key","btnPositionToCenter","offsetWidth","currentTarget","scrollTo","behavior","scrollBtnToCenter","alt","src","process","slug","width","height","TypeNav","color","pathname","numberDayNow","Date","getDay","currentTimeMS","getHours","getMinutes","isShowStreamNow","item","setShowStream","yesterdayStream","streams","schedules","todayStream","startYesterdayStreamMS","start_time","split","endYesterdayStreamMS","end_time","startTodayStreamMS","endTodayStreamMS","isWorkTimeNow","setWorkTime","setIsWork","yesterdayWorkTime","todayWorkTime","endYesterdayMS","startYesterdayMS","endTodayMS","startTodayMS","getDistanceFromLatLonInKm","lat1","lon1","lat2","lon2","dLat","deg2rad","dLon","a","Math","sin","cos","atan2","sqrt","deg","PI","SmallCompanyBlock","showStream","workTime","isWork","curDistance","setCurDistance","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","coordinates","id","background","preview","autoPlay","display","alignItems","justifyContent","textAlign","padding","Number","toFixed","SlideSideMenu","isShowMenu","shomMenu","setShowMenu","useCookies","cookies","removeCookie","setTimeout","right","origin_id","errors","BottomMenu","toSlideFixedBottomMenu","Burger","showSlideSideMenu","showSideMenu","Header","burger","arrow","logo","toSlideFixedHeader","history","useHistory","goBack","Loader","Home","props","DATA","setDATA","companyData","setCompanyData","isLoading","setIsLoading","places","setShowSlideSideMenu","setIsShowMenu","target","overflow","position","type","filteredData","filter","toUpperCase","length","API_KEY","Marker","children","MapComponent","markers","setMarkers","mapRef","zoom","setZoom","bounds","setBounds","points","properties","cluster","crimeId","category","geometry","clusters","useSupercluster","options","radius","maxZoom","hideSideMenu","window","onresize","defaultCenter","setDefaultCenter","lat","lng","zIndex","bootstrapURLKeys","defaultZoom","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","onChange","nw","se","isCluster","pointCount","point_count","cluster_id","streamTime","time","bool","Popup","togglePopup","wrpaStyle","Company","showPopup","setShowPopap","geoposition","setGeoposition","innerWidth","windowWidth","setWindowWidth","place","match","params","url","controls","autoplay","description","address","Login","isLogin","setIsLogin","email","setEmail","password","setPassword","isForgetPass","setIsForgetPass","allValidationError","setAllValidationError","loginRef","setCookie","onSubmit","boxShadow","login","access_token","user","userLogin","placeholder","value","prev","EditCompany","setPlaces","borderTop","Registration","setName","rePassword","setRePassword","isSuccess","setIsSuccess","oneValidationError","setOneValidationError","register","nameFirstErrInput","Object","keys","extensions","validation","tokens","TimePicker","timePickerName","setTime","hours","setHours","minutes","setMinutes","clickHandlerTop","max","nextSibling","innerText","clickHandlerBottom","previousSibling","Admin","selectedFile","setSelectedFile","showPopupDatePicker","setShowPopapDatePicker","showPopupGoogleMap","setShowPopapGoogleMap","startTimePicker","setStartTimePicker","endTimePicker","setEndTimePicker","clickedTime","setClickedTime","centerOfMap","setCenterOfMap","fileInput","fetchGoogleMaps","apiKey","language","libraries","Maps","geocoder","Geocoder","geocode","location","parseFloat","results","status","formatted_address","addressId","querySelector","autocomplete","Autocomplete","event","addListener","getPlace","address_components","google","maps","GeocoderStatus","OK","refreshData","accordionHandler","maxHeight","firstElementChild","transform","scrollHeight","togglePopupDatePicker","togglePopupGoogleMap","hlsConfig","videoProps","crossOrigin","preload","files","click","fd","FormData","append","day","h","m","center","ru","localize","month","buildLocalizeFn","values","narrow","abbreviated","wide","defaultWidth","defaultFormattingWidth","Calendar","currentMonth","setCurrentMonth","selectedDate","setSelectedDate","currentYear","setCurrentYear","showTopFixedBlock","setShowTopFixedBloc","choosedDayMonth","setChoosedDayMonth","onDateClick","currentRow","closest","currentCalendar","animationMonthCalendar","getElementsByClassName","animationRows","getElementById","format","querySelectorAll","j","marginTop","getWeekOfMonth","weekStartsOn","innerHeight","locale","nextMonth","addMonths","prevMonth","subMonths","yearStart","startOfYear","monthsOfYear","push","nextIosYear","addYears","prevIosYear","subYears","renderIosCells","monthStart","startOfMonth","monthEnd","endOfMonth","startDate","startOfWeek","endDate","endOfWeek","rows","days","formattedDate","isSameMonth","isSameDay","fontSize","addDays","alignSelf","iosCalendar","bigCalendarWrap","opacity","scrollIntoView","block","pageYOffset","clickOnMonth","border","flexWrap","margin","slice","renderDays","allMonths","cloneDay","classList","contains","renderCells","customHistory","createBrowserHistory","App","CookiesProvider","exact","path","component","Map","Boolean","hostname","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.26fada00.chunk.js","sourcesContent":["const numberDayNow = new Date().getDay() === 0 ? 6 : new Date().getDay() - 1;\r\nlet numberDayYest;\r\n\r\nif (new Date().getDay() === 0) {\r\n  numberDayYest = 5;\r\n} else if (new Date().getDay() === 1) {\r\n  numberDayYest = 6;\r\n} else {\r\n  numberDayYest = new Date().getDay() - 2;\r\n}\r\n\r\nconst HtoMs = 3600000,\r\n  MtoMs = 60000;\r\n\r\nconst currentTimeMS =\r\n  new Date().getHours() * HtoMs + new Date().getMinutes() * MtoMs;\r\n\r\nexport const isShowStreamNow = (item, setShowStream) => {\r\n  const yesterdayStream = item.streams[0].schedules[numberDayYest],\r\n    todayStream = item.streams[0].schedules[numberDayNow];\r\n\r\n  const startYesterdayStreamMS =\r\n    yesterdayStream.start_time.split(\":\")[0] * HtoMs +\r\n    yesterdayStream.start_time.split(\":\")[1] * MtoMs;\r\n  const endYesterdayStreamMS =\r\n    yesterdayStream.end_time.split(\":\")[0] * HtoMs +\r\n    yesterdayStream.end_time.split(\":\")[1] * MtoMs;\r\n\r\n  const startTodayStreamMS =\r\n    todayStream.start_time.split(\":\")[0] * HtoMs +\r\n    todayStream.start_time.split(\":\")[1] * MtoMs;\r\n  const endTodayStreamMS =\r\n    todayStream.end_time.split(\":\")[0] * HtoMs +\r\n    todayStream.end_time.split(\":\")[1] * MtoMs;\r\n\r\n  if (\r\n    startYesterdayStreamMS > endYesterdayStreamMS &&\r\n    endYesterdayStreamMS > currentTimeMS\r\n  ) {\r\n    // идет видео за вчерашний день ещe\r\n    setShowStream(true);\r\n  } else if (\r\n    startTodayStreamMS > endTodayStreamMS &&\r\n    currentTimeMS > startTodayStreamMS\r\n  ) {\r\n    // если видео началось сегодня и закончилось завтра\r\n    setShowStream(true);\r\n  } else if (\r\n    startTodayStreamMS < endTodayStreamMS &&\r\n    currentTimeMS > startTodayStreamMS &&\r\n    currentTimeMS < endTodayStreamMS\r\n  ) {\r\n    // началось и закончилось сегодня\r\n    setShowStream(true);\r\n  } else {\r\n    setShowStream(false);\r\n  }\r\n};\r\n\r\nexport const isWorkTimeNow = (item, setWorkTime, setIsWork) => {\r\n  const yesterdayWorkTime = item.schedules[numberDayYest],\r\n    todayWorkTime = item.schedules[numberDayNow];\r\n\r\n  const endYesterdayMS =\r\n    yesterdayWorkTime.end_time.split(\":\")[0] * HtoMs +\r\n    yesterdayWorkTime.end_time.split(\":\")[1] * MtoMs;\r\n  const startYesterdayMS =\r\n    yesterdayWorkTime.start_time.split(\":\")[0] * HtoMs +\r\n    yesterdayWorkTime.start_time.split(\":\")[1] * MtoMs;\r\n  const endTodayMS =\r\n    todayWorkTime.end_time.split(\":\")[0] * HtoMs +\r\n    todayWorkTime.end_time.split(\":\")[1] * MtoMs;\r\n  const startTodayMS =\r\n    todayWorkTime.start_time.split(\":\")[0] * HtoMs +\r\n    todayWorkTime.start_time.split(\":\")[1] * MtoMs;\r\n\r\n  if (startYesterdayMS > endYesterdayMS && endYesterdayMS > currentTimeMS) {\r\n    // идет работа за вчерашний день ещe\r\n    setIsWork(true);\r\n    setWorkTime(\r\n      yesterdayWorkTime.start_time.split(\":\")[0] +\r\n        \":\" +\r\n        yesterdayWorkTime.start_time.split(\":\")[1] +\r\n        \"-\" +\r\n        yesterdayWorkTime.end_time.split(\":\")[0] +\r\n        \":\" +\r\n        yesterdayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  } else if (startTodayMS > endTodayMS && currentTimeMS > startTodayMS) {\r\n    // если работа началось сегодня и закончилось завтра\r\n    setIsWork(true);\r\n    setWorkTime(\r\n      todayWorkTime.start_time.split(\":\")[0] +\r\n        \":\" +\r\n        todayWorkTime.start_time.split(\":\")[1] +\r\n        \"-\" +\r\n        todayWorkTime.end_time.split(\":\")[0] +\r\n        \":\" +\r\n        todayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  } else if (\r\n    startTodayMS < endTodayMS &&\r\n    currentTimeMS > startTodayMS &&\r\n    currentTimeMS < endTodayMS\r\n  ) {\r\n    // началось и закончилось сегодня\r\n    setIsWork(true);\r\n    setWorkTime(\r\n      todayWorkTime.start_time.split(\":\")[0] +\r\n        \":\" +\r\n        todayWorkTime.start_time.split(\":\")[1] +\r\n        \"-\" +\r\n        todayWorkTime.end_time.split(\":\")[0] +\r\n        \":\" +\r\n        todayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  } else {\r\n    setIsWork(false);\r\n    setWorkTime(\r\n      \"_Закрыто_ \" +\r\n        todayWorkTime.start_time.split(\":\")[0] +\r\n        \":\" +\r\n        todayWorkTime.start_time.split(\":\")[1] +\r\n        \"-\" +\r\n        todayWorkTime.end_time.split(\":\")[0] +\r\n        \":\" +\r\n        todayWorkTime.end_time.split(\":\")[1]\r\n    );\r\n  }\r\n};\r\n","const QUERY = (body, origin_data) => {\r\n  return Promise.resolve(\r\n    fetch(\"http://194.87.95.37/graphql\", {\r\n      method: \"POST\",\r\n      mode: \"cors\",\r\n      body: JSON.stringify(body),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: origin_data ? \"Bearer \" + origin_data : \"\"\r\n      }\r\n    })\r\n  );\r\n};\r\n\r\nexport default QUERY;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./companyNav.css\";\r\nimport smoothscroll from \"smoothscroll-polyfill\";\r\n\r\nconst CompanyNav = ({ style, clickedType, currentPage, toSlideFixedNav }) => {\r\n  const [uniqueCompanyType, setUniqueCompanyType] = useState([]);\r\n\r\n  const [isDown, setIsDown] = useState(false);\r\n  const [startX, setStartX] = useState();\r\n  const [scrollLeft, setScrollLeft] = useState();\r\n  const [clickedTypeLocal, setClickedTypeLocal] = useState();\r\n\r\n  const slideBtnMenu = useRef(null);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n        categories {\r\n          id name slug\r\n        }\r\n      }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        setUniqueCompanyType(data.data.categories);\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  ERR\");\r\n      });\r\n  }, []);\r\n\r\n  const supportsTouch = \"ontouchstart\" in document.documentElement;\r\n  smoothscroll.polyfill();\r\n\r\n  const scrollBtnToCenter = e => {\r\n    e.preventDefault();\r\n    const btnPositionToCenter =\r\n      slideBtnMenu.current.offsetWidth / 2 -\r\n      (e.currentTarget.offsetLeft -\r\n        slideBtnMenu.current.scrollLeft +\r\n        e.currentTarget.offsetWidth / 2);\r\n\r\n    slideBtnMenu.current.scrollTo({\r\n      left: slideBtnMenu.current.scrollLeft - btnPositionToCenter,\r\n      behavior: \"smooth\"\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"overflowClass\"\r\n      style={\r\n        ({\r\n          ...style\r\n        },\r\n        toSlideFixedNav\r\n          ? {\r\n              animation: \"toLeftFixed 0.3s ease\",\r\n              left: \"-200px\"\r\n            }\r\n          : {\r\n              animation: \"toRightFixed 0.3s ease\",\r\n              left: \"0px\"\r\n            })\r\n      }\r\n    >\r\n      <div\r\n        className={\"сompanyNav\"}\r\n        ref={slideBtnMenu}\r\n        // //BROWSER ===========================================\r\n        onMouseDown={e => {\r\n          if (!supportsTouch) {\r\n            setIsDown(true);\r\n            setStartX(e.pageX - slideBtnMenu.current.offsetLeft);\r\n            setScrollLeft(slideBtnMenu.current.scrollLeft);\r\n          }\r\n        }}\r\n        onMouseLeave={() => {\r\n          if (!supportsTouch) {\r\n            setIsDown(false);\r\n          }\r\n        }}\r\n        onMouseUp={() => {\r\n          if (!supportsTouch) {\r\n            setIsDown(false);\r\n          }\r\n        }}\r\n        onMouseMove={e => {\r\n          if (!supportsTouch) {\r\n            if (!isDown) return;\r\n            e.preventDefault();\r\n            const x = e.pageX - slideBtnMenu.current.offsetLeft;\r\n            const walk = (x - startX) * 2;\r\n            slideBtnMenu.current.scrollLeft = scrollLeft - walk;\r\n          }\r\n        }}\r\n        //TOUCH =============================================\r\n        // onTouchStart={e => {\r\n        //   if (supportsTouch) {\r\n        //     setIsDown(true);\r\n        //     setStartX(\r\n        //       Math.ceil(e.nativeEvent.touches[0].clientX) -\r\n        //         slideBtnMenu.current.offsetLeft\r\n        //     );\r\n        //     setScrollLeft(slideBtnMenu.current.scrollLeft);\r\n        //   }\r\n        // }}\r\n        // onTouchEnd={e => {\r\n        //   if (supportsTouch) {\r\n        //     setIsDown(false);\r\n        //   }\r\n        // }}\r\n        // onTouchMove={e => {\r\n        //   if (supportsTouch) {\r\n        //     const x =\r\n        //       e.nativeEvent.touches[0].clientX -\r\n        //       slideBtnMenu.current.offsetLeft;\r\n        //     const walk = (x - startX) * 2;\r\n        //     slideBtnMenu.current.scrollLeft = scrollLeft - walk;\r\n        //   }\r\n        // }}\r\n      >\r\n        <div\r\n          className={\r\n            !clickedTypeLocal ? \"companyNavBlock activeBtn\" : \"companyNavBlock\"\r\n          }\r\n          onClick={e => {\r\n            clickedType();\r\n            setClickedTypeLocal();\r\n          }}\r\n        >\r\n          <Link\r\n            className={\r\n              !clickedTypeLocal\r\n                ? \"companyNavLink activeBtnText\"\r\n                : \"companyNavLink\"\r\n            }\r\n            to={currentPage}\r\n          >\r\n            <p className=\"allText\">Все</p>\r\n          </Link>\r\n        </div>\r\n        {uniqueCompanyType.map((el, i) => {\r\n          const slideBtn = React.createRef();\r\n          return (\r\n            <div\r\n              ref={slideBtn}\r\n              className={\r\n                clickedTypeLocal === el.name\r\n                  ? \"companyNavBlock activeBtn\"\r\n                  : \"companyNavBlock\"\r\n              }\r\n              key={i}\r\n              onClick={e => {\r\n                clickedType(el.name);\r\n                setClickedTypeLocal(el.name);\r\n                scrollBtnToCenter(e);\r\n              }}\r\n            >\r\n              <Link\r\n                className={\r\n                  clickedTypeLocal === el.name\r\n                    ? \"companyNavLink activeBtnText\"\r\n                    : \"companyNavLink\"\r\n                }\r\n                to={currentPage}\r\n              >\r\n                <img\r\n                  alt=\"Icon\"\r\n                  className=\"сompanyNavImg\"\r\n                  src={`${process.env.PUBLIC_URL}/img/${el.slug}.png`}\r\n                  width=\"30\"\r\n                  height=\"30\"\r\n                />\r\n                <p className=\"сompanyNavText\">{el.name}</p>\r\n              </Link>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CompanyNav;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./typeNav.css\";\r\n\r\nconst TypeNav = ({ style }) => {\r\n  return (\r\n    <div className=\"TypeNav\" style={{ ...style }}>\r\n      <Link\r\n        style={{ color: \"#000\" }}\r\n        className=\"typeNavText typeNavBlock\"\r\n        to={{\r\n          pathname: \"/map\"\r\n        }}\r\n      >\r\n        <p>КАРТА</p>\r\n      </Link>\r\n      <Link\r\n        style={{ color: \"#000\" }}\r\n        className=\"typeNavText typeNavBlock\"\r\n        to={{ pathname: \"/home\" }}\r\n      >\r\n        <p>СПИСОК </p>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TypeNav;\r\n","export const getDistanceFromLatLonInKm = (lat1, lon1, lat2, lon2) => {\r\n  const R = 6371; // Radius of the earth in km\r\n  const dLat = deg2rad(lat2 - lat1); // deg2rad below\r\n  const dLon = deg2rad(lon2 - lon1);\r\n  const a =\r\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos(deg2rad(lat1)) *\r\n      Math.cos(deg2rad(lat2)) *\r\n      Math.sin(dLon / 2) *\r\n      Math.sin(dLon / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  const d = R * c; // Distance in km\r\n  return d;\r\n};\r\n\r\nfunction deg2rad(deg) {\r\n  return deg * (Math.PI / 180);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./smallCompanyBlock.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { isShowStreamNow, isWorkTimeNow } from \"../../calculateTime\";\r\nimport { getDistanceFromLatLonInKm } from \"../../getDistance\";\r\n\r\nconst SmallCompanyBlock = ({ item }) => {\r\n  const [showStream, setShowStream] = useState(false);\r\n  const [workTime, setWorkTime] = useState(false);\r\n  const [isWork, setIsWork] = useState(false);\r\n  const [curDistance, setCurDistance] = useState(null);\r\n\r\n  useEffect(() => {\r\n    isShowStreamNow(item, setShowStream);\r\n    isWorkTimeNow(item, setWorkTime, setIsWork);\r\n  }, [item]);\r\n\r\n  if (navigator.geolocation) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      pos => {\r\n        setCurDistance(\r\n          getDistanceFromLatLonInKm(\r\n            pos.coords.latitude,\r\n            pos.coords.longitude,\r\n            item.coordinates.split(\",\")[0],\r\n            item.coordinates.split(\",\")[1]\r\n          )\r\n        );\r\n      },\r\n      err => {\r\n        console.log(err, \" GEOLOCATION ERROR \");\r\n      }\r\n    );\r\n  } else {\r\n    console.log(\"Геолокация недоступна \");\r\n  }\r\n\r\n  return (\r\n    <Link\r\n      to={{ pathname: `/company/${item.id}` }}\r\n      className=\"SmallCompanyBlock1\"\r\n    >\r\n      <div className=\"imgContainer1\" style={{ background: \"#000\" }}>\r\n        {!!showStream && (\r\n          <video\r\n            className=\"companyImg1\"\r\n            src={item.streams[0].preview}\r\n            autoPlay\r\n          />\r\n        )}\r\n        {!showStream && (\r\n          <div\r\n            className=\"companyImg1\"\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\"\r\n            }}\r\n          >\r\n            <p style={{ color: \"#fff\", textAlign: \"center\", padding: \"20px\" }}>\r\n              На данный момент стрим не идет\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"description1\">\r\n        <div className=\"topBlockText1\">\r\n          <div className=\"companyNameWrap1\">\r\n            <p className=\"companyName1\">{item.name}</p>\r\n            <p className=\"companyType1\">{item.categories[0].name} </p>\r\n          </div>\r\n          {/* <p className=\"companyTitle1\">???????</p> */}\r\n        </div>\r\n        <div className=\"bottomBlockText1\">\r\n          <div className=\"row1\">\r\n            <p className=\"leftText1\">Время работы</p>\r\n          </div>\r\n          <p className=\"rightText1\">{workTime}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"descriptionMobile1\">\r\n        <p className=\"nameOfCompany1\">\r\n          {item.categories[0].name} “{item.name}”\r\n        </p>\r\n        <p className=\"distanceFirst1 distanceFirstLeft1\">\r\n          {curDistance && <span>{Number(curDistance).toFixed(2)} km</span>}\r\n          {!curDistance && \" 0 km.\"}\r\n        </p>\r\n        {isWork && (\r\n          <p className=\"endTime1\">\r\n            Открыто: до\r\n            <span> {workTime.split(\"-\")[1]}</span>\r\n          </p>\r\n        )}\r\n        {!isWork && (\r\n          <p className=\"endTime1\">\r\n            {/* {workTime} */}\r\n            Закрыто\r\n          </p>\r\n        )}\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default SmallCompanyBlock;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./slideSideMenu.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport QUERY from \"../../query\";\r\n\r\nconst SlideSideMenu = ({ isShowMenu }) => {\r\n  const [shomMenu, setShowMenu] = useState(false);\r\n  const [cookies, removeCookie] = useCookies([]);\r\n\r\n  useEffect(() => {\r\n    if (!isShowMenu) {\r\n      setTimeout(() => {\r\n        setShowMenu(false);\r\n      }, 300);\r\n    } else {\r\n      setShowMenu(true);\r\n    }\r\n  }, [isShowMenu]);\r\n\r\n  const logout = () => {\r\n    QUERY(\r\n      {\r\n        query: `mutation {\r\n        logout{status message}\r\n      }`\r\n      },\r\n      cookies.origin_data\r\n    )\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (!data.errors) {\r\n          console.log(data, \" LOGOUT\");\r\n          removeCookie(\"origin_data\");\r\n          removeCookie(\"origin_id\");\r\n        } else {\r\n          console.log(data.errors, \" ERRORS LOGOUT\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  *******ERR LOGOUT\");\r\n      });\r\n\r\n    removeCookie(\"origin_data\");\r\n    removeCookie(\"origin_id\");\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"SlideSideMenuWrap\"\r\n      style={shomMenu ? { display: \"block\" } : { display: \"none\" }}\r\n    >\r\n      <div\r\n        className=\"SlideSideMenu\"\r\n        style={\r\n          isShowMenu\r\n            ? { animation: \"on 0.25s ease\", right: 0 }\r\n            : { animation: \"off 0.25s ease\", right: \"-200px\" }\r\n        }\r\n      >\r\n        <ul className=\"sideMenuUl\">\r\n          <li className=\"sideMenuLi\">\r\n            <Link to=\"/home\">Главная</Link>\r\n          </li>\r\n          <li>\r\n            <Link to=\"/map\">Карта</Link>\r\n          </li>\r\n          <li>\r\n            {Number(cookies.origin_id) === 1 && (\r\n              <Link to=\"/editCompany\">График</Link>\r\n            )}\r\n          </li>\r\n          <li>\r\n            {!Number(cookies.origin_id) && <Link to=\"/login\">Вход</Link>}\r\n            {!!Number(cookies.origin_id) && (\r\n              <Link\r\n                onClick={() => {\r\n                  logout();\r\n                }}\r\n                to=\"/login\"\r\n              >\r\n                Выход\r\n              </Link>\r\n            )}\r\n          </li>\r\n          <li>\r\n            {!Number(cookies.origin_id) && (\r\n              <Link to=\"/registration\">Регистрация</Link>\r\n            )}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SlideSideMenu;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./bottomMenu.css\";\r\n\r\nconst BottomMenu = ({ style, toSlideFixedBottomMenu }) => {\r\n  return (\r\n    <div\r\n      className=\"BottomMenu\"\r\n      style={\r\n        (toSlideFixedBottomMenu\r\n          ? {\r\n              animation: \"toLeftFixed 0.3s ease\",\r\n              left: \"-200px\"\r\n            }\r\n          : {\r\n              animation: \"toRightFixed 0.3s ease\",\r\n              left: \"0px\"\r\n            },\r\n        style)\r\n      }\r\n    >\r\n      <Link to=\"/home\">\r\n        <img\r\n          alt=\"Home\"\r\n          src={`${process.env.PUBLIC_URL}/img/menu2.png`}\r\n          className=\"homeImg\"\r\n        />\r\n      </Link>\r\n      <Link to=\"/map\">\r\n        <img\r\n          alt=\"Loc\"\r\n          src={`${process.env.PUBLIC_URL}/img/location1.png`}\r\n          className=\"locationImg\"\r\n        />\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BottomMenu;\r\n","import React from \"react\";\r\n\r\nimport \"./burger.css\";\r\n\r\nconst Burger = ({ showSlideSideMenu, showSideMenu }) => {\r\n  return (\r\n    <span\r\n      className={showSlideSideMenu ? \"activeburger\" : \"burger\"}\r\n      onClick={() => {\r\n        if (!showSlideSideMenu) {\r\n          showSideMenu();\r\n        }\r\n      }}\r\n    >\r\n      <span></span>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default Burger;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Burger from \"../burger/Burger\";\r\nimport \"./header.css\";\r\n\r\nconst Header = ({\r\n  showSlideSideMenu,\r\n  showSideMenu,\r\n  style,\r\n  burger,\r\n  arrow,\r\n  logo,\r\n  toSlideFixedHeader\r\n}) => {\r\n  let history = useHistory();\r\n  return (\r\n    <div\r\n      className=\"headerContainer\"\r\n      style={\r\n        (style,\r\n        toSlideFixedHeader\r\n          ? {\r\n              animation: \"toLeftFixed 0.3s ease\",\r\n              left: \"-200px\"\r\n            }\r\n          : {\r\n              animation: \"toRightFixed 0.3s ease\",\r\n              left: \"0px\"\r\n            })\r\n      }\r\n    >\r\n      <div className=\"header\">\r\n        {arrow && (\r\n          <div\r\n            className=\"arrowGoBack\"\r\n            onClick={() => {\r\n              history.goBack();\r\n            }}\r\n          ></div>\r\n        )}\r\n        {logo && (\r\n          <Link to=\"/home\">\r\n            <p className=\"party_live\">\r\n              PARTY<span className=\"live\">.LIVE</span>\r\n            </p>\r\n          </Link>\r\n        )}\r\n\r\n        {burger && (\r\n          <Burger\r\n            showSlideSideMenu={showSlideSideMenu}\r\n            showSideMenu={showSideMenu}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nimport \"./loader.css\";\r\n\r\nconst Loader = () => (\r\n  <div className=\"loaderWrap\">\r\n    <div className=\"lds-roller\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport CompanyNav from \"../../components/companyNav/CompanyNav\";\r\nimport TypeNav from \"../../components/typeNav/TypeNav\";\r\nimport SmallCompanyBlock from \"../../components/smallCompanyBlock/SmallCompanyBlock\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nimport \"./home.css\";\r\n\r\nimport QUERY from \"../../query\";\r\n\r\nconst Home = props => {\r\n  const [DATA, setDATA] = useState([]);\r\n  const [companyData, setCompanyData] = useState([]);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n        places {\r\n          id name address description logo menu actions coordinates\r\n          streams{url name id preview\r\n            schedules{id day start_time end_time}\r\n          }\r\n          schedules {id day start_time end_time}\r\n          categories {id name}\r\n        }\r\n      }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        setIsLoading(false);\r\n        setCompanyData(data.data.places);\r\n        setDATA(data.data.places);\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  ERR\");\r\n      });\r\n  }, []);\r\n\r\n  const clickedType = type => {\r\n    if (type) {\r\n      const filteredData = DATA.filter(\r\n        el => el.categories[0].name.toUpperCase() === type.toUpperCase()\r\n      );\r\n      setCompanyData(filteredData);\r\n    } else {\r\n      setCompanyData(DATA);\r\n    }\r\n  };\r\n\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      onClick={e => {\r\n        if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n          hideSideMenu();\r\n        }\r\n      }}\r\n      style={\r\n        isShowMenu\r\n          ? {\r\n              animation: \"toLeft 0.3s ease\",\r\n              position: \"relative\",\r\n              right: \"200px\"\r\n            }\r\n          : {\r\n              animation: \"toRight 0.3s ease\",\r\n              position: \"relative\"\r\n            }\r\n      }\r\n    >\r\n      <div>\r\n        <Header\r\n          logo\r\n          burger\r\n          toSlideFixedHeader={isShowMenu}\r\n          showSlideSideMenu={showSlideSideMenu}\r\n          showSideMenu={showSideMenu}\r\n        />\r\n        <div className=\"homeContentWrap\">\r\n          <div className=\"navContainer\">\r\n            <CompanyNav\r\n              currentPage=\"/home\"\r\n              toSlideFixedNav={isShowMenu}\r\n              clickedType={type => {\r\n                clickedType(type);\r\n              }}\r\n            />\r\n            <TypeNav />\r\n          </div>\r\n          <div className=\"homeContent\">\r\n            {!!companyData.length &&\r\n              companyData.map((el, i) => (\r\n                <SmallCompanyBlock item={el} key={i} />\r\n              ))}\r\n            {!companyData.length && isLoading && <Loader />}\r\n            {!companyData.length && !isLoading && (\r\n              <div\r\n                style={{\r\n                  padding: \"20px\"\r\n                }}\r\n              >\r\n                Заведений с данным типо нет\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <BottomMenu toSlideFixedBottomMenu={isShowMenu} />\r\n      </div>\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n\r\n// =================================================\r\n// const [isLogin, setIsLogin] = useState(false);\r\n\r\n// const requestBody = {\r\n//   query: `\r\n//     mutation {\r\n//       login (input: {\r\n//           username: \"admin@example.com\",\r\n//           password: \"password\"\r\n//       }) {\r\n//         access_token\r\n//         refresh_token\r\n//         expires_in\r\n//         token_type\r\n//         user {\r\n//           id\r\n//           name\r\n//           email\r\n//         }\r\n//       }\r\n//   }`\r\n// };\r\n// useEffect(() => {\r\n//   if (myContext.token) {\r\n//     fetch(\"http://194.87.95.37/graphql\", {\r\n//       method: \"POST\",\r\n//       body: JSON.stringify(requestBodyCreateNew),\r\n//       headers: {\r\n//         \"Content-Type\": \"application/json\",\r\n//         Authorization: \"Bearer \" + myContext.token\r\n//       }\r\n//     })\r\n//       .then(res => {\r\n//         if (res.status !== 200 && res.status !== 201) {\r\n//           throw new Error(\"Failed!!!\");\r\n//         }\r\n//         return res.json();\r\n//       })\r\n//       .then(data => {\r\n//         console.log(data, \" DATA ------2\");\r\n//       })\r\n//       .catch(err => {\r\n//         console.log(err, \"------------- ERRRRRRR\");\r\n//       });\r\n//   } else {\r\n//     console.log(\"ТОКЕНА НЕТ!!!!\");\r\n//   }\r\n// }, []);\r\n\r\n// ЭТО СОРТИРОВКА\r\n// const getSecondsTime = (year, month, day, hours, minutes) => {\r\n//   return Number(new Date(year, month, day, hours, minutes).getTime());\r\n// };\r\n\r\n// const current_time = new Date().getTime();\r\n// const year = new Date().getFullYear(),\r\n//   month = new Date().getMonth(),\r\n//   day = new Date().getDate();\r\n\r\n// const quickWorkTimeSort = object => {\r\n//   if (object.length <= 1) {\r\n//     return object;\r\n//   } else {\r\n//     const left = [],\r\n//       right = [];\r\n\r\n//     object.forEach((el, i) => {\r\n//       const startTime =\r\n//         +el.work_time[0].split(\":\")[0] * 3600 +\r\n//         +el.work_time[0].split(\":\")[1] * 60;\r\n//       let endTime =\r\n//         +el.work_time[1].split(\":\")[0] * 3600 +\r\n//         +el.work_time[1].split(\":\")[1] * 60;\r\n\r\n//       // ПОШЕЛ СЛЕДУЮЩИЙ ДЕНЬ (найти подругому)\r\n//       if (startTime > endTime) {\r\n//         //ПОЛУЧЕНИЕ СЛЕДУЮЩЕГО ДНЯ В СЕКУНДАХ\r\n//         const dayNow = new Date(year, month, day);\r\n//         const nextDay = new Date(dayNow);\r\n//         nextDay.setDate(dayNow.getDate() + 1);\r\n//         const fullEndTomorrowTime = nextDay.getTime() + endTime; // ВРЕМЯ КОНЦА РАБОТЫ ЗАВТРАШНИМ ДНЕМ\r\n\r\n//         if (\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.work_time[0].split(\":\")[0],\r\n//             +el.work_time[0].split(\":\")[1]\r\n//           ) <= Number(current_time) &&\r\n//           Number(fullEndTomorrowTime) > Number(current_time)\r\n//         ) {\r\n//           left.push(el);\r\n//         } else {\r\n//           right.push(el);\r\n//         }\r\n//       } else {\r\n//         // ВСЕ ПРОИСХОДИТ В ОДИН ДЕНЬ\r\n//         if (\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.work_time[0].split(\":\")[0],\r\n//             +el.work_time[0].split(\":\")[1]\r\n//           ) <= Number(current_time) &&\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.work_time[1].split(\":\")[0],\r\n//             +el.work_time[1].split(\":\")[1]\r\n//           ) > Number(current_time)\r\n//         ) {\r\n//           left.push(el);\r\n//         } else {\r\n//           right.push(el);\r\n//         }\r\n//       }\r\n//     });\r\n//     return [...left, ...right];\r\n//   }\r\n// };\r\n\r\n// const quickStreemTimeSort = object => {\r\n//   if (object.length <= 1) {\r\n//     return object;\r\n//   } else {\r\n//     const left = [],\r\n//       right = [];\r\n\r\n//     object.forEach((el, i) => {\r\n//       const startTime =\r\n//         +el.streem_time[0].split(\":\")[0] * 3600 +\r\n//         +el.streem_time[0].split(\":\")[1] * 60;\r\n//       let endTime =\r\n//         +el.streem_time[1].split(\":\")[0] * 3600 +\r\n//         +el.streem_time[1].split(\":\")[1] * 60;\r\n\r\n//       // ПОШЕЛ СЛЕДУЮЩИЙ ДЕНЬ (найти подругому)\r\n//       if (startTime > endTime) {\r\n//         //ПОЛУЧЕНИЕ СЛЕДУЮЩЕГО ДНЯ В СЕКУНДАХ\r\n//         const dayNow = new Date(year, month, day);\r\n//         const nextDay = new Date(dayNow);\r\n//         nextDay.setDate(dayNow.getDate() + 1);\r\n//         const fullEndTomorrowTime = nextDay.getTime() + endTime; // ВРЕМЯ КОНЦА РАБОТЫ ЗАВТРАШНИМ ДНЕМ\r\n\r\n//         if (\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.streem_time[0].split(\":\")[0],\r\n//             +el.streem_time[0].split(\":\")[1]\r\n//           ) <= Number(current_time) &&\r\n//           Number(fullEndTomorrowTime) > Number(current_time)\r\n//         ) {\r\n//           left.push(el);\r\n//         } else {\r\n//           right.push(el);\r\n//         }\r\n//       } else {\r\n//         // ВСЕ ПРОИСХОДИТ В ОДИН ДЕНЬ\r\n//         if (\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.streem_time[0].split(\":\")[0],\r\n//             +el.streem_time[0].split(\":\")[1]\r\n//           ) <= Number(current_time) &&\r\n//           getSecondsTime(\r\n//             year,\r\n//             month,\r\n//             day,\r\n//             +el.streem_time[1].split(\":\")[0],\r\n//             +el.streem_time[1].split(\":\")[1]\r\n//           ) > Number(current_time)\r\n//         ) {\r\n//           left.push(el);\r\n//         } else {\r\n//           right.push(el);\r\n//         }\r\n//       }\r\n//     });\r\n//     return [...left, ...right];\r\n//   }\r\n// };\r\n","export const API_KEY = \"AIzaSyAZQdg3dPHXD5Bt-Dgi85wNHG5G_MXpR7g\";\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport GooggleMapReact from \"google-map-react\";\r\nimport useSupercluster from \"use-supercluster\";\r\nimport { Link } from \"react-router-dom\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Header from \"../../components/header/Header\";\r\n\r\nimport QUERY from \"../../query\";\r\nimport { isShowStreamNow, isWorkTimeNow } from \"../../calculateTime\";\r\nimport { API_KEY } from \"../../constants\";\r\n\r\nimport \"./map.css\";\r\n\r\nimport TypeNav from \"../../components/typeNav/TypeNav\";\r\nimport CompanyNav from \"../../components/companyNav/CompanyNav\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nconst Marker = ({ children }) => children;\r\n\r\nconst MapComponent = props => {\r\n  const [DATA, setDATA] = useState([]);\r\n\r\n  const [markers, setMarkers] = useState([]);\r\n\r\n  const mapRef = useRef();\r\n  const [zoom, setZoom] = useState(11);\r\n  const [bounds, setBounds] = useState(null);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query{\r\n        places{id name coordinates\r\n          streams{url name id preview\r\n            schedules{id day start_time end_time}\r\n          }\r\n          schedules{id day start_time end_time}\r\n          categories{id name slug}}\r\n        }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        setIsLoading(false);\r\n        setMarkers(data.data.places);\r\n        setDATA(data.data.places);\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  ERR\");\r\n      });\r\n  }, []);\r\n\r\n  const points = markers.map((el, i) => {\r\n    return {\r\n      type: \"Feature\",\r\n      item: el,\r\n      properties: {\r\n        cluster: false,\r\n        crimeId: i,\r\n        category: el.categories[0].name\r\n      },\r\n      geometry: {\r\n        type: \"Point\",\r\n        coordinates: [\r\n          +el.coordinates.split(\",\")[1],\r\n          +el.coordinates.split(\",\")[0]\r\n        ]\r\n      }\r\n    };\r\n  });\r\n\r\n  const { clusters } = useSupercluster({\r\n    points,\r\n    bounds,\r\n    zoom,\r\n    options: {\r\n      radius: 170,\r\n      maxZoom: 20\r\n    }\r\n  });\r\n\r\n  const clickedType = type => {\r\n    if (type) {\r\n      const filteredData = DATA.filter(\r\n        el => el.categories[0].name.toUpperCase() === type.toUpperCase()\r\n      );\r\n      setMarkers(filteredData);\r\n    } else {\r\n      setMarkers(DATA);\r\n    }\r\n  };\r\n\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    setTimeout(() => {\r\n      document.body.style.overflow = \"visible\";\r\n    }, 400);\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function(e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const [defaultCenter, setDefaultCenter] = useState();\r\n\r\n  if (navigator.geolocation && !defaultCenter) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      pos => {\r\n        console.log(pos.coords, \"GEO POS____\");\r\n        setDefaultCenter({\r\n          lat: pos.coords.latitude,\r\n          lng: pos.coords.longitude\r\n        });\r\n      },\r\n      err => {\r\n        console.log(err, \" GEOLOCATION ERROR\");\r\n      }\r\n    );\r\n  } else {\r\n    console.log(\"Геолокация недоступна\");\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={e => {\r\n        if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n          hideSideMenu();\r\n        }\r\n      }}\r\n    >\r\n      <Header\r\n        logo\r\n        arrow\r\n        burger\r\n        toSlideFixedHeader={isShowMenu}\r\n        showSlideSideMenu={showSlideSideMenu}\r\n        showSideMenu={showSideMenu}\r\n      />\r\n      <div className=\"navContainerMap\">\r\n        <CompanyNav\r\n          style={{ zIndex: 1 }}\r\n          currentPage=\"/map\"\r\n          clickedType={clickedType}\r\n        />\r\n        <TypeNav style={{ zIndex: 1 }} />\r\n      </div>\r\n      {isLoading && <Loader />}\r\n      {!isLoading && (\r\n        <div className=\"mapContainer\">\r\n          <GooggleMapReact\r\n            style={{\r\n              height: \"100%\",\r\n              width: \"100%\"\r\n            }}\r\n            bootstrapURLKeys={{\r\n              key: API_KEY\r\n            }}\r\n            defaultCenter={\r\n              defaultCenter || {\r\n                lat: 53.904577,\r\n                lng: 27.557328\r\n              }\r\n            }\r\n            defaultZoom={8}\r\n            yesIWantToUseGoogleMapApiInternals\r\n            onGoogleApiLoaded={({ map }) => {\r\n              mapRef.current = map;\r\n            }}\r\n            onChange={({ zoom, bounds }) => {\r\n              setZoom(zoom);\r\n              setBounds([\r\n                bounds.nw.lng,\r\n                bounds.se.lat,\r\n                bounds.se.lng,\r\n                bounds.nw.lat\r\n              ]);\r\n            }}\r\n          >\r\n            {defaultCenter && (\r\n              <Marker lat={defaultCenter.lat} lng={defaultCenter.lng}>\r\n                <img\r\n                  alt=\"me\"\r\n                  style={{ height: \"32px\", width: \"32px\" }}\r\n                  src={`${process.env.PUBLIC_URL}/img/dancer.png`}\r\n                  className=\"eye\"\r\n                />\r\n              </Marker>\r\n            )}\r\n\r\n            {clusters.map(cluster => {\r\n              const [longitude, latitude] = cluster.geometry.coordinates;\r\n              const {\r\n                cluster: isCluster,\r\n                point_count: pointCount\r\n              } = cluster.properties;\r\n\r\n              //ЗАМЕНА НА ЦИФРЫ\r\n              if (isCluster) {\r\n                return (\r\n                  <Marker\r\n                    key={cluster.properties.cluster_id}\r\n                    lat={latitude}\r\n                    lng={longitude}\r\n                  >\r\n                    <div className=\"clusterMarker\">\r\n                      <p> {pointCount}</p>\r\n                    </div>\r\n                  </Marker>\r\n                );\r\n              }\r\n\r\n              //БЕЗ ЗАМЕНЫ НА ЦИФРЫ\r\n              console.log(cluster.item, \" ITEM\");\r\n\r\n              let streamTime = \"\",\r\n                workTime = \"\",\r\n                isWork = false;\r\n\r\n              const setShowStream = time => {\r\n                streamTime = time;\r\n              };\r\n              const setWorkTime = time => {\r\n                workTime = time;\r\n              };\r\n              const setIsWork = bool => {\r\n                isWork = bool;\r\n              };\r\n\r\n              isShowStreamNow(cluster.item, setShowStream);\r\n              isWorkTimeNow(cluster.item, setWorkTime, setIsWork);\r\n\r\n              return (\r\n                <Marker\r\n                  key={cluster.properties.crimeId}\r\n                  lat={latitude}\r\n                  lng={longitude}\r\n                >\r\n                  <Link\r\n                    to={{\r\n                      pathname: `/company/${cluster.item.id}`\r\n                    }}\r\n                  >\r\n                    <div className=\"mapMarkerWrap\">\r\n                      <div className=\"mapMarker\">\r\n                        {!!streamTime && (\r\n                          <video\r\n                            className=\"companyImg1\"\r\n                            src={cluster.item.streams[0].preview}\r\n                            autoPlay\r\n                          />\r\n                        )}\r\n                        {!streamTime && (\r\n                          <div\r\n                            className=\"companyImg1\"\r\n                            style={{\r\n                              display: \"flex\",\r\n                              alignItems: \"center\",\r\n                              justifyContent: \"center\"\r\n                            }}\r\n                          >\r\n                            <p\r\n                              style={{\r\n                                color: \"#fff\",\r\n                                textAlign: \"center\",\r\n                                padding: \"3px\"\r\n                              }}\r\n                            >\r\n                              Трансляции нет\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <p className=\"mapMarkerName\">\r\n                        {cluster.item.categories[0].name} \"{cluster.item.name}\"\r\n                        <span className=\"openedTo\">\r\n                          {isWork && (\r\n                            <span> Открыто: до {workTime.split(\"-\")[1]}</span>\r\n                          )}\r\n                          {!isWork && <span> Закрыто </span>}\r\n                        </span>\r\n                      </p>\r\n                      <div className=\"arrow\"></div>\r\n                    </div>\r\n                  </Link>\r\n                </Marker>\r\n              );\r\n            })}\r\n          </GooggleMapReact>\r\n        </div>\r\n      )}\r\n\r\n      <BottomMenu toSlideFixedBottomMenu={isShowMenu} />\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapComponent;\r\n","import React from \"react\";\r\n\r\nimport \"./popup.css\";\r\n\r\nconst Popup = ({ children, togglePopup, style, wrpaStyle }) => {\r\n  return (\r\n    <div\r\n      className=\"popup\"\r\n      onClick={e => {\r\n        if (e.target.className === \"popup\") {\r\n          togglePopup();\r\n        }\r\n      }}\r\n      style={wrpaStyle}\r\n    >\r\n      <div className=\"popup_inner\" style={style}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Popup;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport GooggleMapReact from \"google-map-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ReactHLS from \"react-hls\";\r\n\r\nimport Popup from \"../../components/popup/Popup\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nimport { isShowStreamNow, isWorkTimeNow } from \"../../calculateTime\";\r\nimport { getDistanceFromLatLonInKm } from \"../../getDistance\";\r\nimport QUERY from \"../../query\";\r\nimport { API_KEY } from \"../../constants\";\r\n\r\nimport \"./company.css\";\r\n\r\nconst Marker = ({ children }) => children;\r\n\r\nconst Company = props => {\r\n  const [showPopup, setShowPopap] = useState(false);\r\n  const [DATA, setDATA] = useState(null);\r\n  const [geoposition, setGeoposition] = useState([0, 0]);\r\n  const dayOfWeek = [\r\n    \"Понедельник\",\r\n    \"Вторник\",\r\n    \"Среда\",\r\n    \"Четверг\",\r\n    \"Пятница\",\r\n    \"Суббота\",\r\n    \"Воскресенье\"\r\n  ];\r\n  const [showStream, setShowStream] = useState(false);\r\n  const [workTime, setWorkTime] = useState(false);\r\n  const [isWork, setIsWork] = useState(false);\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [curDistance, setCurDistance] = useState(null);\r\n\r\n  const numberDayNow = new Date().getDay() === 0 ? 6 : new Date().getDay() - 1;\r\n\r\n  useEffect(() => {\r\n    if (DATA) {\r\n      isShowStreamNow(DATA.place, setShowStream);\r\n      isWorkTimeNow(DATA.place, setWorkTime, setIsWork);\r\n    }\r\n  }, [DATA]);\r\n\r\n  useEffect(() => {\r\n    if (DATA) {\r\n      setGeoposition([\r\n        +DATA.place.coordinates.split(\",\")[0],\r\n        +DATA.place.coordinates.split(\",\")[1]\r\n      ]);\r\n    }\r\n  }, [DATA]);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n        place (id: ${props.match.params.id}) {\r\n          id name address description\r\n          streams{url name id preview\r\n            schedules{id day start_time end_time}\r\n          }\r\n          categories{name slug}\r\n          coordinates\r\n          schedules {day start_time end_time}\r\n          user {id name email}\r\n        }\r\n      }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        setIsLoading(false);\r\n        setDATA(data.data);\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  ONE PLACE\");\r\n      });\r\n  }, []);\r\n\r\n  const togglePopup = () => {\r\n    showPopup ? setShowPopap(false) : setShowPopap(true);\r\n  };\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function(e) {\r\n    setWindowWidth(e.target.innerWidth);\r\n    hideSideMenu();\r\n  };\r\n\r\n  if (navigator.geolocation && DATA) {\r\n    navigator.geolocation.getCurrentPosition(\r\n      pos => {\r\n        setCurDistance(\r\n          getDistanceFromLatLonInKm(\r\n            pos.coords.latitude,\r\n            pos.coords.longitude,\r\n            DATA.place.coordinates.split(\",\")[0],\r\n            DATA.place.coordinates.split(\",\")[1]\r\n          )\r\n        );\r\n      },\r\n      err => {\r\n        console.log(err, \" GEOLOCATION ERROR \");\r\n      }\r\n    );\r\n  } else {\r\n    console.log(\"Геолокация недоступна \");\r\n  }\r\n\r\n  return (\r\n    <div\r\n      onClick={e => {\r\n        if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n          hideSideMenu();\r\n        }\r\n      }}\r\n    >\r\n      <div\r\n        className=\"Company\"\r\n        style={\r\n          isShowMenu\r\n            ? {\r\n                animation: \"toLeft 0.3s ease\",\r\n                position: \"relative\",\r\n                right: \"200px\"\r\n              }\r\n            : {\r\n                animation: \"toRight 0.3s ease\",\r\n                position: \"relative\"\r\n              }\r\n        }\r\n        onClick={e => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n            hideSideMenu();\r\n          }\r\n        }}\r\n      >\r\n        {windowWidth && windowWidth > 760 && (\r\n          <div className=\"bigCompanyHeader\">\r\n            <Link to=\"/home\"> &#60; На главную</Link>\r\n          </div>\r\n        )}\r\n        {windowWidth && windowWidth < 760 && (\r\n          <Header\r\n            logo\r\n            burger\r\n            arrow\r\n            toSlideFixedHeader={isShowMenu}\r\n            isShowMenu={isShowMenu}\r\n            showSlideSideMenu={showSlideSideMenu}\r\n            showSideMenu={showSideMenu}\r\n          />\r\n        )}\r\n        {DATA && (\r\n          <div className=\"flex\">\r\n            <div className=\"shadowBlock\">\r\n              <div className=\"videoBlock\">\r\n                {showStream && (\r\n                  <ReactHLS\r\n                    url={DATA.place.streams[0].url}\r\n                    controls={true}\r\n                    autoplay={true}\r\n                  />\r\n                )}\r\n                {!showStream && (\r\n                  <div className=\"noVideo\">\r\n                    На данный момент трансляция не запланирована\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"showWatchPeople\"></div>\r\n                <p className=\"videoDescription\">\r\n                  <span>{DATA.place.name}</span> - {DATA.place.description}\r\n                </p>\r\n              </div>\r\n              <div className=\"desc\">\r\n                <div className=\"mobileDescription\">\r\n                  <h3>\r\n                    <span className=\"mobileCompanyType\">\r\n                      {DATA.place.categories[0].name} \"\r\n                    </span>\r\n                    {DATA.place.name}\r\n                    <span className=\"mobileCompanyType\">\"</span>\r\n                  </h3>\r\n                  <p className=\"typeOfPati\">тип мероприятия?????</p>\r\n                  <p className=\"dayOfWeek\">{dayOfWeek[numberDayNow]}</p>\r\n                  <p className=\"distance\">\r\n                    {curDistance && (\r\n                      <span>{Number(curDistance).toFixed(2)} km</span>\r\n                    )}\r\n                    {!curDistance && \" 0 km\"}\r\n                  </p>\r\n                </div>\r\n                <p className=\"smallOpenedTo\">\r\n                  {isWork && <span>Открыто: до {workTime.split(\"-\")[1]}</span>}\r\n                  {!isWork && \"Закрыто\"}\r\n                </p>\r\n                <div className=\"timeBlocks\">\r\n                  <div className=\"timeBlock\">\r\n                    <img\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                      alt=\"clock\"\r\n                      src={`${process.env.PUBLIC_URL}/img/clock.png`}\r\n                    />\r\n                    <p className=\"rightTimeBlock\">\r\n                      <span>Время работы:</span> <span>{workTime}</span>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"timeBlock streamTime\">\r\n                    <img\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                      alt=\"camera\"\r\n                      src={`${process.env.PUBLIC_URL}/img/camera.png`}\r\n                    />\r\n                    <p className=\"rightTimeBlock\">\r\n                      <span> Стрим:</span>\r\n                      <span>\r\n                        {showStream ? \" Стрим идет\" : \" Стрим не идет\"}\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"timeBlock\">\r\n                    <img\r\n                      alt=\"location\"\r\n                      height=\"16\"\r\n                      width=\"16\"\r\n                      src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n                    />\r\n                    <p className=\"rightTimeBlock\">\r\n                      <span>Адрес: </span>\r\n                      <span>{DATA.place.address}</span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                {windowWidth && windowWidth > 760 && (\r\n                  <div className=\"smallMapWrap\">\r\n                    <div className=\"smallMap\">\r\n                      <GooggleMapReact\r\n                        onClick={() => {\r\n                          togglePopup();\r\n                        }}\r\n                        // <script type=\"text/javascript\" src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyAZQdg3dPHXD5Bt-Dgi85wNHG5G_MXpR7g&amp;&libraries=geometry,places\"></script>\r\n                        bootstrapURLKeys={{\r\n                          key: API_KEY\r\n                        }}\r\n                        defaultCenter={{\r\n                          lat: geoposition[0],\r\n                          lng: geoposition[1]\r\n                        }}\r\n                        defaultZoom={10}\r\n                      >\r\n                        <Marker lat={geoposition[0]} lng={geoposition[1]}>\r\n                          <button className=\"mapMarkerCompany\">\r\n                            <img\r\n                              alt=\"img\"\r\n                              src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n                            ></img>\r\n                          </button>\r\n                        </Marker>\r\n                      </GooggleMapReact>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div className=\"type\">{DATA.place.categories[0].name}</div>\r\n            </div>\r\n            {!!windowWidth && windowWidth <= 760 && (\r\n              <div className=\"smallMapWrap\">\r\n                <div className=\"smallMap\">\r\n                  <GooggleMapReact\r\n                    onClick={() => {\r\n                      togglePopup();\r\n                    }}\r\n                    bootstrapURLKeys={{\r\n                      key: API_KEY\r\n                    }}\r\n                    defaultCenter={{\r\n                      lat: geoposition[0],\r\n                      lng: geoposition[1]\r\n                    }}\r\n                    defaultZoom={10}\r\n                  >\r\n                    <Marker lat={geoposition[0]} lng={geoposition[1]}>\r\n                      <button className=\"mapMarkerCompany\">\r\n                        <img\r\n                          alt=\"img\"\r\n                          src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n                        ></img>\r\n                      </button>\r\n                    </Marker>\r\n                  </GooggleMapReact>\r\n                </div>\r\n                <p className=\"smallMapLocation\">\r\n                  {DATA ? DATA.place.address : \"\"}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n        {!DATA && isLoading && <Loader />}\r\n        {showPopup && (\r\n          <Popup togglePopup={togglePopup}>\r\n            <GooggleMapReact\r\n              style={{ height: \"100%\", width: \"100%\" }}\r\n              bootstrapURLKeys={{\r\n                key: API_KEY\r\n              }}\r\n              defaultCenter={{\r\n                lat: geoposition[0],\r\n                lng: geoposition[1]\r\n              }}\r\n              defaultZoom={10}\r\n            >\r\n              <Marker lat={geoposition[0]} lng={geoposition[1]}>\r\n                <button className=\"mapMarkerCompany\">\r\n                  <img\r\n                    alt=\"img\"\r\n                    src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n                  ></img>\r\n                </button>\r\n              </Marker>\r\n            </GooggleMapReact>\r\n            <div className=\"closeBtn\" onClick={togglePopup}>\r\n              &#215;\r\n            </div>\r\n          </Popup>\r\n        )}\r\n      </div>\r\n      <BottomMenu toSlideFixedBottomMenu={isShowMenu} />\r\n      <SlideSideMenu isShowMenu={isShowMenu} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Company;\r\n","import React, { useState, useRef } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\n\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./auth.css\";\r\n\r\nconst Login = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n  const [isLogin, setIsLogin] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isForgetPass, setIsForgetPass] = useState(false);\r\n  const [allValidationError, setAllValidationError] = useState(\"\");\r\n  const loginRef = useRef(null);\r\n  const [cookies, setCookie, removeCookie] = useCookies([]);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  const userLogin = (email, password) => {\r\n    QUERY({\r\n      query: `mutation {\r\n        login (input: {\r\n            username: \"${email}\",\r\n            password: \"${password}\"\r\n        }) {access_token refresh_token expires_in token_type\r\n          user {id name email}\r\n        }\r\n      }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (!data.errors) {\r\n          console.log(data, \" LOGIN\");\r\n          setCookie(\"origin_data\", data.data.login.access_token);\r\n          setCookie(\"origin_id\", data.data.login.user.id);\r\n\r\n          for (let i = 0; i < loginRef.current.children.length - 1; i++) {\r\n            loginRef.current.children[i].style.boxShadow = \"none\";\r\n          }\r\n\r\n          setAllValidationError(\"\");\r\n          setIsLogin(true);\r\n        } else {\r\n          removeCookie(\"origin_data\");\r\n          removeCookie(\"origin_id\");\r\n\r\n          setAllValidationError(\"Неверный логин либо пароль\");\r\n\r\n          for (let i = 0; i < loginRef.current.children.length - 1; i++) {\r\n            loginRef.current.children[i].style.boxShadow =\r\n              \"0 0 1px 1px rgb(255, 54, 54)\";\r\n          }\r\n          setIsLogin(false);\r\n          console.log(data.errors[0], \"------------------ERR\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        removeCookie(\"origin_data\");\r\n        removeCookie(\"origin_id\");\r\n\r\n        setIsLogin(false);\r\n        console.log(err, \"  *****************ERR\");\r\n      });\r\n  };\r\n\r\n  if (isLogin || Number(cookies.origin_id) === 1) {\r\n    return <Redirect to=\"/editCompany\" />;\r\n  } else {\r\n    return (\r\n      <div\r\n        className=\"Login\"\r\n        onClick={e => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n            hideSideMenu();\r\n          }\r\n        }}\r\n        style={\r\n          isShowMenu\r\n            ? {\r\n                animation: \"toLeft 0.3s ease\",\r\n                position: \"relative\",\r\n                right: \"200px\"\r\n              }\r\n            : {\r\n                animation: \"toRight 0.3s ease\",\r\n                position: \"relative\"\r\n              }\r\n        }\r\n      >\r\n        <Header\r\n          logo\r\n          burger\r\n          toSlideFixedHeader={isShowMenu}\r\n          showSlideSideMenu={showSlideSideMenu}\r\n          showSideMenu={showSideMenu}\r\n        />\r\n        <div className=\"authBlock\">\r\n          <h4>{!isForgetPass ? \"АВТОРИЗАЦИЯ\" : \"ВОССТАНОВЛЕНИЕ ПАРОЛЯ\"}</h4>\r\n          <form\r\n            ref={loginRef}\r\n            onSubmit={e => {\r\n              e.preventDefault();\r\n              !isForgetPass && userLogin(email, password);\r\n            }}\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              name=\"email\"\r\n              placeholder=\"email\"\r\n              value={email}\r\n              onChange={e => {\r\n                setEmail(e.target.value);\r\n              }}\r\n            />\r\n            {!isForgetPass && (\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"password\"\r\n                value={password}\r\n                onChange={e => {\r\n                  setPassword(e.target.value);\r\n                }}\r\n              />\r\n            )}\r\n            {!isForgetPass && <input type=\"submit\" value=\"ВОЙТИ\" />}\r\n            {isForgetPass && <p className=\"btnSubmit\">ОТПРАВИТЬ</p>}\r\n          </form>\r\n          <p\r\n            className=\"forgetPass\"\r\n            onClick={() => {\r\n              setIsForgetPass(prev => !prev);\r\n            }}\r\n          >\r\n            {!isForgetPass ? \"  Забыли пароль?\" : \" Уже есть аккаунт?\"}\r\n            <span className=\"errorField\">\r\n              {!isForgetPass && allValidationError}\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <SlideSideMenu isShowMenu={isShowMenu} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nimport QUERY from \"../../query\";\r\n\r\nimport \"./editCompany.css\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nconst EditCompany = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function(e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const [cookies, setCookie, removeCookie] = useCookies([]);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const [places, setPlaces] = useState([]);\r\n\r\n  useEffect(() => {\r\n    QUERY({\r\n      query: `query {\r\n            places {id name}\r\n          }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (!data.errors) {\r\n          setIsLoading(false);\r\n          setPlaces(data.data.places);\r\n          console.log(data.data.places, \" edit compani  DATA\");\r\n        } else {\r\n          console.log(data.errors, \" ERRORS\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  *****************ERR\");\r\n      });\r\n  }, []);\r\n\r\n  if (!Number(cookies.origin_id)) {\r\n    return <Redirect to=\"/login\" />;\r\n  } else if (Number(cookies.origin_id) !== 1) {\r\n    // Вход под обычным юзером\r\n    // нужно переходить на /admin/id заведения\r\n    return <Redirect to=\"/home\" />;\r\n  } else {\r\n    return (\r\n      <div\r\n        onClick={e => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n            hideSideMenu();\r\n          }\r\n        }}\r\n      >\r\n        <div\r\n          className=\"EditCompany\"\r\n          style={\r\n            isShowMenu\r\n              ? {\r\n                  animation: \"toLeft 0.3s ease\",\r\n                  position: \"relative\",\r\n                  right: \"200px\"\r\n                }\r\n              : {\r\n                  animation: \"toRight 0.3s ease\",\r\n                  position: \"relative\"\r\n                }\r\n          }\r\n          onClick={e => {\r\n            if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n              hideSideMenu();\r\n            }\r\n          }}\r\n        >\r\n          <Header\r\n            logo\r\n            burger\r\n            arrow\r\n            toSlideFixedHeader={isShowMenu}\r\n            showSlideSideMenu={showSlideSideMenu}\r\n            showSideMenu={showSideMenu}\r\n          />\r\n          {!isLoading && (\r\n            <div className=\"editCompanyContent\">\r\n              <h3>СПИСОК СТРИМОВ</h3>\r\n              <ul>\r\n                {places.map(({ id, name }) => (\r\n                  <li key={id}>\r\n                    <Link to={`/admin/${id}`}>{name}</Link>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n          {isLoading && <Loader />}\r\n        </div>\r\n\r\n        <BottomMenu\r\n          style={{ borderTop: \"1px solid #ECECEC\" }}\r\n          toSlideFixedBottomMenu={isShowMenu}\r\n        />\r\n        <SlideSideMenu isShowMenu={isShowMenu} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default EditCompany;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\n\r\nimport QUERY from \"../../query\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport \"./auth.css\";\r\n\r\nconst Registration = () => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [rePassword, setRePassword] = useState(\"\");\r\n\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n  const [cookies, setCookie, removeCookie] = useCookies([]);\r\n  const [allValidationError, setAllValidationError] = useState(null);\r\n  const [oneValidationError, setOneValidationError] = useState(null);\r\n\r\n  const register = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (allValidationError) {\r\n      console.log(allValidationError, \":ASDA\");\r\n      const nameFirstErrInput = Object.keys(allValidationError)[0].split(\r\n        \".\"\r\n      )[1];\r\n\r\n      for (let i = 0; i < register.current.children.length; i++) {\r\n        register.current.children[i].style.boxShadow = \"none\";\r\n      }\r\n\r\n      register.current.children[nameFirstErrInput].style.boxShadow =\r\n        \"0 0 1px 1px rgb(255, 54, 54)\";\r\n\r\n      setOneValidationError(\r\n        allValidationError[`input.${nameFirstErrInput}`][0]\r\n      );\r\n\r\n      // register.current.children;\r\n    }\r\n  }, [allValidationError]);\r\n\r\n  const registration = () => {\r\n    console.log(name, \"-\", email, \"-\", password, \"-\", rePassword);\r\n    QUERY({\r\n      query: `mutation {\r\n        register (input: {\r\n          name: \"${name}\",\r\n            email: \"${email}\",\r\n            password: \"${password}\"\r\n            password_confirmation: \"${rePassword}\"\r\n        }) {status\r\n          tokens{access_token refresh_token expires_in token_type\r\n             user{id name email }\r\n         }}\r\n      }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (!data.errors) {\r\n          console.log(data.data.register, \" DATA REGISTRATION\");\r\n          setCookie(\"origin_data\", data.data.register.tokens.access_token);\r\n          setCookie(\"origin_id\", data.data.register.tokens.user.id);\r\n\r\n          setName(\"\");\r\n          setEmail(\"\");\r\n          setPassword(\"\");\r\n          setRePassword(\"\");\r\n          setIsSuccess(true);\r\n        } else {\r\n          removeCookie(\"origin_data\");\r\n          removeCookie(\"origin_id\");\r\n\r\n          setAllValidationError(data.errors[0].extensions.validation);\r\n\r\n          console.log(data.errors[0].extensions.validation, \"=====validation\");\r\n          console.log(data.errors, \"------------------ERR\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        removeCookie(\"origin_data\");\r\n        removeCookie(\"origin_id\");\r\n        console.log(err, \"  *****************ERR\");\r\n      });\r\n  };\r\n\r\n  if (Number(cookies.origin_id)) {\r\n    return <Redirect to=\"/home\" />;\r\n  } else {\r\n    return (\r\n      <div\r\n        className=\"Login\"\r\n        onClick={e => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n            hideSideMenu();\r\n          }\r\n        }}\r\n        style={\r\n          isShowMenu\r\n            ? {\r\n                animation: \"toLeft 0.3s ease\",\r\n                position: \"relative\",\r\n                right: \"200px\"\r\n              }\r\n            : {\r\n                animation: \"toRight 0.3s ease\",\r\n                position: \"relative\"\r\n              }\r\n        }\r\n      >\r\n        <Header\r\n          logo\r\n          burger\r\n          toSlideFixedHeader={isShowMenu}\r\n          showSlideSideMenu={showSlideSideMenu}\r\n          showSideMenu={showSideMenu}\r\n        />\r\n        <div className=\"authBlock\">\r\n          {!isSuccess && (\r\n            <>\r\n              <h4>РЕГИСТРАЦИЯ</h4>\r\n              <form\r\n                ref={register}\r\n                onSubmit={e => {\r\n                  e.preventDefault();\r\n                  registration();\r\n                }}\r\n              >\r\n                <input\r\n                  type=\"name\"\r\n                  name=\"name\"\r\n                  placeholder=\"Имя\"\r\n                  value={name}\r\n                  onChange={e => {\r\n                    setName(e.target.value);\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"email\"\r\n                  placeholder=\"E-mail\"\r\n                  value={email}\r\n                  onChange={e => {\r\n                    setEmail(e.target.value);\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"Пароль\"\r\n                  value={password}\r\n                  onChange={e => {\r\n                    setPassword(e.target.value);\r\n                  }}\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"re_password\"\r\n                  placeholder=\"Повтор пароля\"\r\n                  value={rePassword}\r\n                  onChange={e => {\r\n                    setRePassword(e.target.value);\r\n                  }}\r\n                />\r\n                <input type=\"submit\" value=\"Зарегистрироваться\" />\r\n              </form>\r\n              <Link className=\"forgetPass\" to=\"/login\">\r\n                Уже есть аккаунт?\r\n                <p className=\"errorField\"> {oneValidationError}</p>\r\n              </Link>\r\n            </>\r\n          )}\r\n          {isSuccess && (\r\n            <>\r\n              <h4>ПОЗДРАВЛЯЕМ!</h4>\r\n              <p className=\"successText\">Вы успешно прошли регистрацию!</p>\r\n              <Link to=\"/home\" className=\"btnSubmit\">\r\n                ПЕРЕЙТИ НА ГЛАВНУЮ\r\n              </Link>\r\n            </>\r\n          )}\r\n        </div>\r\n        <SlideSideMenu isShowMenu={isShowMenu} />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Registration;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport GooggleMapReact from \"google-map-react\";\r\nimport fetchGoogleMaps from \"fetch-google-maps\";\r\n\r\nimport { useCookies } from \"react-cookie\";\r\nimport ReactHLS from \"react-hls\";\r\nimport Header from \"../../components/header/Header\";\r\nimport SlideSideMenu from \"../../components/slideSideMenu/SlideSideMenu\";\r\nimport BottomMenu from \"../../components/bottomMenu/BottomMenu\";\r\nimport Popup from \"../../components/popup/Popup\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport QUERY from \"../../query\";\r\nimport { API_KEY } from \"../../constants\";\r\n\r\nimport \"./admin.css\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst TimePicker = ({ timePickerName, setTime }) => {\r\n  const [hours, setHours] = useState(\"00\");\r\n  const [minutes, setMinutes] = useState(\"00\");\r\n\r\n  const clickHandlerTop = (e, max) => {\r\n    e.target.nextSibling.innerText = +e.target.nextSibling.innerText + 1;\r\n    if (+e.target.nextSibling.innerText === max) {\r\n      e.target.nextSibling.innerText = 0;\r\n    }\r\n    if (+e.target.nextSibling.innerText < 10) {\r\n      e.target.nextSibling.innerText = \"0\" + e.target.nextSibling.innerText;\r\n    }\r\n    if (max === 24) {\r\n      setHours(e.target.nextSibling.innerText);\r\n    } else {\r\n      setMinutes(e.target.nextSibling.innerText);\r\n    }\r\n  };\r\n\r\n  const clickHandlerBottom = (e, max) => {\r\n    if (+e.target.previousSibling.innerText === 0) {\r\n      e.target.previousSibling.innerText = max;\r\n    }\r\n    e.target.previousSibling.innerText =\r\n      +e.target.previousSibling.innerText - 1;\r\n\r\n    if (e.target.previousSibling.innerText < 10) {\r\n      e.target.previousSibling.innerText =\r\n        \"0\" + e.target.previousSibling.innerText;\r\n    }\r\n    if (max === 24) {\r\n      setHours(e.target.previousSibling.innerText);\r\n    } else {\r\n      setMinutes(e.target.previousSibling.innerText);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTime(hours, minutes);\r\n  }, [hours, minutes]);\r\n\r\n  return (\r\n    <div className=\"timePickerWrap\">\r\n      <p className=\"timePickerName\">{timePickerName}</p>\r\n      <div className=\"timePicker\">\r\n        <div className=\"timePickerHoursWrap\">\r\n          <span\r\n            className=\"topArrow\"\r\n            onClick={e => {\r\n              clickHandlerTop(e, 24);\r\n            }}\r\n          ></span>\r\n          <p className=\"timePickerHours\">00</p>\r\n          <span\r\n            className=\"bottomArrow\"\r\n            onClick={e => {\r\n              clickHandlerBottom(e, 24);\r\n            }}\r\n          ></span>\r\n        </div>\r\n        <p className=\"twoDots\">:</p>\r\n        <div className=\"timePickerMinutesWrap\">\r\n          <span\r\n            className=\"topArrow\"\r\n            onClick={e => {\r\n              clickHandlerTop(e, 60);\r\n            }}\r\n          ></span>\r\n          <p className=\"timePickerMinutes\">00</p>\r\n          <span\r\n            className=\"bottomArrow\"\r\n            onClick={e => {\r\n              clickHandlerBottom(e, 60);\r\n            }}\r\n          ></span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Marker = ({ children }) => children;\r\n\r\nconst Admin = props => {\r\n  const [showSlideSideMenu, setShowSlideSideMenu] = useState(false);\r\n  const [isShowMenu, setIsShowMenu] = useState(false);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [DATA, setDATA] = useState([]);\r\n  const [showPopupDatePicker, setShowPopapDatePicker] = useState(false);\r\n  const [showPopupGoogleMap, setShowPopapGoogleMap] = useState(false);\r\n  const [startTimePicker, setStartTimePicker] = useState(\"00:00\");\r\n  const [endTimePicker, setEndTimePicker] = useState(\"00:00\");\r\n  const [clickedTime, setClickedTime] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [centerOfMap, setCenterOfMap] = useState({\r\n    lat: 53.904577,\r\n    lng: 27.557328\r\n  });\r\n  const fileInput = useRef(null);\r\n  const [cookies, setCookie, removeCookie] = useCookies([]);\r\n\r\n  useEffect(() => {\r\n    fetchGoogleMaps({\r\n      apiKey: API_KEY,\r\n      language: \"ru\",\r\n      libraries: [\"places\"]\r\n    }).then(Maps => {\r\n      const geocoder = new Maps.Geocoder();\r\n\r\n      // КООРДИНАТЫ В АДРЕС\r\n      geocoder.geocode(\r\n        {\r\n          location: {\r\n            lat: parseFloat(centerOfMap.lat),\r\n            lng: parseFloat(centerOfMap.lng)\r\n          }\r\n        },\r\n        (results, status) => {\r\n          if (status === \"OK\") {\r\n            if (results[0]) {\r\n              console.log(\r\n                results[0].formatted_address,\r\n                \"-----formatted_address\"\r\n              );\r\n            } else {\r\n              console.log(\"No results found\");\r\n            }\r\n          } else {\r\n            console.log(\"Geocoder failed due to: \" + status);\r\n          }\r\n        }\r\n      );\r\n      // АВТОЗАВПОЛНЕНИЕ ИНПУТА\r\n      const addressId = document.querySelector(\"#addressInput\");\r\n      const autocomplete = new Maps.places.Autocomplete(addressId, {});\r\n\r\n      Maps.event.addListener(autocomplete, \"place_changed\", function() {\r\n        const place = autocomplete.getPlace();\r\n        console.log(place.address_components, \" !!__!!!___!!!!\");\r\n      });\r\n\r\n      // ИЗ УЛИЦЫ В КООРДИНАТЫ\r\n      geocoder.geocode(\r\n        { address: \"улица Янки Мавра, Минск, Беларусь\" },\r\n        function(results, status) {\r\n          console.log(results, \" ---RES---\", status);\r\n\r\n          if (status == window.google.maps.GeocoderStatus.OK) {\r\n            console.log(results[0].geometry.location.lat());\r\n            console.log(results[0].geometry.location.lng());\r\n          } else {\r\n            console.log(\r\n              \"Geocode was not successful for the following reason: \",\r\n              status\r\n            );\r\n          }\r\n        }\r\n      );\r\n    });\r\n  }, [centerOfMap]);\r\n\r\n  const refreshData = () => {\r\n    QUERY({\r\n      query: `query {\r\n      place (id:\"${props.match.params.id}\") {\r\n        id name address description logo menu actions coordinates\r\n        streams{url name id preview\r\n          schedules{id day start_time end_time}\r\n        }\r\n        schedules {id day start_time end_time}\r\n        categories {id name}\r\n      }\r\n  }`\r\n    })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (!data.errors) {\r\n          setIsLoading(false);\r\n          console.log(data, \" %%%%%%%%%%%%%%%%%\");\r\n          setDATA(data.data.place);\r\n        } else {\r\n          console.log(data.errors, \" ERRORS\");\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err, \"  *****************ERR\");\r\n      });\r\n  };\r\n\r\n  const setWorkTimeOfOneDay = () => {\r\n    if (cookies.origin_data) {\r\n      QUERY(\r\n        {\r\n          query: `mutation {\r\n          updateSchedule(\r\n            input:{\r\n              id:\"${clickedTime.id}\"\r\n              start_time: \"${startTimePicker}\"\r\n              end_time: \"${endTimePicker}\"\r\n            }\r\n          ){id day start_time end_time}\r\n        }`\r\n        },\r\n        cookies.origin_data\r\n      )\r\n        .then(res => {\r\n          return res.json();\r\n        })\r\n        .then(data => {\r\n          if (!data.errors) {\r\n            refreshData();\r\n            console.log(data, \" ??????????????????\");\r\n          } else {\r\n            console.log(data.errors, \" ERRORS\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err, \"  *****************ERR\");\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (cookies.origin_data) {\r\n      refreshData();\r\n    }\r\n  }, []);\r\n\r\n  const hideSideMenu = () => {\r\n    setShowSlideSideMenu(false);\r\n    document.body.style.overflow = \"visible\";\r\n    setIsShowMenu(false);\r\n  };\r\n\r\n  const showSideMenu = () => {\r\n    setShowSlideSideMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n    setIsShowMenu(true);\r\n  };\r\n\r\n  window.onresize = function(e) {\r\n    hideSideMenu();\r\n  };\r\n\r\n  const accordionHandler = e => {\r\n    if (e.target.nextSibling.style.maxHeight) {\r\n      e.target.nextSibling.style.maxHeight = null;\r\n      e.target.firstElementChild.style.transform = \"rotate(0deg)\";\r\n    } else {\r\n      e.target.nextSibling.style.maxHeight =\r\n        e.target.nextSibling.scrollHeight + \"px\";\r\n      e.target.firstElementChild.style.transform = \"rotate(180deg)\";\r\n    }\r\n  };\r\n\r\n  const togglePopupDatePicker = () => {\r\n    showPopupDatePicker\r\n      ? setShowPopapDatePicker(false)\r\n      : setShowPopapDatePicker(true);\r\n  };\r\n\r\n  const togglePopupGoogleMap = () => {\r\n    showPopupGoogleMap\r\n      ? setShowPopapGoogleMap(false)\r\n      : setShowPopapGoogleMap(true);\r\n  };\r\n\r\n  if (showPopupDatePicker || showPopupGoogleMap) {\r\n    document.body.style.overflow = \"hidden\";\r\n  } else {\r\n    document.body.style.overflow = \"auto\";\r\n  }\r\n\r\n  const setStartTime = (h, m) => {\r\n    setStartTimePicker(\"\" + h + \":\" + m);\r\n  };\r\n  const setEndTime = (h, m) => {\r\n    setEndTimePicker(\"\" + h + \":\" + m);\r\n  };\r\n\r\n  const selectFile = e => {\r\n    setSelectedFile(e.target.files[0]);\r\n  };\r\n\r\n  const uploadFile = e => {\r\n    if (selectedFile) {\r\n      const fd = new FormData();\r\n      fd.append(\"image\", selectedFile, selectedFile.name);\r\n      console.log(selectedFile, \"---selecteedFile\");\r\n      console.log(fd, \"---fd\");\r\n    }\r\n  };\r\n\r\n  if (!Number(cookies.origin_id)) {\r\n    return <Redirect to=\"/login\" />;\r\n  } else {\r\n    return (\r\n      <div\r\n        onClick={e => {\r\n          if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n            hideSideMenu();\r\n          }\r\n        }}\r\n      >\r\n        <div\r\n          className=\"Admin\"\r\n          style={\r\n            isShowMenu\r\n              ? {\r\n                  animation: \"toLeft 0.3s ease\",\r\n                  position: \"relative\",\r\n                  right: \"200px\"\r\n                }\r\n              : {\r\n                  animation: \"toRight 0.3s ease\",\r\n                  position: \"relative\"\r\n                }\r\n          }\r\n          onClick={e => {\r\n            if (e.target.className !== \"SlideSideMenu\" && showSlideSideMenu) {\r\n              hideSideMenu();\r\n            }\r\n          }}\r\n        >\r\n          <Header\r\n            logo\r\n            burger\r\n            arrow\r\n            toSlideFixedHeader={isShowMenu}\r\n            showSlideSideMenu={showSlideSideMenu}\r\n            showSideMenu={showSideMenu}\r\n          />\r\n          {isLoading && <Loader />}\r\n          {!isLoading && (\r\n            <div className=\"adminContent\">\r\n              {!!DATA.streams && (\r\n                <ReactHLS\r\n                  url={DATA.streams[0].url}\r\n                  controls={true}\r\n                  hlsConfig={{}}\r\n                  videoProps={{\r\n                    autoPlay: true,\r\n                    crossOrigin: \"anonymous\",\r\n                    preload: \"metadata\"\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              <div className=\"adminMenuContainer\">\r\n                <div className=\"menuBlockWrap profile\">\r\n                  <div\r\n                    className=\"menuBlock\"\r\n                    onClick={e => {\r\n                      accordionHandler(e);\r\n                    }}\r\n                  >\r\n                    Профиль заведения\r\n                    <span className=\"rotateArrow\"></span>\r\n                  </div>\r\n                  <div className=\"drDownWrap\">\r\n                    <div className=\"uploadFileContainer\">\r\n                      <h3>Загрузка изображения профиля</h3>\r\n                      <div className=\"uploadFile\">\r\n                        <input\r\n                          type=\"file\"\r\n                          ref={fileInput}\r\n                          style={{ display: \"none\" }}\r\n                          onChange={selectFile}\r\n                        />\r\n                        <div\r\n                          className=\"pickFileBtn\"\r\n                          onClick={() => {\r\n                            fileInput.current.click();\r\n                          }}\r\n                        >\r\n                          <p className=\"chooseImg\"> Выбрать изображение</p>\r\n                        </div>\r\n\r\n                        <div className=\"uploadFileBtn\" onClick={uploadFile}>\r\n                          Загрузить\r\n                        </div>\r\n                      </div>\r\n                      <p className=\"fileName\">\r\n                        Название:{\" \"}\r\n                        {selectedFile\r\n                          ? selectedFile.name\r\n                          : \"Изображение отсутствует \"}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"pickAddress\">\r\n                      <h3>Выбрать адрес заведения</h3>\r\n                      <p className=\"curAddress\">Текущий адрес</p>\r\n                      <p\r\n                        onClick={() => {\r\n                          togglePopupGoogleMap();\r\n                        }}\r\n                        className=\"chooseAddressBtn\"\r\n                      >\r\n                        Выбрать адрес\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"menuBlockWrap workSchedule\">\r\n                  <div\r\n                    className=\"menuBlock\"\r\n                    onClick={e => {\r\n                      accordionHandler(e);\r\n                    }}\r\n                  >\r\n                    График работы\r\n                    <span className=\"rotateArrow\"></span>\r\n                  </div>\r\n                  <div className=\"drDownWrap\">\r\n                    <table>\r\n                      <tbody>\r\n                        {!!DATA.schedules &&\r\n                          DATA.schedules.map((el, i) => (\r\n                            <tr key={i}>\r\n                              <td>{el.day}</td>\r\n                              <td\r\n                                onClick={() => {\r\n                                  togglePopupDatePicker();\r\n                                  setClickedTime(el);\r\n                                }}\r\n                              >\r\n                                {el.start_time} - {el.end_time}\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n                <div className=\"menuBlockWrap streamSchedule\">\r\n                  <div\r\n                    className=\"menuBlock\"\r\n                    onClick={e => {\r\n                      accordionHandler(e);\r\n                    }}\r\n                  >\r\n                    График трансляций\r\n                    <span className=\"rotateArrow\"></span>\r\n                  </div>\r\n                  <div className=\"drDownWrap\">\r\n                    <table>\r\n                      <tbody>\r\n                        {!!DATA &&\r\n                          DATA.streams &&\r\n                          DATA.streams[0].schedules.map((el, i) => {\r\n                            if (i < 7) {\r\n                              return (\r\n                                <tr key={i}>\r\n                                  <td>{el.day}</td>\r\n                                  <td\r\n                                    onClick={() => {\r\n                                      togglePopupDatePicker();\r\n                                      setClickedTime(el);\r\n                                    }}\r\n                                  >\r\n                                    {el.start_time} - {el.end_time}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            }\r\n                          })}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n                <div className=\"menuBlockWrap address\">\r\n                  <div\r\n                    className=\"menuBlock\"\r\n                    onClick={e => {\r\n                      accordionHandler(e);\r\n                    }}\r\n                  >\r\n                    Адрес заведения\r\n                    <span className=\"rotateArrow\"></span>\r\n                  </div>\r\n                  <div className=\"drDownWrap\">В разработке</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <BottomMenu\r\n          style={{ borderTop: \"1px solid #ECECEC\" }}\r\n          toSlideFixedBottomMenu={isShowMenu}\r\n        />\r\n        <SlideSideMenu isShowMenu={isShowMenu} />\r\n        {showPopupDatePicker && (\r\n          <Popup\r\n            togglePopup={togglePopupDatePicker}\r\n            wrpaStyle={{ alignItems: \"flex-end\" }}\r\n            style={{}}\r\n          >\r\n            <div className=\"popupWrapper\">\r\n              <span\r\n                className=\"closePopupBtn\"\r\n                onClick={togglePopupDatePicker}\r\n              ></span>\r\n              <div className=\"TimePickerContainer\">\r\n                <TimePicker timePickerName=\"Пн\" setTime={setStartTime} />\r\n                <span className=\"space\"></span>\r\n                <TimePicker timePickerName=\"Вт\" setTime={setEndTime} />\r\n              </div>\r\n              <p className=\"makeAsDayOff\">Сделать выходным</p>\r\n              <div\r\n                className=\"saveBtn\"\r\n                onClick={() => {\r\n                  togglePopupDatePicker();\r\n                  setWorkTimeOfOneDay();\r\n                }}\r\n              >\r\n                Сохранить\r\n              </div>\r\n            </div>\r\n          </Popup>\r\n        )}\r\n        {showPopupGoogleMap && (\r\n          <Popup togglePopup={togglePopupGoogleMap}>\r\n            <input\r\n              type=\"text\"\r\n              id=\"addressInput\"\r\n              className=\"addressInput\"\r\n            ></input>\r\n            <GooggleMapReact\r\n              style={{ height: \"100%\", width: \"100%\" }}\r\n              bootstrapURLKeys={{\r\n                key: API_KEY\r\n              }}\r\n              defaultCenter={{\r\n                lat: 53.904577,\r\n                lng: 27.557328\r\n              }}\r\n              defaultZoom={11}\r\n              onChange={data => {\r\n                setCenterOfMap(data.center);\r\n              }}\r\n            >\r\n              {/* <Marker lat={centerOfMap.lat} lng={centerOfMap.lng}>\r\n                <button className=\"mapMarkerCompany\">\r\n                  <img\r\n                    alt=\"!\"\r\n                    src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n                  ></img>\r\n                </button>\r\n              </Marker> */}\r\n            </GooggleMapReact>\r\n            <div className=\"closeBtn\" onClick={togglePopupGoogleMap}>\r\n              &#215;\r\n            </div>\r\n            <img\r\n              className=\"pointPosition\"\r\n              alt=\"!\"\r\n              src={`${process.env.PUBLIC_URL}/img/location.png`}\r\n            />\r\n          </Popup>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Admin;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  format,\r\n  addMonths,\r\n  subMonths,\r\n  startOfWeek,\r\n  addDays,\r\n  startOfMonth,\r\n  endOfMonth,\r\n  endOfWeek,\r\n  isSameMonth,\r\n  isSameDay,\r\n  addYears,\r\n  subYears,\r\n  startOfYear,\r\n  getWeekOfMonth\r\n} from \"date-fns\";\r\n\r\nimport \"./calendar.css\";\r\n\r\nimport { ru } from \"date-fns/locale\";\r\nimport buildLocalizeFn from \"date-fns/locale/_lib/buildLocalizeFn\";\r\n\r\nconst monthValues = {\r\n  narrow: [\"Я\", \"Ф\", \"М\", \"А\", \"М\", \"И\", \"И\", \"А\", \"С\", \"О\", \"Н\", \"Д\"],\r\n  abbreviated: [\r\n    \"янв.\",\r\n    \"фев.\",\r\n    \"март\",\r\n    \"апр.\",\r\n    \"май\",\r\n    \"июнь\",\r\n    \"июль\",\r\n    \"авг.\",\r\n    \"сент.\",\r\n    \"окт.\",\r\n    \"нояб.\",\r\n    \"дек.\"\r\n  ],\r\n  wide: [\r\n    \"январь\",\r\n    \"февраль\",\r\n    \"март\",\r\n    \"апрель\",\r\n    \"май\",\r\n    \"июнь\",\r\n    \"июль\",\r\n    \"август\",\r\n    \"сентябрь\",\r\n    \"октябрь\",\r\n    \"ноябрь\",\r\n    \"декабрь\"\r\n  ]\r\n};\r\n\r\nru.localize.month = buildLocalizeFn({\r\n  values: monthValues,\r\n  defaultWidth: \"wide\",\r\n  defaultFormattingWidth: \"wide\"\r\n});\r\n\r\nconst Calendar = () => {\r\n  const [currentMonth, setCurrentMonth] = useState(new Date());\r\n  const [selectedDate, setSelectedDate] = useState(new Date());\r\n\r\n  const [currentYear, setCurrentYear] = useState(new Date());\r\n  const [showTopFixedBlock, setShowTopFixedBloc] = useState(false);\r\n\r\n  const [choosedDayMonth, setChoosedDayMonth] = useState(false);\r\n\r\n  document.body.style.background = \"#fff\";\r\n\r\n  const renderHeader = allMonths => {\r\n    const dateFormat = \"MMMM\";\r\n    return (\r\n      <div className=\"monthNameBigCalendar\">\r\n        <div className=\"\">\r\n          {!allMonths && (\r\n            <div className=\"icon\" onClick={prevMonth}>\r\n              chevron_left\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col col-center\">\r\n          <span>\r\n            {format(allMonths || currentMonth, dateFormat, { locale: ru })}\r\n          </span>\r\n        </div>\r\n        {!allMonths && (\r\n          <div className=\"\" onClick={nextMonth}>\r\n            <div className=\"icon\">chevron_right</div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderDays = () => {\r\n    const dateFormat = \"E\";\r\n    const days = [];\r\n    let startDate = startOfWeek(currentMonth, { weekStartsOn: 1 });\r\n    for (let i = 0; i < 7; i++) {\r\n      days.push(\r\n        <div\r\n          className=\"col col-center\"\r\n          key={i}\r\n          style={\r\n            format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n            format(addDays(startDate, i), \"E\") === \"Sun\"\r\n              ? { color: \"#f86262\" }\r\n              : {}\r\n          }\r\n        >\r\n          {format(addDays(startDate, i), \"E\") === \"Sat\"\r\n            ? \"Сб\"\r\n            : format(addDays(startDate, i), dateFormat, { locale: ru }).slice(\r\n                0,\r\n                2\r\n              )}\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div\r\n        className=\"days row\"\r\n        style={{\r\n          background: \"rgb(243, 242, 242)\",\r\n          boxShadow: \"0 0 1px 0 rgba(0,0,0,0.05)\"\r\n        }}\r\n      >\r\n        {days}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const onDateClick = (day, e) => {\r\n    document.body.style.overflow = \"hidden\";\r\n    setSelectedDate(day);\r\n\r\n    const currentRow = e.target.closest(\".animationRow\");\r\n    const currentCalendar = e.target.closest(\".animationMonthCalendar\");\r\n    const animationMonthCalendar = document.getElementsByClassName(\r\n      \"animationMonthCalendar\"\r\n    );\r\n    const curCalendarId = document.getElementById(format(selectedDate, \"MMMM\"));\r\n    const calendarBody = curCalendarId.querySelector(\".body\");\r\n    const animationRows = calendarBody.querySelectorAll(\".animationRow\");\r\n\r\n    for (let j = 0; j < 12; j++) {\r\n      if (animationRows[j]) {\r\n        animationRows[j].style.height = \"50px\";\r\n      }\r\n      animationMonthCalendar[j].style.display = \"none\";\r\n    }\r\n\r\n    currentCalendar.style.display = \"block\";\r\n    currentCalendar.style.marginTop =\r\n      100 - getWeekOfMonth(day, { weekStartsOn: 1 }) * 50 + \"px\";\r\n\r\n    setTimeout(() => {\r\n      currentRow.style.height = window.innerHeight + \"px\";\r\n    }, 350);\r\n\r\n    setChoosedDayMonth(format(day, \"MMMM yyyy\", { locale: ru }));\r\n  };\r\n\r\n  const renderCells = allMonths => {\r\n    const monthStart = startOfMonth(allMonths || currentMonth);\r\n    const monthEnd = endOfMonth(monthStart);\r\n    const startDate = startOfWeek(monthStart, { weekStartsOn: 1 });\r\n    const endDate = endOfWeek(monthEnd);\r\n\r\n    const dateFormat = \"d\";\r\n    const rows = [];\r\n    let days = [];\r\n    let day = startDate;\r\n    let formattedDate = \"\";\r\n\r\n    while (day <= endDate) {\r\n      for (let i = 0; i < 7; i++) {\r\n        formattedDate = format(day, dateFormat);\r\n        const cloneDay = day;\r\n        days.push(\r\n          <div\r\n            className={`col cell outline ${\r\n              !isSameMonth(day, monthStart)\r\n                ? !choosedDayMonth\r\n                  ? \"disabled\"\r\n                  : \"disabledOpacity\"\r\n                : isSameDay(day, selectedDate)\r\n                ? \"selected\"\r\n                : \"\"\r\n            }`}\r\n            style={\r\n              format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n              format(addDays(startDate, i), \"E\") === \"Sun\"\r\n                ? isSameMonth(day, monthStart)\r\n                  ? { color: \"#f86262\", height: \"50px\" }\r\n                  : { height: \"50px\" }\r\n                : { height: \"50px\" }\r\n            }\r\n            key={day}\r\n            onClick={e => {\r\n              !e.target.classList.contains(\"disabled\") &&\r\n                !e.target.classList.contains(\"disabledOpacity\") &&\r\n                !e.target.classList.contains(\"numberDisabled\") &&\r\n                onDateClick(cloneDay, e);\r\n            }}\r\n          >\r\n            <span\r\n              className={\r\n                !isSameMonth(day, monthStart)\r\n                  ? \"number numberDisabled\"\r\n                  : \"number\"\r\n              }\r\n            >\r\n              {formattedDate}\r\n            </span>\r\n          </div>\r\n        );\r\n        day = addDays(day, 1);\r\n      }\r\n      rows.push(\r\n        <div\r\n          className=\"row animationRow\"\r\n          key={day}\r\n          style={{ height: \"50px\", overflow: \"hidden\" }}\r\n        >\r\n          {days}\r\n          <div className=\"calendarDayDescription\">\r\n            <p>{format(selectedDate, \"EEEE d MMMM yyyy\", { locale: ru })} г.</p>\r\n          </div>\r\n        </div>\r\n      );\r\n      days = [];\r\n    }\r\n    return <div className=\"body\">{rows}</div>;\r\n  };\r\n\r\n  const nextMonth = () => {\r\n    setCurrentMonth(addMonths(currentMonth, 1));\r\n  };\r\n  const prevMonth = () => {\r\n    setCurrentMonth(subMonths(currentMonth, 1));\r\n  };\r\n\r\n  // ==================IOS START======================\r\n  //ALL MONTHS\r\n  let yearStart = startOfYear(currentYear);\r\n  const monthsOfYear = [];\r\n  for (let i = 0; i < 12; i++) {\r\n    monthsOfYear.push(yearStart);\r\n    yearStart = addMonths(yearStart, 1);\r\n  }\r\n\r\n  const nextIosYear = () => {\r\n    setCurrentYear(addYears(currentYear, 1));\r\n  };\r\n  const prevIosYear = () => {\r\n    setCurrentYear(subYears(currentYear, 1));\r\n  };\r\n\r\n  const renderIosHeader = () => {\r\n    const dateFormat = \"yyyy\";\r\n    return (\r\n      <div className=\"headerIos rowIos \">\r\n        <div className=\"\">\r\n          <div className=\"icon\" onClick={prevIosYear}>\r\n            chevron_left\r\n          </div>\r\n        </div>\r\n        <div className=\"headerIosYear\">\r\n          <span>{format(currentYear, dateFormat, { locale: ru })}</span>\r\n        </div>\r\n        <div className=\"\" onClick={nextIosYear}>\r\n          <div className=\"icon\">chevron_right</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderIosCells = el => {\r\n    const monthStart = startOfMonth(el);\r\n    const monthEnd = endOfMonth(monthStart);\r\n    const startDate = startOfWeek(monthStart, { weekStartsOn: 1 });\r\n    const endDate = endOfWeek(monthEnd);\r\n\r\n    const clickOnMonth = () => {\r\n      setCurrentMonth(el);\r\n\r\n      const iosCalendar = document.getElementsByClassName(\"iosCalendar\")[0];\r\n      const bigCalendarWrap = document.getElementsByClassName(\r\n        \"bigCalendarWrap\"\r\n      )[0];\r\n\r\n      iosCalendar.style.opacity = \"0\";\r\n      iosCalendar.style.zIndex = 0;\r\n\r\n      bigCalendarWrap.style.opacity = \"1\";\r\n      bigCalendarWrap.style.display = \"block\";\r\n      bigCalendarWrap.style.zIndex = 1;\r\n\r\n      setShowTopFixedBloc(true);\r\n\r\n      setTimeout(() => {\r\n        document\r\n          .getElementById(format(el, \"MMMM\"))\r\n          .scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n        window.scrollTo(0, window.pageYOffset);\r\n      }, 500);\r\n    };\r\n\r\n    const dateFormat = \"d\";\r\n    const rows = [];\r\n    let days = [];\r\n    let day = startDate;\r\n    let formattedDate = \"\";\r\n    while (day <= endDate) {\r\n      for (let i = 0; i < 7; i++) {\r\n        formattedDate = format(day, dateFormat);\r\n        days.push(\r\n          <div\r\n            className={`col cellIos ${\r\n              !isSameMonth(day, monthStart)\r\n                ? \"disabledIos\"\r\n                : isSameDay(day, selectedDate)\r\n                ? \"selectedIos\"\r\n                : \"\"\r\n            }`}\r\n            style={{\r\n              height: \"18px\",\r\n              fontSize: \"10px\"\r\n            }}\r\n            key={day}\r\n          >\r\n            <span\r\n              className=\"number\"\r\n              style={\r\n                format(addDays(startDate, i), \"E\") === \"Sat\" ||\r\n                format(addDays(startDate, i), \"E\") === \"Sun\"\r\n                  ? { color: \"#999\", display: \"flex\", alignSelf: \"center\" }\r\n                  : { display: \"flex\", alignSelf: \"center\" }\r\n              }\r\n            >\r\n              {formattedDate}\r\n            </span>\r\n          </div>\r\n        );\r\n        day = addDays(day, 1);\r\n      }\r\n      rows.push(\r\n        <div className=\"rowIos\" key={day}>\r\n          {days}\r\n        </div>\r\n      );\r\n      days = [];\r\n    }\r\n    return (\r\n      <div\r\n        className=\"iosCalendarWrap\"\r\n        onClick={e => {\r\n          clickOnMonth();\r\n        }}\r\n      >\r\n        <p\r\n          className=\"iosMonth\"\r\n          style={\r\n            isSameMonth(el, new Date())\r\n              ? { color: \"rgb(248, 98, 98)\" }\r\n              : { color: \"black\" }\r\n          }\r\n        >\r\n          {format(el, \"MMMM\", { locale: ru })}\r\n        </p>\r\n        <div className=\"body\">{rows}</div>\r\n      </div>\r\n    );\r\n  };\r\n  // ==================IOS END====================\r\n\r\n  return (\r\n    <div className=\"calendar\" style={{ border: \"none\" }}>\r\n      <div className=\"iosCalendar\">\r\n        {renderIosHeader()}\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            flexWrap: \"wrap\",\r\n            margin: \"5px\",\r\n            background: \"#fff\"\r\n          }}\r\n        >\r\n          {monthsOfYear.map((el, i) => {\r\n            return (\r\n              <div className=\"animationCalendarBlock\" key={i}>\r\n                {renderIosCells(el)}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <div>\r\n        {\r\n          <div\r\n            className={\r\n              showTopFixedBlock ? \"fixedBlocksShow\" : \"fixedBlocksHide\"\r\n            }\r\n          >\r\n            <p\r\n              className=\"topArrowWrap\"\r\n              onClick={e => {\r\n                if (!choosedDayMonth) {\r\n                  // CLICK по    < 2020 >\r\n                  const iosCalendar = document.getElementsByClassName(\r\n                    \"iosCalendar\"\r\n                  )[0];\r\n                  const bigCalendarWrap = document.getElementsByClassName(\r\n                    \"bigCalendarWrap\"\r\n                  )[0];\r\n                  setShowTopFixedBloc(false);\r\n\r\n                  iosCalendar.style.opacity = \"1\";\r\n                  iosCalendar.style.zIndex = 1;\r\n\r\n                  bigCalendarWrap.style.opacity = \"0\";\r\n                  bigCalendarWrap.style.display = \"none\";\r\n                } else {\r\n                  // CLICK по    < январь 2020\r\n                  document.body.style.overflow = \"auto\";\r\n\r\n                  const animationMonthCalendar = document.getElementsByClassName(\r\n                    \"animationMonthCalendar\"\r\n                  );\r\n\r\n                  const curCalendarId = document.getElementById(\r\n                    format(selectedDate, \"MMMM\")\r\n                  );\r\n                  const calendarBody = curCalendarId.querySelector(\".body\");\r\n                  const animationRows = calendarBody.querySelectorAll(\r\n                    \".animationRow\"\r\n                  );\r\n\r\n                  for (let j = 0; j < 12; j++) {\r\n                    if (animationRows[j]) {\r\n                      animationRows[j].style.height = \"50px\";\r\n                    }\r\n                  }\r\n                  setChoosedDayMonth(false);\r\n\r\n                  setTimeout(() => {\r\n                    for (let i = 0; i < 12; i++) {\r\n                      animationMonthCalendar[i].style.display = \"block\";\r\n                      animationMonthCalendar[i].style.marginTop = 10 + \"px\";\r\n                      if (i === 0) {\r\n                        animationMonthCalendar[i].style.marginTop = 100 + \"px\";\r\n                      }\r\n                    }\r\n                    document\r\n                      .getElementById(format(selectedDate, \"MMMM\"))\r\n                      .scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n                  }, 400);\r\n                }\r\n              }}\r\n            >\r\n              <span className=\"topArrowCalendar\">\r\n                <span>{choosedDayMonth || format(currentYear, \"yyyy\")}</span>\r\n              </span>\r\n            </p>\r\n            {renderDays()}\r\n          </div>\r\n        }\r\n        <div className={`bigCalendarWrap`}>\r\n          {monthsOfYear.map((el, i) => {\r\n            return (\r\n              <div\r\n                key={i}\r\n                id={format(el, \"MMMM\")}\r\n                className=\"animationMonthCalendar\"\r\n                style={\r\n                  ({ margin: \"10px\" },\r\n                  +format(el, \"M\") === 1\r\n                    ? { marginTop: \"100px\" }\r\n                    : { marginTop: \"10px\" })\r\n                }\r\n              >\r\n                {renderHeader(el)}\r\n                {renderCells(el)}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calendar;\r\n","import React, { useState } from \"react\";\n\nimport Home from \"./pages/home/Home\";\nimport Map from \"./pages/map/Map\";\nimport Company from \"./pages/company/Company\";\nimport Login from \"./pages/auth/Login\";\nimport EditCompany from \"./pages/editCompany/EditCompany\";\nimport Registration from \"./pages/auth/Registration\";\nimport Admin from \"./pages/admin/Admin\";\nimport Calendar from \"./components/calendar/Calendar\";\n\nimport \"./App.css\";\n\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nimport { CookiesProvider } from \"react-cookie\";\n\nconst customHistory = createBrowserHistory();\n\nconst App = () => {\n  return (\n    <BrowserRouter history={customHistory}>\n      <CookiesProvider>\n        <div className=\"App\">\n          <Switch>\n            <Route exact path=\"/home/:type?\" component={Home} />\n            <Route path=\"/map\" component={Map} />\n            <Route path=\"/company/:id\" component={Company} />\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/registration\" component={Registration} />\n            <Route path=\"/admin/:id\" component={Admin} />\n            <Route path=\"/calendar\" component={Calendar} />\n            <Route path=\"/editCompany\" component={EditCompany} />\n            <Redirect to=\"/home\" />\n          </Switch>\n        </div>\n      </CookiesProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}